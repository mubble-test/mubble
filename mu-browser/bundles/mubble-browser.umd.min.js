!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common"),require("@angular/flex-layout"),require("@angular/material/core"),require("@angular/material/checkbox"),require("@angular/material/datepicker"),require("@angular/material/form-field"),require("@angular/material/input"),require("@angular/material/select"),require("@angular/material/autocomplete"),require("@angular/material/radio"),require("@angular/material/progress-bar"),require("@angular/material/slider"),require("@angular/material/slide-toggle"),require("@angular/material/button-toggle"),require("@angular/material/menu"),require("@angular/material/card"),require("@angular/material/divider"),require("@angular/router"),require("tslib"),require("hashids"),require("@mubble/core"),require("lodash"),require("lodash/isEqual"),require("@angular/animations"),require("lodash/debounce"),require("rxjs/operators"),require("dexie"),require("lodash/findIndex"),require("reflect-metadata")):"function"==typeof define&&define.amd?define("@mubble/browser",["exports","@angular/core","@angular/forms","@angular/common","@angular/flex-layout","@angular/material/core","@angular/material/checkbox","@angular/material/datepicker","@angular/material/form-field","@angular/material/input","@angular/material/select","@angular/material/autocomplete","@angular/material/radio","@angular/material/progress-bar","@angular/material/slider","@angular/material/slide-toggle","@angular/material/button-toggle","@angular/material/menu","@angular/material/card","@angular/material/divider","@angular/router","tslib","hashids","@mubble/core","lodash","lodash/isEqual","@angular/animations","lodash/debounce","rxjs/operators","dexie","lodash/findIndex","reflect-metadata"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).mubble=t.mubble||{},t.mubble.browser={}),t.ng.core,t.ng.forms,t.ng.common,t.ng.flexLayout,t.ng.material.core,t.ng.material.checkbox,t.ng.material.datepicker,t.ng.material.formField,t.ng.material.input,t.ng.material.select,t.ng.material.autocomplete,t.ng.material.radio,t.ng.material.progressBar,t.ng.material.slider,t.ng.material.slideToggle,t.ng.material.buttonToggle,t.ng.material.menu,t.ng.material.card,t.ng.material.divider,t.ng.router,t.tslib,t.Hashids,t["@mubble/core"],t.lodash,t.isEqual,t.ng.animations,t.debounce,t.rxjs.operators,t.Dexie,t.findIndex)}(this,(function(t,e,n,r,i,s,o,a,c,l,u,p,d,h,m,g,f,v,y,b,w,_,I,P,E,S,C,x,T,A,D){"use strict";function k(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var R=k(I),N=k(S),O=k(x),L=k(A),M=k(D),B=function(){};B.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],B.ctorParameters=function(){return[]},B.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new B},token:B,providedIn:"root"});var F,Y="mui-event";(F=t.EventSystem||(t.EventSystem={})).broadcast=function(t,e,n){n=n||{};for(var r=e.startsWith(Y)?""+e:"mui-event-"+e,i=document.querySelectorAll("."+r),s=new CustomEvent(r,{detail:{data:n,rc:t}}),o=0;o<i.length;o++)i[o].dispatchEvent(s);window.dispatchEvent(s),t.isStatus()&&t.status("EventSystem.broadcast","Completed broadcast of",r,"to",i.length,"dom element(s) and to global components via window")},F.eventToElements=function(t,e,n,r){for(var i=e.startsWith(Y)?""+e:"mui-event-"+e,s=document.querySelectorAll("."+n),o=new CustomEvent(i,{detail:{data:r,rc:t}}),a=0;a<s.length;a++)s[a].dispatchEvent(o);t.isStatus()&&t.status("EventSystem.eventToElement","Completed event dispatch of",i,"to",s.length,"dom element(s)")},F.elementSubscribe=function(t,e,n){e.startsWith(Y)||(e="mui-event-"+e);var r=t.className.split(" ");-1===r.indexOf(e)?(r.push(e),t.className=r.join(" ")):t.removeEventListener(e,n),t.addEventListener(e,n)},F.subscribe=function(t,e,n){t.startsWith(Y)||(t="mui-event-"+t),window.addEventListener(t,e,n)},F.subscribeAll=function(t,e){t.forEach((function(t){t.startsWith(Y)||(t="mui-event-"+t),window.addEventListener(t,e.bind(null,t))}))};var U=function(){function t(){}return t.addClass=function(t){},t.getTransform=function(t,e,n){return{transform:"translate3d("+t+"px, "+e+"px, "+n+"px)"}},t.getPercentTransform=function(t,e){return{transform:"translate3d("+t+"%, "+e+"%, 0)"}},t.setTransform=function(e,n,r,i){e.style.transform=t.getTransform(n,r,i).transform},t.setPercentTransform=function(e,n,r){e.style.transform=t.getPercentTransform(n,r).transform},t.getQuickAnim=function(){return"none"},t}(),V=function(){function t(){}return t.encodeString=function(t,e){for(var n=new R.default(t),r=[],i=0;i<e.length;i++){var s=e.charCodeAt(i);r.push(s)}return n.encode(r)},t.decodeHashids=function(t,e){var n=new R.default(t).decode(e),r="";return n.forEach((function(t){r+=String.fromCharCode(t)})),r},t}(),q=function(t,e){this.fileName=t,this.volume=e,this.fileName="sounds/"+t,this.volume=e||.8};var j=function(){function t(t){this.rc=t,this.SELECT=new q("select.mp3",.4),this.audioMap={},this.rc.setupLogger(this,"AudioFile")}return t.prototype.play=function(t){var e=this.audioMap[t.fileName];e?e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2&&(e.pause(),e.currentTime=0):((e=this.audioMap[t.fileName]=new Audio(t.fileName)).load(),e.volume=t.volume);try{e.play()}catch(e){this.rc.isError()&&this.rc.error(this.rc.getName(this),{fileName:t.fileName},e)}},t}();var H=function(){function t(t,e,n,r){this.value=t,this.elemDirUp=t<e,this.elemLow=this.elemDirUp?t:e,this.elemHigh=this.elemDirUp?e:t,this.contDirUp=n<r,this.contLow=this.contDirUp?n:r,this.contHigh=this.contDirUp?r:n}return t.prototype.compute=function(t){var e=this.value;if(t<=this.contLow)this.value=this.elemDirUp?this.elemLow:this.elemHigh;else if(t>=this.contHigh)this.value=this.elemDirUp?this.elemHigh:this.elemLow;else{var n=this.contHigh-this.contLow,r=t-this.contLow,i=this.elemHigh-this.elemLow;this.elemDirUp?this.value=this.elemLow+i*r/n:this.value=this.elemHigh-i*r/n}return this.value!==e},t.prototype.getDecimalValue=function(t){return Number(this.value.toFixed(t||0))},t.prototype.isCloserToInit=function(){return this.value-this.elemLow<this.elemHigh-this.value?this.elemDirUp:!this.elemDirUp},t}();var G=function(){function t(t,e,n,r,i){this.minVal=t,this.viewSize=e,this.count=n,this.applyTol=r,this.quickMove=i,this.currentIndex=0,this.currentValue=0,this.tolerance=0,this.maxVal=t+e*(n-1),r&&(this.tolerance=.25*e)}return t.prototype.transition=function(t){var e=this.currentValue-t;return e<this.minVal-this.tolerance?this.minVal-this.tolerance:e>this.maxVal+this.tolerance?this.maxVal+this.tolerance:e},t.prototype.updateViewSize=function(t){this.viewSize=t;var e=this.minVal+this.viewSize*(this.count-1);this.currentValue=this.currentValue*e/this.maxVal,this.maxVal=e},t.prototype.updateCount=function(t){this.count=t,this.maxVal=this.minVal+this.viewSize*(t-1)},t.prototype.final=function(t,e,n){var r,i=this.transition(t),s=(e>=.2?.1:.25)*this.viewSize,o=this.currentIndex*this.viewSize+this.minVal;t>0?(this.quickMove&&(r=n&&n>0?Math.round(n*this.count):Math.ceil((o-i)/this.viewSize)),o-i>=s&&(this.currentIndex-=this.quickMove?r:Math.abs(Math.ceil((o-i)/this.viewSize)),this.currentIndex<0&&(this.currentIndex=0),this.currentValue=this.currentIndex*this.viewSize+this.minVal)):(this.quickMove&&(r=n&&n>0?Math.round(n*this.count):Math.ceil((i-o)/this.viewSize)),i-o>=s&&(this.currentIndex+=this.quickMove?r:Math.ceil((i-o)/this.viewSize),this.currentIndex>=this.count&&(this.currentIndex=this.count-1),this.currentValue=this.currentIndex*this.viewSize+this.minVal))},t}();var W=function(){function t(){}return t.getUrlParams=function(t){var e=t.indexOf("?");if(-1===e)return null;for(var n=t.substring(e+1).split("&"),r={},i=0;i<n.length;i++){var s=n[i].split("=");r[s[0]]=s[1]}return r},t.decodeStringFromHashids=function(t,e){return V.decodeHashids(t,e)},t.encodeStringAsHashids=function(t,e){return V.encodeString(t,e)},t}(),K=function(){function t(){}return t.prototype.isOfTypeUiError=function(t){return t.hasOwnProperty("errorCode")},t.prototype.isNetworkUnhealthy=function(t){if(t.bridge.isRunningInBrowser())return!navigator.onLine;var e=t.bridge.getCordovaNetworkType();return e===P.NetworkType.absent||e===P.NetworkType.unknown&&!navigator.onLine},t.prototype.isValidIndianMobNum=function(t){return t=this.sanitizeNumber(t),new RegExp("^\\+91[9876]\\d{9}$").test(t)},t.prototype.get10digitMobNumber=function(t){var e=this.sanitizeNumber(t);return e.startsWith("+91")?e.substring(3):e.startsWith("91")?e.substring(2):e.startsWith("0")?e.substring(1):e},t.prototype.sanitizeNumber=function(t){var e=t;return e?e.startsWith("+91")?e:e.startsWith("0")?(e=e.substring(1)).startsWith("0")?"+"+e.substring(1):10===e.length?"+91"+e:"0"+e:10==e.length?"+91"+e:e:null},t.prototype.getNetworkType=function(t){return t.bridge.isRunningInBrowser()?navigator.onLine?P.NetworkType.wifi:P.NetworkType.absent:t.bridge.getCordovaNetworkType()},t.prototype.getErrorText=function(t,e,n){var r;switch(n){case P.XmnError.NetworkNotPresent:r=e.instant("cmn_toast_err_net_off");break;case P.XmnError.ConnectionFailed:r=this.isNetworkUnhealthy(t)?e.instant("cmn_toast_err_net_off"):e.instant("cmn_toast_err_con_failed");break;case P.XmnError.RequestTimedOut:case P.XmnError.SendTimedOut:r=e.instant("cmn_toast_err_timeout");break;default:r=e.instant("cmn_toast_err_unknown")}return r},t.prototype.getLocation=function(t){return t.bridge.isRunningInBrowser()?navigator.geolocation?void navigator.geolocation.getCurrentPosition((function(t){return JSON.stringify({lat:t.coords.latitude,lng:t.coords.longitude})})):"{}":t.bridge.getLocation()},t.prototype.expandTemplate=function(t,e){return P.expandTemplate(t,e)},t.prototype.expandTemplateObj=function(t,e){return P.expandTemplateObj(t,e)},t.prototype.parseURLForRouter=function(t){"http"===t.protocol&&"https"===t.protocol||(t.href=t.href.replace(/.*\:\/\//,"http://"));for(var e={},n=t.search.replace(/^\?/,"").split("&"),r=0;r<n.length;r++)if(n[r]){var i=n[r].split("=");e[i[0]]=decodeURIComponent(i[1])}var s=t.pathname.startsWith("/")?t.pathname.substring(1):t.pathname;return{protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:s,search:t.search,searchObject:e,hash:t.hash}},t.prototype.getUrlParams=function(t){return W.getUrlParams(t)},t.prototype.getErrorScreenState=function(t){var e;switch(t){case P.XmnError.NetworkNotPresent:e="NoNet";break;case P.XmnError.ConnectionFailed:e="ConnFail";break;case P.XmnError.RequestTimedOut:case P.XmnError.SendTimedOut:e="TimedOut";break;case P.XmnError.UnAuthorized:e="UnAuthorized";default:e=t.substring(0,Math.min(32,t.length))}return e},t.prototype.getBase64=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){return[2,new Promise((function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){return e(r.result)},r.onerror=function(t){return n(t)}}))]}))}))},t.prototype.getCheckSum=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r;return _.__generator(this,(function(i){switch(i.label){case 0:return e=new TextEncoder,n=e.encode(t),[4,window.crypto.subtle.digest("SHA-256",n)];case 1:return r=i.sent(),[2,this.hexString(r)]}}))}))},t.prototype.hexString=function(t){for(var e,n=new Uint8Array(t),r="",i=0;i<n.length;i++)r+=1===(e=n[i].toString(16)).length?"0"+e:e;return r},t.prototype.getCompressedImage=function(t,e){return void 0===e&&(e=!1),_.__awaiter(this,void 0,void 0,(function(){var n=this;return _.__generator(this,(function(r){return[2,new Promise((function(r,i){var s=new FileReader;s.readAsDataURL(t),s.onload=function(i){var s=new Image;s.src=i.target.result,s.onload=function(i){var o=window.EXIF;if(!o)return r(n.getCanvasImage(s));o.getData(t,(function(){var i=e?t.exifdata.Orientation:void 0;return r(n.getCanvasImage(s,i))}))}},s.onerror=function(t){return i(t)}}))]}))}))},t.prototype.getCanvasImage=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=800,s=t.width,o=t.height;if(s>o?s>i&&(o*=i/s,s=i):o>i&&(s*=i/o,o=i),n.width=s,n.height=o,e)switch(e>4&&(n.width=o,n.height=s),e){case 2:r.translate(s,0),r.scale(-1,1);break;case 3:r.translate(s,o),r.rotate(Math.PI);break;case 4:r.translate(0,o),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-o);break;case 7:r.rotate(.5*Math.PI),r.translate(s,-o),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-s,0)}r.drawImage(t,0,0,s,o),r.restore();var a=r.globalCompositeOperation;return r.globalCompositeOperation="destination-over",r.fillStyle="white",r.fillRect(0,0,s,o),r.globalCompositeOperation=a,n.toDataURL("image/jpeg",.7)},t.prototype.getBase64Size=function(t){var e=t.includes("base64")?t.split(",")[1]:t,n=0;return e.endsWith("==")?n=2:e.endsWith("=")&&(n=1),(.75*e.length-n)/1024},t.prototype.createNavUrl=function(t,e){var n,r,i=t.split("?")[0],s=t.split("?")[1],o=JSON.parse('{"'+decodeURI(s).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');try{for(var a=_.__values(Object.keys(o)),c=a.next();!c.done;c=a.next()){var l=c.value;l in e&&(o[l]=e[l])}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i+"?"+Object.keys(o).map((function(t){return t+"="+o[t]})).join("&")},t}();var X=function(){function t(t,e){this.parentInst=t,this.tableInst=e,this.dataParams={},this.currentKeyIndex=0,this.dataObject={}}return t.prototype.init=function(t,e){this.dataParams.data=[],this.dispRows=t.dispRows||0,this.totalDataCount=t.totalRecords||0;var n={lastIndex:e,data:t.data},r=t.data.slice(0,this.dispRows);t.data=r,this.updateData(n)},t.prototype.updateData=function(t){this.dataParams.data=t.data,this.dataParams.lastIndex=t.lastIndex,this.mapData(0)},t.prototype.mapData=function(t){for(var e=this.currentKeyIndex;e<this.dataParams.lastIndex;)this.dataObject[e]&&this.dataObject[e].length===this.dispRows||(this.dataObject[e]=this.dataParams.data.slice(t,this.dispRows+t),t+=this.dispRows),e+=this.dispRows;this.pendingRequest&&this.setTableData()},t.prototype.setTableData=function(t){var e=this;t>=0&&(this.currentKeyIndex=t);var n=Object.keys(this.dataObject).find((function(t){return Number(t)===e.currentKeyIndex}));if(n){var r=this.dataObject[n];if(r.length===this.dispRows||this.totalDataCount-this.currentKeyIndex<this.dispRows)this.lastKeyIndex=Number(n);else{var i=this.currentKeyIndex+r.length;this.parentInst.loadMore(i),this.pendingRequest=!0}}else this.parentInst.loadMore(this.currentKeyIndex),this.pendingRequest=!0},t.prototype.clearData=function(){this.totalDataCount=0,this.dispRows=0,this.currentKeyIndex=0,this.dataParams={},this.dataObject={},this.pendingRequest=!1},t.prototype.updateDataStatus=function(t,e){var n=e-this.currentKeyIndex;this.dataObject[this.currentKeyIndex][n]=t,this.setTableData()},t.prototype.errorOccur=function(){this.pendingRequest=!1,this.currentKeyIndex=this.lastKeyIndex,this.setTableData()},t.prototype.setSelectableData=function(t){},t}();var $=function(){function t(t){this.taskName=t,this.cycles=[],this.startTs=this.now()}return t.prototype.startStep=function(t){var e=this.now();!this.cycle||this.cycle.stepMap[t]?(this.cycle&&(this.cycle.endTs=e,this.cycles.push(this.cycle)),this.cycle=new Z(this.cycles.length,e,t)):this.cycle.stepMap[t]=new J(e)},t.prototype.endStep=function(t){var e=this.cycle.stepMap[t];e?e.endTs=this.now():console.error(t,"ended without start for",this.taskName)},t.prototype.finish=function(){var t,e,n=this.now(),r={task:this.taskName,totalMs:n-this.startTs,cycleCount:this.cycles.length,cyclePerf:new Q,stepPerf:{}};this.cycle&&(this.cycle.endTs=n,this.cycles.push(this.cycle));for(var i=0;i<this.cycles.length;i++){var s=this.cycles[i];for(var o in r.cyclePerf=this.markEntry(s.endTs-s.startTs,i,r.cyclePerf),s.stepMap){var a=s.stepMap[o],c=r.stepPerf[o];a.endTs?r.stepPerf[o]=this.markEntry(a.endTs-a.startTs,i,c):console.error("You forgot to call endStep for "+o+" for cycle index:"+i)}}console.info("Result summary ",r);var l=[];for(var o in this.logEntry("all cycles",r.cyclePerf,l),r.stepPerf)this.logEntry(o,r.stepPerf[o],l);l=E.sortBy(l,"startTs"),console.info("Highlighted cycles (having min/max cycle/step time) >>");try{for(var u=_.__values(l),p=u.next();!p.done;p=u.next()){var d=p.value;console.info(d.toString())}}catch(e){t={error:e}}finally{try{p&&!p.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}console.info("all cycles to deep dive >>",this.cycles)},t.prototype.markEntry=function(t,e,n){return(n=n||new Q).min>t&&(n.min=t,n.minIdx=e),n.count&&n.max<t&&(n.max=t,n.maxIdx=e),n.total+=t,n.count++,n},t.prototype.now=function(){return performance?performance.timing.navigationStart+performance.now():Date.now()},t.prototype.logEntry=function(t,e,n){if(console.info(t+" performance >> "+e),-1!==e.minIdx){var r=this.cycles[e.minIdx];-1===n.indexOf(r)&&n.push(r)}if(-1!==e.maxIdx){r=this.cycles[e.maxIdx];-1===n.indexOf(r)&&n.push(r)}},t}();var z=function(t){this.startTs=t};var J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _.__extends(e,t),e}(z),Z=function(t){function e(e,n,r){var i,s=t.call(this,n)||this;return s.index=e,s.stepMap=((i={})[r]=new J(n),i),s}return _.__extends(e,t),e.prototype.toString=function(){var t=this.endTs-this.startTs;return"Cycle("+this.index+") @ "+P.format(this.startTs,"%hh%:%mm%:%ss% %ms%")+" timeTaken: "+t.toFixed(3)+"ms"},e}(z);var Q=function(){function t(){this.count=0,this.min=Number.MAX_SAFE_INTEGER,this.max=-1,this.total=0,this.minIdx=-1,this.maxIdx=-1}return t.prototype.toString=function(){var t=this.count?this.total/this.count:0;return"minMs: "+this.min.toFixed(3)+" "+(-1!==this.max?"maxMs: "+this.max.toFixed(3):"")+" avgMs: "+t.toFixed(3)+" count: "+this.count+" "+(-1!==this.minIdx?"minIdx: "+this.minIdx:"")+" "+(-1!==this.maxIdx?"maxIdx: "+this.maxIdx:"")},t}();var tt={UP:1,RIGHT:2,DOWN:4,LEFT:8};tt[tt.UP]="UP",tt[tt.RIGHT]="RIGHT",tt[tt.DOWN]="DOWN",tt[tt.LEFT]="LEFT";var et={X:1,Y:2};et[et.X]="X",et[et.Y]="Y";var nt=[];nt[P.LOG_LEVEL.DEBUG]=console.log,nt[P.LOG_LEVEL.STATUS]=console.info||console.log,nt[P.LOG_LEVEL.WARN]=console.warn||console.log,nt[P.LOG_LEVEL.ERROR]=console.error||console.log;var rt=function(t){function e(e,n,r){var i=t.call(this,n,n!==P.LOG_LEVEL.NONE,r)||this;return e!==P.RUN_MODE.PROD&&e!==P.RUN_MODE.PRE_PROD||n===P.LOG_LEVEL.NONE||console.log("You must turn off logging in production mode"),i}return _.__extends(e,t),e}(P.InitConfig),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _.__extends(e,t),e}(P.RunState),st=function(t){function e(e){var n=t.call(this,e)||this;return n.rc=e,n}return _.__extends(e,t),e.prototype.logToConsole=function(t,e){nt[t].call(console,e)},e}(P.RCLoggerBase);var ot=function(t){function e(e,n,r,i){var s=t.call(this,e,n,r,i)||this;return s.initConfig=e,s.runState=n,s}return _.__extends(e,t),e.prototype.preInit=function(){t.prototype.init.call(this),this.logger=new st(this)},e}(P.RunContextBase);var at=1,ct=function(){this.startX=-1,this.id=at++};var lt="touchstart",ut="touchmove",pt="touchend",dt="touchcancel",ht=function(){function t(t,e,n,r,i){this.rc=t,this.element=e,this.appComponent=n,this.renderer=r,this.measure=!1,this.handlers=[],t.setupLogger(this,"Nail",P.LOG_LEVEL.STATUS),this.compName=n.constructor?n.constructor.name:"?",this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),i.axisX||i.axisY,"Nail needs to be configured for at least one axes"),this.setConfig(i),this.pageWidth=document.body.clientWidth;var s=this.onNailEvent.bind(this);this.handlers.push(r.listen(e,lt,s),r.listen(e,ut,s),r.listen(e,pt,s),r.listen(e,dt,s)),this.animateFn=this.onRunAnimation.bind(this),t.isStatus()&&t.status(t.getName(this),"Nail events are being monitored for",this.compName,"with config",i)}return t.prototype.changeConfig=function(t){this.setConfig(t),this.session&&this.panEndEvent({type:"simulatedPanEnd"})},t.prototype.requestAnimate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.session&&(this.session.animateParam=t,this.session.animHandle&&window.cancelAnimationFrame(this.session.animHandle),this.session.animHandle=window.requestAnimationFrame(this.animateFn),this.session.animSessionId=this.session.id)},t.prototype.setDirections=function(t,e){this.config.disallowLeft=t,this.config.disallowRight=e},t.prototype.setConfig=function(t){t.threshold=t.threshold||.8,t.gutterWidth=t.gutterWidth||10,this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),t.threshold<=1,"Threshold cannot be more than 1"),this.config=t},t.prototype.onNailEvent=function(t){var e=this.session;this.config;if(this.config.axisX||this.config.axisY)if(t.type===lt){if(t.touches&&1!==t.touches.length)return;this.session&&this.panEndEvent({type:"simulatedPanEnd"}),this.session=new ct,this.extractEventAttr(t),this.measure&&(this.session.perf=new $("nail-"+this.compName)),this.appComponent.onTouchStart&&this.appComponent.onTouchStart(t),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),this.compName,t.type,"received")}else if(t.type===ut){if(!e||e.ignore)return;if(t.touches&&1!==t.touches.length)return void(e.ignore=!0);this.extractEventAttr(t);var n=e.lastX-e.startX,r=e.lastY-e.startY;if(!e.axis){this.measure&&this.session.perf.startStep("ascertain");var i=this.ascertainDirection(t,n,r);if(this.measure&&this.session.perf.endStep("ascertain"),!i)return}this.measure&&this.session.perf.startStep(ut),t.axis=e.axis,e.axis===et.X?(t.deltaX=n,t.deltaY=0,t.direction=n>0?tt.RIGHT:tt.LEFT):(t.deltaX=0,t.deltaY=r,t.direction=r>0?tt.DOWN:tt.UP),this.measure&&this.session.perf.startStep("onPanMove");var s=e.ifNail.onPanMove(t);if(this.measure&&this.session.perf.endStep("onPanMove"),this.measure&&this.session.perf.endStep(ut),s)return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),this.compName,t.type,"consumed event",{deltaX:n,deltaY:r,eventY:t.deltaY,session:e}),t.preventDefault(),t.stopPropagation(),!0;this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),this.compName,t.type,"ignored event",{deltaX:n,deltaY:r,eventY:t.deltaY,session:e})}else this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),this.compName,t.type,"received"),this.session&&this.panEndEvent(t)},t.prototype.panEndEvent=function(t){this.measure&&this.session.perf.startStep(t.type);var e=this.session;if(e.axis){t.axis=e.axis;var n=Date.now()-e.startTs;t.deltaY=e.lastY-e.startY,t.deltaX=e.lastX-e.startX;var r=Math.abs(e.axis===et.X?t.deltaX:t.deltaY),i=n?1e3*r/(n*n):0,s=(i-2)/6;s=s<0?0:s>.5?.5:s,t.quickRatio=s,t.speed=i,t.timeTaken=n,this.measure&&this.session.perf.startStep("onPanEnd"),e.ifNail.onPanEnd(t),this.measure&&this.session.perf.endStep("onPanEnd")}else this.appComponent.onTouchEnd&&this.appComponent.onTouchEnd(t);this.measure&&this.session.perf.endStep(t.type),this.measure&&this.session.perf.finish(),this.session=null},t.prototype.extractEventAttr=function(t){var e=this.session,n=t.touches[0];e.lastX=n.pageX,e.lastY=n.pageY,-1===e.startX&&(e.startX=e.lastX,e.startY=e.lastY,e.startTs=Date.now())},t.prototype.ascertainDirection=function(t,e,n){var r=this.session,i=this.config,s=Math.abs(e),o=Math.abs(n),a=0;return s>=1&&i.threshold>o/s?a=et.X:Math.abs(o)>=1&&i.threshold>s/o?a=et.Y:s>10?a=et.X:o>10&&(a=et.Y),!!a&&(a===et.X&&i.axisX||a===et.Y&&i.axisY?(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),this.compName,t.type,"Ascertained",a,{deltaX:e,deltaY:n}),r.axis=a,(r.startX<i.gutterWidth||e>0&&i.disallowRight)&&i.gutterLeft?r.ifNail=i.gutterLeft:(r.startX>this.pageWidth-i.gutterWidth||e<0&&i.disallowLeft)&&i.gutterRight?r.ifNail=i.gutterRight:r.ifNail=this.appComponent,t.axis=r.axis,t.deltaX=e,t.deltaY=n,this.session.ifNail.onPanStart&&(this.measure&&this.session.perf.startStep("onPanStart"),this.session.ifNail.onPanStart(t),this.measure&&this.session.perf.endStep("onPanStart")),!0):(this.rc.isStatus()&&this.rc.status(this.rc.getName(this),this.compName,"Cancelling ascertain as we locked incorrect axis"),void(r.ignore=!0)))},t.prototype.onRunAnimation=function(){var t,e=this.session;e&&(this.session.animHandle=null,e.ignore||e.animSessionId!==e.id||(t=e.ifNail).onPanAnimate.apply(t,_.__spread(e.animateParam)))},t.prototype.destroy=function(){var t,e;try{for(var n=_.__values(this.handlers),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.handlers=[],this.config=null,this.session=null},t}();var mt={CALLER:"caller",INJECT:"inject"};var gt=function(){function t(t){this.rc=t}return t.prototype.onApiComplete=function(t){},t.prototype.ngOnDestroy=function(){},t}();var ft={Modal:"modal",BottomIn:"bottomIn",LoadingOverlay:"loadingOvr",Alert:"alert",Filter:"filter"};var vt={YES:"YES",NO:"NO"},yt=function(t){function e(e){var n=t.call(this,e)||this;return n.rc=e,n}return _.__extends(e,t),e.prototype.getWidth=function(){return"80vw"},e.prototype.getRouteName=function(){return ft.Alert},e.prototype.isUserVisited=function(){return!0},e.prototype.setParam=function(t){this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),t.message&&t.positiveActText,"missing queryparams "+t),this.title=t.title,this.message=t.message,this.positiveActText=t.positiveActText,this.negativeActText=t.negativeActText||"",this.contextId=t.contextId||"",this.allowBack=t.canGoBack,this.showCloseBtn=t.showCloseBtn||!1,this.positiveLink=t.positiveLink},e.prototype.setCaller=function(t){this.caller=t},e.prototype.initFromParent=function(t,e){this.myParent=t},e.prototype.close=function(){this.myParent.close()},e.prototype.closeFromParent=function(){var t={result:this.result,contextId:this.contextId,positiveLink:this.positiveLink};this.caller.setResult(this.getRouteName(),t)},e.prototype.isNotDismissable=function(){return!0},e.prototype.canGoBack=function(){return!(void 0!==this.allowBack)||this.allowBack},e.prototype.onCancel=function(){this.result=vt.NO,this.close()},e.prototype.onContinue=function(){this.result=vt.YES,this.allowBack=!0,this.close()},e}(gt);yt.decorators=[{type:e.Component,args:[{selector:"app-alert-dialog",template:'<div class="alert-dialog-comp"\n  [ngClass.xl]="[\'web-alerts-dialog\']"\n  [ngClass.lg]="[\'web-alerts-dialog\']"\n  [ngClass.md]="[\'web-alerts-dialog\']"\n  [ngClass.sm]="[\'web-alerts-dialog\']">\n  <header class="header txt-xl-med-norm border" *ngIf="title">\n    <div class="header-title">\n      {{ title }}\n    </div>\n    <div class="close-btn" *ngIf="showCloseBtn"\n      (click)="onCancel()">\n      <i class="fa fa-lg fa-times"></i>\n    </div>\n  </header>\n  <div class="content txt-xl-med-norm">\n    {{ message }}\n  </div>\n  <footer class="footer" [style.justifyContent]="negativeActText ? \'space-between\' : \'center\'">\n    <button *ngIf=\'negativeActText\' class="button-primary-small btn" (click)="onCancel()">\n      {{ negativeActText }}\n    </button>\n    <button class="button-primary-small btn" (click)="onContinue()">\n      {{ positiveActText }}\n    </button>\n  </footer>  \n</div>   ',styles:[".alert-dialog-comp{padding:2vw;position:relative}.header{border-bottom-style:solid;border-bottom-width:1px;display:flex;justify-content:space-between;padding-bottom:2vw}.content,.header{position:relative}.content{padding:2vw 0}.footer{align-items:center;display:flex;padding:4vw 0}.btn,.footer{position:relative}.btn{width:30vw}.web-alerts-dialog{padding:20px}.web-alerts-dialog .header{padding-bottom:20px}.web-alerts-dialog .content{padding:20px 0;position:relative}.web-alerts-dialog .footer{padding:20px 0}.web-alerts-dialog .btn{width:150px}"]}]}],yt.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]};var bt=location.href.indexOf("#"),wt=-1!==bt?location.href.substr(0,bt):location.href,_t=wt,It="primary",Pt="modal",Et={TOP:1,MIDDLE:2,BOTTOM:3};Et[Et.TOP]="TOP",Et[Et.MIDDLE]="MIDDLE",Et[Et.BOTTOM]="BOTTOM";var St={NEXT:1,CURRENT:2,POP:3};St[St.NEXT]="NEXT",St[St.CURRENT]="CURRENT",St[St.POP]="POP";var Ct=function(){};var xt=function(t){this.component=null,this.invCount=0,this.component=t};var Tt=function(){function t(t,e){this.rcBrowser=t,this.router=e,this.componentRegistry={},this.urlStack=[],this.warnedUser=!1,this.firstNavDone=!1,this.browserStack=[],this.lastNavMethod=0,this.lastPopIndex=-1,this.lastNavUrl="",this.lastGoingBack=!1,this.currentQpId="",this.curCompMap={},this.codePop=!1,this.runningInBrowser=!1,this.isSdkApp=!1,this.iframeHistLength=0}return t.prototype.init=function(t,e){void 0===e&&(e=!1),this.runningInBrowser=t,this.isSdkApp=e,this.historyWrapper=new At(this.rcBrowser,this.isSdkApp),this.urlStack[0]=new Ct,this.urlStack[0].url=(location.hash||"").substr(1),this.historyWrapper.replaceState({index:-1},document.title,wt+"#/?launched=true"),this.historyWrapper.pushState({index:0},document.title,wt),this.isSdkApp||window.addEventListener("popstate",this.onPopState.bind(this)),this.browserStack[0]=this.urlStack[0].url,this.router.events.subscribe(this.onNavEnd.bind(this)),this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"initialized with",{url:this.urlStack[0].url})},t.prototype.navigate=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return e&&e.replaceAllUrls&&this.urlStack.length-1>0&&(e.replaceIndex=1),[4,this.navigateByUrl([{outlets:{primary:t,modal:null}}],e,It)];case 1:return[2,n.sent()]}}))}))},t.prototype.rootNavigate=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"Inside RootNavigate",t),e||(e={}),e.replaceIndex=0,[4,this.navigateByUrl([{outlets:{primary:t,modal:null}}],e,It)];case 1:return[2,n.sent()]}}))}))},t.prototype.areWeGoingBack=function(){return this.lastGoingBack},t.prototype.isModalActive=function(){return 1!==Object.keys(this.curCompMap).length},t.prototype.isShowingPopup=function(){return this.curOutlet!==It},t.prototype.navigateByUrl=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i,s;return _.__generator(this,(function(o){switch(o.label){case 0:return e||(e={}),e.queryParams||(e.queryParams={}),this.lastNavMethod&&this.rcBrowser.isError()&&this.rcBrowser.error(this.rcBrowser.getName(this),"Navigating while last navigation not complete, possibly double nav..."),void 0===e.replaceIndex?(this.lastNavMethod=e.replaceUrl?St.CURRENT:St.NEXT,this.lastPopIndex=-1,this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"Routing to",t,"with",e),this.lastGoingBack=!1):(this.lastGoingBack=!0,e.replaceIndex>=this.urlStack.length&&(this.rcBrowser.isError()&&this.rcBrowser.error(this.rcBrowser.getName(this),"Ignoring navigation to replaceIndex that is more than number of items in stack",{replaceIndex:e.replaceIndex,urlStackLength:this.urlStack.length}),e.replaceIndex=this.urlStack.length-1),this.lastNavMethod=St.POP,this.lastPopIndex=e.replaceIndex,this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"navigateByUrl: Route back by",e.replaceIndex-this.urlStack.length+1,"to url",t)),delete e.replaceUrl,e.skipLocationChange=!0,r=e.paramsId||"qp"+Date.now(),e.queryParams&&(i=e.queryParams.modalRoute),this.currentQpId=r,this.curQueryParam=e.queryParams,e.queryParams=i?{nc_paramsId:r,modalRoute:i}:{nc_paramsId:r},this.curOutlet=n||It,s=Array.isArray(t)?this.router.createUrlTree(t,e):t,this.lastNavUrl="string"==typeof s?s:this.router.serializeUrl(s),[4,this.router.navigateByUrl(s,e)];case 1:return o.sent()?[2,!0]:[2]}}))}))},t.prototype.popupBottomIn=function(t,e,n,r,i){n||(n={});var s=r||!1;this.showInModal(t,e,n,ft.BottomIn,i,s)},t.prototype.popupModal=function(t,e,n,r,i){n||(n={});var s=r||!1;this.showInModal(t,e,n,ft.Modal,i,s)},t.prototype.showAlertDialog=function(t,e,n){this.popupModal(yt,ft.Alert,t,n,e)},t.prototype.hasQueryParamsById=function(t){return!!t.nc_paramsId},t.prototype.getUrlStackLength=function(){return this.urlStack.length},t.prototype.getCurrentComponent=function(t){return void 0===t&&(t=It),this.curCompMap[t]},t.prototype.getCurrentRouteName=function(){var t=this.urlStack[this.urlStack.length-1].url;return this.getRouteName(t)},t.prototype.onNavCancel=function(){this.lastNavMethod=0},t.prototype.getCurQueryParams=function(){return this.curQueryParam},t.prototype.getRouteName=function(t){var e=this.router.parseUrl(t),n=e.root.children.primary?e.root.children.primary.segments:void 0;if(!n)return this.rcBrowser.isWarn()&&this.rcBrowser.warn(this.rcBrowser.getName(this),"received invalid url "+t),"";if(n.length>1){var r="";return n.forEach((function(t,e){r+=t+(e<n.length-1?"/":"")})),r}return n[0].path},t.prototype.getModuleName=function(t){return this.router.parseUrl(t).root.children.primary.segments[0].path},t.prototype.getCurrentQueryParams=function(){return this.curQueryParam},t.prototype.getQueryParams=function(t){var e=t.nc_paramsId;return this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),e&&e===this.currentQpId,"Trying to retrieve non-existent params",t,this.currentQpId),this.curQueryParam},t.prototype.clearHisory=function(){var t=-1*this.historyWrapper.getState().index-1;this.historyWrapper.go(t)},t.prototype.setIframeHistLength=function(t){this.iframeHistLength=t},t.prototype.updateQueryParam=function(t,e){var n=this.urlStack[this.urlStack.length-1].queryParam;this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),n,"Your component does not get params by id"),n[t]=e},t.prototype.setComponentForOutlet=function(t,e){e=e||It,this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),t);var n=this.curCompMap[e];n&&n.component===t||(this.curCompMap[e]=new xt(t))},t.prototype.removeComponentForOutlet=function(t,e){e=e||It,this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),this.curCompMap[e].component===t),delete this.curCompMap[e]},t.prototype.showInModal=function(t,e,n,r,i,s){var o=t.name;this.registerComponent(o,t),n[mt.INJECT]=o,i&&(n[mt.CALLER]=i),n.modalRoute="("+e+")";var a=s||!1;this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"Popping up "+r+" for "+o),this.navigateByUrl([{outlets:{modal:r}}],{replaceUrl:a,queryParams:n},Pt)},t.prototype.showModalPage=function(t,e,n){e.modalRoute="("+t+")";var r=n||!1;this.navigateByUrl([{outlets:{modal:t}}],{replaceUrl:r,queryParams:e},Pt)},t.prototype.goBack=function(t){if(this.canGoBack())return this.isModalActive()&&this.onPopUpClosed(),this.goBackInternal(t)},t.prototype.goBackInternal=function(t){var e=this.urlStack.length,n="number"==typeof t?e+t-1:e-2,r="string"==typeof t?t:"";if(this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),n>=0&&n<e,{stackLen:e,whereOrByHowMuch:t,where:r,index:n}),r){for(r.startsWith("/")||(r="/"+r);n>=0&&!this.urlStack[n].url.startsWith(r);n--);if(-1===n)throw this.rcBrowser.isError()&&this.rcBrowser.error(this.rcBrowser.getName(this),"Could not find the desired url:",r,this.urlStack),new Error("Could not find the desired url: "+r)}var i=this.urlStack[n],s={replaceUrl:!0};i.qpId&&(s.paramsId=i.qpId,s.queryParams=i.queryParam),s.replaceIndex=n,this.navigateByUrl(i.url,s,i.outlet)},t.prototype.onPopState=function(t){var e=this.historyWrapper.getState().index,n=this.urlStack.length;if(this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"onPopState",{stackLen:n,index:e}),this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),"number"==typeof e&&e<n-1,{stackLen:n,index:e}),-1===e){if(this.codePop)this.codePop=!1;else{if(!this.canCompGoBack())return;if(this.warnedUser||this.runningInBrowser)return this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"onPopState: Exiting the app",this.historyWrapper.getLength()),this.notifyAppClose(),void(this.runningInBrowser?location.reload():this.notifyAppClose());this.warnedUser=this.notifyUserBackPress()}this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"onPopState: Winding up stack on back to first item");for(var r=0;r<n;r++)this.browserStack[r]=this.urlStack[r].url,this.historyWrapper.pushState({index:r},"",_t+"#"+this.urlStack[r].url);this.browserStack.length=n}else{if(!this.canCompGoBack())return;this.isModalActive()&&this.onPopUpClosed();var i=e-n+1;this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"onPopState: Going back by",{index:e,goBackBy:i}),this.goBackInternal(i)}},t.prototype.canCompGoBack=function(){if(!this.canGoBack()||this.isToolTipShown()){var t=this.urlStack.length-1,e=this.urlStack[t];return this.historyWrapper.pushState({index:t},"",_t+"#"+e.url),this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"not going back"),!1}return!0},t.prototype.onPopUpClosed=function(){var t=this.urlStack.length-1,e=this.urlStack[t];if(e){var n=this.curCompMap[e.outlet];n&&n.component.onBackPressed&&n.component.onBackPressed()}},t.prototype.canGoBack=function(){var t=this.urlStack.length-1,e=this.urlStack[t];if(!e)return!0;var n=this.curCompMap[e.outlet];return n&&n.component.canGoBack?n.component.canGoBack()?(this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"Going back as component allowed back press"),!0):(this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"Skipping back as component dis-allowed back press"),!1):(this.removeOverlayIfExists(),!0)},t.prototype.onNavEnd=function(t){if(t instanceof w.NavigationEnd){if(!this.firstNavDone){this.firstNavDone=!0,this.lastNavMethod||(this.lastNavMethod=St.CURRENT,this.lastNavUrl=t.url,this.curOutlet=It);var e=location.href,n=e.indexOf("#");-1===n||e.substr(0,n)}var r;if(this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"NavigationEnd",{url:t.url,lastNavMethod:St[this.lastNavMethod],lastPopIndex:this.lastPopIndex,lastNavUrl:this.lastNavUrl,stackLength:this.urlStack.length}),this.lastNavUrl!==t.url&&this.rcBrowser.isError()&&this.rcBrowser.error(this.rcBrowser.getName(this),"onNavEnd without matching url desired:"+this.lastNavUrl+" actual:"+t.url),this.lastNavMethod===St.POP)r=this.lastPopIndex;else if(this.lastNavMethod===St.NEXT)r=this.urlStack.length;else{if(this.lastNavMethod!==St.CURRENT)throw this.rcBrowser.isError()&&this.rcBrowser.error(this.rcBrowser.getName(this),"Got a navigation without navMethod",this.urlStack,location.href),"Got a navigation without navMethod";r=this.urlStack.length-1}var i=this.curCompMap[this.curOutlet];i||this.rcBrowser.isError()&&this.rcBrowser.error(this.rcBrowser.getName(this),"Current component is not known",{url:t.url,lastNavMethod:St[this.lastNavMethod],lastPopIndex:this.lastPopIndex,stackLength:this.urlStack.length}),this.onMubbleScreenChange(t.url,this.curOutlet,this.lastNavMethod),this.urlStack.length===r&&(this.urlStack[r]=new Ct);var s=this.urlStack[r];s.url=t.url,s.qpId=this.currentQpId,s.queryParam=this.curQueryParam,s.outlet=this.curOutlet,this.urlStack.length=r+1,this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"Current Url stack",this.urlStack[r].url),this.lastNavMethod=0,this.lastPopIndex=-1,this.lastNavUrl="",this.curOutlet=null,this.setComponentParams(i),this.warnedUser&&(this.warnedUser=!1),this.isSdkApp||this.syncBrowserHistory(),this.onMubbleScreenNavEnd(t.url,this.lastNavMethod)}},t.prototype.setComponentParams=function(t){if(t.component.onRouterInit){var e=this.router.routerState.root.snapshot.queryParams,n=e.nc_paramsId?this.curQueryParam:e;N.default(n,t.lastParams)?this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"Skipping onRouterInit as parameters are same"):(t.component.onRouterInit(n,!t.invCount),t.invCount++,t.lastParams=n)}},t.prototype.syncBrowserHistory=function(){for(var t=this.browserStack,e=this.urlStack,n=e.length,r=-1,i=0;i<n;i++)if(-1===r&&(t.length===i||t[i]!==e[i].url)){r=i;break}this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"syncBrowserHistory",{fromIndex:r,stackLen:n,browserStackLen:t.length}),-1===r?e.length!==t.length&&this.browserGotoRoot():r===n-1?t.length===e.length?(this.historyWrapper.replaceState({index:r},"",_t+"#"+e[r]),t[r]=e[r].url):t.length+1===e.length?(this.historyWrapper.pushState({index:r},"",_t+"#"+e[r]),t[r]=e[r].url):this.browserGotoRoot():this.browserGotoRoot()},t.prototype.browserGotoRoot=function(){this.rcBrowser.isAssert()&&this.rcBrowser.assert(this.rcBrowser.getName(this),this.historyWrapper.getState().index>=0);var t=-1*this.historyWrapper.getState().index-1;this.rcBrowser.isDebug()&&this.rcBrowser.debug(this.rcBrowser.getName(this),"browserGotoRoot",{distanceFromRoot:t,stackLen:this.urlStack.length,browserStackLen:this.browserStack.length}),this.codePop=!0,this.historyWrapper.go(t),this.iframeHistLength&&(this.iframeHistLength=0)},t.prototype.registerComponent=function(t,e){this.componentRegistry[t]!==e&&(this.componentRegistry[t]=e,this.rcBrowser.isStatus()&&this.rcBrowser.status(this.rcBrowser.getName(this),"Registered component with name",t))},t.prototype.getComponent=function(t){return this.componentRegistry[t]},t.prototype.onMubbleScreenChange=function(t,e,n){},t.prototype.onMubbleScreenNavEnd=function(t,e){},t.prototype.notifyUserBackPress=function(){return!0},t.prototype.notifyAppClose=function(){},t.prototype.isToolTipShown=function(){return!0},t.prototype.removeOverlayIfExists=function(){},t}();var At=function(){function t(t,e){this.rc=t,this.isSdkApp=e,t.setupLogger(this,"HistoryWrapper")}return t.prototype.pushState=function(t,e,n){this.isSdkApp||(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"before pushState",{historyLength:history.length,historyState:history.state,newState:t}),history.pushState(t,e,n),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"after pushState",{historyLength:history.length,historyState:history.state}))},t.prototype.replaceState=function(t,e,n){this.isSdkApp||(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"before replaceState",{historyLength:history.length,historyState:history.state,title:e,url:n,newState:t}),history.replaceState(t,e,n),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"after replaceState",{historyLength:history.length,historyState:history.state}))},t.prototype.go=function(t){this.isSdkApp||history.go(t)},t.prototype.getState=function(){if(!this.isSdkApp)return history.state},t.prototype.getLength=function(){if(!this.isSdkApp)return history.length},t}();var Dt=function(){function t(t,e,n,r){this.rc=t,this.router=e,this.componentFactoryResolver=n,this.route=r}return t.prototype.onRouterInit=function(t,e,n){this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"onRouterInit called with",t),this.injectedComponent||(this.injectComponent(t.inject,e),this.caller=t[mt.CALLER],this.injectedComponent.initFromParent&&this.injectedComponent.initFromParent(this,n),this.caller&&this.injectedComponent.setCaller&&this.injectedComponent.setCaller(this.caller)),this.injectedComponent.setParam&&this.injectedComponent.setParam(t)},t.prototype.injectComponent=function(t,e){var n=this.router.getComponent(t);this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),n);var r=this.componentFactoryResolver.resolveComponentFactory(n);this.icRef=e.createComponent(r),this.icRef.changeDetectorRef.detectChanges(),this.injectedComponent=this.icRef.instance,this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Injected component with",{injected:!!this.injectedComponent,factory:!!r})},t.prototype.close=function(){this.childRequestedClose=!0,this.router.goBack()},t.prototype.ngOnDestroy=function(){this.icRef&&this.icRef.destroy()},t}();var kt={HALF:"HALF",FULL:"FULL"},Rt=400,Nt=U.getQuickAnim(),Ot=function(t){function e(e,n,r,i,s,o){var a=t.call(this,e,n,i,r)||this;return a.renderer=s,a.ref=o,a.__routeAnimation=null,a.animElem=!0,a.title="",a.state=kt.HALF,a.allowFullPage=!0,a.routeEndProcessed=!1,e.setupLogger(a,"BottomIn",P.LOG_LEVEL.DEBUG),a.rc.isDebug()&&a.rc.debug(a.rc.getName(a),"constructor"),e.getGlobalLogLevel()===P.LOG_LEVEL.DEBUG&&(window.bi=a),a}return _.__extends(e,t),e.prototype.onHostClick=function(t){this.state===kt.HALF&&(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Dismissing bottom-in due to host click"),this.animateClose())},e.prototype.onRouteAnimationStart=function(t){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onRouteAnimation-start",t)},e.prototype.onRouteAnimationDone=function(t){if(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onRouteAnimation-end",t),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onRouteAnimation-end",t),this.childRequestedClose&&this.injectedComponent.closeFromParent){if(this.routeEndProcessed)return;this.routeEndProcessed=!0,this.injectedComponent.closeFromParent()}else if(this.backPressed&&this.injectedComponent.onBackPressed){if(this.routeEndProcessed)return;this.routeEndProcessed=!0,this.injectedComponent.onBackPressed()}},e.prototype.onRouterInit=function(e){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onRouterInit"),t.prototype.onRouterInit.call(this,e,this.injectAt,!1),this.title=this.injectedComponent.getTitle();var n=this.injectedComponent.getHalfHeight();this.injectedComponent.getDefaultState&&(this.state=this.injectedComponent.getDefaultState()),this.state===kt.FULL?n=document.body.clientHeight:n?(n>document.body.clientHeight&&(this.rc.isError()&&this.rc.error(this.rc.getName(this),"Half height passed is incorrect",{halfHeight:n,clientHeight:document.body.clientHeight}),n=.8*document.body.clientHeight),this.top=document.body.clientHeight-n):this.allowFullPage=!1},e.prototype.ngAfterViewInit=function(){this.panYMax=document.body.clientHeight;var t=this.compContainer.nativeElement,e=t.clientHeight,n=this.header.nativeElement.getBoundingClientRect().height;this.allowFullPage?(this.panYMin=0,t.style.height=document.body.clientHeight-n):(this.top=document.body.clientHeight-(e+n),this.panYMin=this.top),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"ngAfterViewInit: Component container",{clientHeight:document.body.clientHeight,compHeight:e,headerHeight:n,top:this.top}),this.main.nativeElement.style.transform=U.getTransform(0,this.top,0).transform,this.nail=new ht(this.rc,this.main.nativeElement,this,this.renderer,{axisX:!1,axisY:!0}),this.ref.detectChanges()},e.prototype.onPanStart=function(){this.startTop=this.compContainer.nativeElement.scrollTop},e.prototype.onPanMove=function(t){var e=t.deltaY;if(this.compContainer.nativeElement.scrollTop)return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"cancelling panMove",{scrollTop:this.compContainer.nativeElement.scrollTop}),!1;e>0&&(e-=this.startTop);var n=(this.state===kt.HALF?this.top:this.panYMin)+e;n<this.panYMin?n=this.panYMin:n>this.panYMax&&(n=this.panYMax);var r=this.panY!==n;return r&&this.nail.requestAnimate(n),r},e.prototype.onPanAnimate=function(t){this.animateChange(t,!1)},e.prototype.onPanEnd=function(t){this.state===kt.HALF?this.panY>this.top?this.animateClose():this.panY<this.top?this.onFull(!0):this.onHalf(!0):this.panY>this.panYMin?this.animateClose():this.onFull(!0)},e.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation()},e.prototype.ngOnDestroy=function(){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"ngOnDestroy"),t.prototype.ngOnDestroy.call(this),this.nail&&this.nail.destroy()},e.prototype.onHalf=function(t){this.state=kt.HALF,this.animateChange(this.top,t)},e.prototype.onFull=function(t){this.state=kt.FULL,this.animateChange(this.panYMin,t)},e.prototype.animateChange=function(t,e){if(this.panY!==t){this.panY=t;var n=e?"300ms":Nt;this.animValue!==n&&(this.animValue=n,this.main.nativeElement.style.transition=n),U.setTransform(this.main.nativeElement,0,t,0)}},e.prototype.animateClose=function(){this.injectedComponent.closeFromParent(),this.router.goBack()},e.prototype.onBackPressed=function(){this.backPressed=!0},e}(Dt);Ot.decorators=[{type:e.Component,args:[{selector:"bottom-in",template:'<div class="bottom-in-comp">\n  <div class="main bottom-in-container glb-animated-element" (click)="onClick($event)" #main>\n\n    <div #header>\n\n      <header *ngIf="allowFullPage" class="test-bottom-in-toolabr bottom-in-toolbar-outline nc-toolbar">\n        <span class="toolbar-title title text-body-supp text-size-medium test-bottom-in-title">{{title}}</span>\n\n        <div *ngIf="state !== \'FULL\'" (click)="onFull(true)" class="toolbar-right-ic-btn">\n          <i class="modal-right-ic test-bottom-in-more fa fa-angle-up" aria-hidden="true"></i>\n        </div>\n        <div *ngIf="state === \'FULL\'" (click)="animateClose()" class="toolbar-right-ic-btn">\n          <i class="modal-right-ic test-bottom-in-more fa fa-angle-down" aria-hidden="true"></i>\n        </div>\n      </header>\n\n      <header *ngIf="!allowFullPage && title" class="nc-small-toolbar text-heading">\n        <span class="title test-bottom-in-title">{{title}}</span>\n      </header>\n\n    </div>\n\n    <div class="component-container" #compContainer>\n      <ng-template #injectAt></ng-template>\n    </div>\n\n  </div>\n</div>\n',animations:[C.trigger("routeAnimation",[C.transition(":enter",[C.group([C.query(":self",[C.style({opacity:0}),C.animate(Rt,C.style({opacity:1}))]),C.query("div.main",[C.style(U.getPercentTransform(0,100)),C.animate(Rt,C.style("*"))])])]),C.transition(":leave",[C.group([C.animate(Rt,C.style({opacity:0})),C.query("div.main",[C.animate(Rt,C.style({transform:"translate3d(0, 100%, 0)"}))])])])])],styles:[".main{box-sizing:border-box;min-height:100vh;perspective:1000px;perspective-origin:50%;position:absolute;transform:translateZ(100px);width:100vw}.icon-align-right{float:right}.title{margin-left:2vw}.left-button,.right-button{flex-grow:0}.component-container{overflow-y:auto;width:100%}.bottom-in-container{width:100%}"]}]}],Ot.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:Tt},{type:w.ActivatedRoute},{type:e.ComponentFactoryResolver},{type:e.Renderer2},{type:e.ChangeDetectorRef}]},Ot.propDecorators={__routeAnimation:[{type:e.HostBinding,args:["@routeAnimation"]}],animElem:[{type:e.HostBinding,args:["class.glb-animated-element"]}],onHostClick:[{type:e.HostListener,args:["click",["$event.target"]]}],onRouteAnimationStart:[{type:e.HostListener,args:["@routeAnimation.start",["$event"]]}],onRouteAnimationDone:[{type:e.HostListener,args:["@routeAnimation.done",["$event"]]}],main:[{type:e.ViewChild,args:["main",{static:!0}]}],header:[{type:e.ViewChild,args:["header",{static:!0}]}],compContainer:[{type:e.ViewChild,args:["compContainer",{static:!0}]}],injectAt:[{type:e.ViewChild,args:["injectAt",{read:e.ViewContainerRef,static:!0}]}],title:[{type:e.Input}],state:[{type:e.Input}],allowFullPage:[{type:e.Input}]};var Lt=function(t){function e(e,n,r,i,s,o){var a=t.call(this,e,n,i,r)||this;return a.renderer=s,a.ref=o,a.__routeAnimation=!0,a.animElem=!0,a.routeEndProcessed=!1,a.width="75vw",e.setupLogger(a,"ModalPopup",P.LOG_LEVEL.DEBUG),a.rc.isDebug()&&a.rc.debug(a.rc.getName(a),"constructor"),a}return _.__extends(e,t),e.prototype.onHostClick=function(t){this.animateClose()},e.prototype.onRouteAnimationStart=function(t){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onRouteAnimation-start",t)},e.prototype.onRouteAnimationDone=function(t){if(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onRouteAnimation-end",t),this.childRequestedClose&&this.injectedComponent.closeFromParent){if(this.routeEndProcessed)return;this.routeEndProcessed=!0,this.injectedComponent.closeFromParent()}else if(this.backPressed&&this.injectedComponent.onBackPressed){if(this.routeEndProcessed)return;this.routeEndProcessed=!0,this.injectedComponent.onBackPressed()}},e.prototype.onRouterInit=function(e){t.prototype.onRouterInit.call(this,e,this.injectAt,!0),this.width=this.injectedComponent.getWidth(),this.injectedComponent.getCssClassName&&(this.className=this.injectedComponent.getCssClassName())},e.prototype.ngAfterViewInit=function(){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"ngAfterViewInit")},e.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation()},e.prototype.ignoreScroll=function(t){this.injectedComponent.isNotScrollable&&this.injectedComponent.isNotScrollable()&&(t.preventDefault(),t.stopPropagation())},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"ngOnDestroy")},e.prototype.animateClose=function(){this.injectedComponent.isNotDismissable&&this.injectedComponent.isNotDismissable()?this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Wont dismiss popup"):(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Dismissing modal popup in due to host click"),this.router.goBack())},e.prototype.onBackPressed=function(){this.backPressed=!0},e.prototype.canGoBack=function(){var t=this.injectedComponent;return!t.canGoBack||t.canGoBack()},e}(Dt);Lt.decorators=[{type:e.Component,args:[{selector:"modal-popup",template:'<div class="modal-popup-comp" (touchmove)="ignoreScroll($event)">\n  <div class="modal-root-div component-container rounded-borders"\n      [style.width]="width" \n      (click)="onClick($event)"\n      [ncClass]="className"\n      (touchmove)="ignoreScroll($event)"\n      #componentContainer>\n      \n      <ng-template #injectAt></ng-template>\n  </div>\n</div>',animations:[C.trigger("routeAnimation",[C.transition(":enter",[C.group([C.query(":self",[C.style({opacity:0}),C.animate(400,C.style({opacity:1}))]),C.query("div.modal-root-div",[C.style({transform:"rotateX(90deg)"}),C.animate(400,C.style("*"))])])]),C.transition(":leave",[C.group([C.animate(400,C.style({opacity:0}))])])])],styles:[".component-container{-webkit-transform-style:preserve-3d;max-width:500px;perspective:600px;perspective-origin:0 100%;transform-style:preserve-3d}.rounded-borders{border:0 solid transparent;border-radius:6px}"]}]}],Lt.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:Tt},{type:w.ActivatedRoute},{type:e.ComponentFactoryResolver},{type:e.Renderer2},{type:e.ChangeDetectorRef}]},Lt.propDecorators={true:[{type:e.HostBinding,args:["class.glb-flex-centered"]}],__routeAnimation:[{type:e.HostBinding,args:["@routeAnimation"]}],animElem:[{type:e.HostBinding,args:["class.glb-animated-element"]}],onHostClick:[{type:e.HostListener,args:["click",["$event.target"]]}],onRouteAnimationStart:[{type:e.HostListener,args:["@routeAnimation.start",["$event"]]}],onRouteAnimationDone:[{type:e.HostListener,args:["@routeAnimation.done",["$event"]]}],componentContainer:[{type:e.ViewChild,args:["componentContainer",{static:!0}]}],injectAt:[{type:e.ViewChild,args:["injectAt",{read:e.ViewContainerRef,static:!0}]}],width:[{type:e.Input}],className:[{type:e.Input}]};var Mt=function(){};Mt.decorators=[{type:e.Component,args:[{selector:"loading-overlay",template:'<div class="loading-overlay-comp loading-overlay-root">\n  <div class="component-loader"\n      [ngClass.xl]="[\'web-comp-width\']"\n      [ngClass.lg]="[\'web-comp-width\']"\n      [ngClass.md]="[\'web-comp-width\']"\n      [ngClass.sm]="[\'web-comp-width\']">\n      <div class="spinner-cont">\n        <i class="spinner fa fa-spinner fa-pulse fa-3x fa-fw text-color-primary"></i>\n      </div>\n      <div class="loading-text txt-xl-med-norm">{{loadingText}}</div>\n  </div>\n</div>',styles:[".loading-overlay-root{background-color:rgba(0,0,0,.2);height:100vh;position:absolute;top:0;width:100vw;z-index:60}.component-loader{align-items:center;border-color:transparent;border-radius:10px;border-style:solid;display:flex;flex-flow:row;height:14vh;margin:0 auto;position:relative;top:45%;width:90%}.spinner-cont{flex:0 0 30%}.loading-text{flex:0 0 70%}.spinner{margin:0 auto 0 10%}.web-comp-width{min-width:300px;width:20%}"]}]}],Mt.ctorParameters=function(){return[]},Mt.propDecorators={loadingText:[{type:e.Input}]};var Bt,Ft={mu_inpt_cont_futr_date_err:"Future dates are invalid",mu_inpt_cont_min_amnt_err:"Minimum amount should be greater than 0",mu_inpt_cont_strt_date_err:"Provide a start date",mu_inpt_cont_end_date_err:"Provide an end date",mu_inpt_cont_date_err:"Start date should not exceed end date",mu_inpt_cont_amnt_err:"Minimum amount should not exceed maximum amount",mu_inpt_cont_val_err:"Please enter valid value",mu_fil_upl_retake_photo:"Retake Photo",mu_fil_upl_take_photo:"Take Photo",mu_fil_upl_change_text:"Change photo",mu_fil_upl_upload_photo:"Upload Photo",mu_fil_upl_upload_err:"Please upload valid photo",mu_fil_upl_unknow_err:"Could not capture photo",mu_inpt_cont_sel_err:"Please select valid value",mu_fltr_sub_titl:"Filter By :",mu_fltr_aply_fltr:"Apply Filters",mu_fltr_clr_fltr:"Clear Filters",mu_fltr_rqrd:"*",mu_fltr_clr_all:"Clear all",mu_dt_tbl_edit:"Edit",mu_dt_tbl_save:"Save",mu_dt_tbl_empty_state:"No data to display",page_not_fond_vist_home:"Visit Home"},Yt=((Bt={})[P.Mubble.Lang.English]=Ft,Bt),Ut=new e.InjectionToken("translations"),Vt=[{provide:Ut,useValue:Yt,multi:!0}];function qt(t,e){return Object.keys(t).forEach((function(n){var r=t[n];e[n]&&(t[n]=Object.assign(r,e[n]))})),t}var jt=function(){function t(t,e){var n,r,i,s;if(this.rc=t,this._translations=e,this.defaultLang=P.Mubble.Lang.English,this.fallback=!0,!Array.isArray(this._translations))throw new Error("Translations Error. Expected type array. Actual "+typeof this._translations+" "+JSON.stringify(this._translations));var o={};try{for(var a=_.__values(this._translations),c=a.next();!c.done;c=a.next()){var l=c.value,u=Object.keys(l);try{for(var p=(i=void 0,_.__values(u)),d=p.next();!d.done;d=p.next()){var h=d.value;o[h]?Object.assign(o[h],l[h]):o[h]=l[h]}}catch(t){i={error:t}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this._translations=o}return t.prototype.getCurrentLanguage=function(){return this.currentLang||this.defaultLang},t.prototype.setDefaultLanguage=function(t){this.defaultLang=t},t.prototype.enableFallback=function(t){this.fallback=t},t.prototype.use=function(t){this.currentLang=t},t.prototype.translate=function(t){var e=t;return this._translations[this.currentLang]&&this._translations[this.currentLang][t]?this._translations[this.currentLang][t]:this.fallback&&this._translations[this.defaultLang]&&this._translations[this.defaultLang][t]?this._translations[this.defaultLang][t]:e},t.prototype.addTranslations=function(t,e){Object.assign(this._translations[e],t)},t.prototype.instant=function(t,e){var n=this.translate(t);return e?this.replace(n,e):n},t.prototype.replace=function(t,e){void 0===t&&(t=""),void 0===e&&(e="");var n=t;return[].concat(e).forEach((function(t,e){n=n.replace("%".concat(e),t)})),n},t.prototype.addMoreTranslations=function(t,e){this._translations[e]=Object.assign(Object.assign({},t),this._translations[e])},t}();jt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],jt.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:void 0,decorators:[{type:e.Inject,args:[Ut]}]}]},jt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new jt(e.ɵɵinject("RunContext"),e.ɵɵinject(Ut))},token:jt,providedIn:"root"});var Ht={INIT:0,CLEAR:1,UPDATE:2};Ht[Ht.INIT]="INIT",Ht[Ht.CLEAR]="CLEAR",Ht[Ht.UPDATE]="UPDATE";var Gt=function(){function t(t,n){this.rc=t,this.translate=n,this.filterItems=[],this.webMode=!1,this.displayCount=1,this.displayMode=P.DISPLAY_MODE.HORIZONTAL,this.selectedFilter=new e.EventEmitter,this.stepSelectedFilter=new e.EventEmitter,this.filters=[],this.DISPLAY_MODE=P.DISPLAY_MODE,this.filterChips=[]}return t.prototype.ngOnInit=function(){this.applyBtnText=this.applyBtnTitle?this.applyBtnTitle:this.translate.instant("mu_fltr_aply_fltr"),this.initialize(Ht.INIT)},t.prototype.updateLastAppliedFilters=function(t){this.filterItems=t,this.initialize(Ht.UPDATE)},t.prototype.applyFilters=function(){this.filterChips=[],this.inputContInstances.toArray().forEach((function(t){t.onSubmit()})),this.hasError()||(this.valueChanged()?this.selectedFilter.emit(this.filters):this.selectedFilter.emit([]))},t.prototype.clearFilters=function(){this.inputContInstances.toArray().forEach((function(t){t.onSubmit()})),this.initialize(Ht.CLEAR),this.filterChips=[],this.selectedFilter.emit(void 0)},t.prototype.setFilterItems=function(t){this.setFilterChips(t);var e=this.filters.findIndex((function(e){return e.id===t.id}));this.filters[e].value=t.value},t.prototype.onFilterSelected=function(t){this.stepSelectedFilter.emit(t)},t.prototype.resetFilters=function(t){var e,n,r=function(t){var e=i.filterItems.findIndex((function(e){return e.params.id===t.params.id}));if(-1==e)return"continue";i.filterItems.splice(e,1,t)},i=this;try{for(var s=_.__values(t),o=s.next();!o.done;o=s.next()){r(o.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.hasError=function(){return this.inputContInstances.toArray().some((function(t){return t.hasError()}))},t.prototype.valueChanged=function(){var t,e,n=function(t){var e=r.filters.findIndex((function(e){return e.id===t.params.id})),n=!1;switch(t.params.displayType){case P.DISPLAY_TYPE.CALENDAR_BOX:case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.ROW_INPUT_BOX:case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX:case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:case P.DISPLAY_TYPE.SLIDER:n=!(!t.params.value&&!r.filters[e].value)&&t.params.value!==r.filters[e].value;break;case P.DISPLAY_TYPE.DATE_RANGE:var i=t.params.rangeKeys||["startDate","endDate"];n=!!(t.params.value[i[0]]||r.filters[e].value[i[0]]||t.params.value[i[1]]||r.filters[e].value[i[1]])&&(t.params.value[i[0]]!==r.filters[e].value[i[0]]||t.params.value[i[1]]!==r.filters[e].value[i[1]]);break;case P.DISPLAY_TYPE.NUMBER_RANGE:var s=t.params.rangeKeys||["minAmount","maxAmount"];n=!!(t.params.value[s[0]]||r.filters[e].value[s[0]]||t.params.value[s[1]]||r.filters[e].value[s[1]])&&(t.params.value[s[0]]!==r.filters[e].value[s[0]]||t.params.value[s[1]]!==r.filters[e].value[s[1]])}if(n)return{value:n}},r=this;try{for(var i=_.__values(this.filterItems),s=i.next();!s.done;s=i.next()){var o=n(s.value);if("object"==typeof o)return o.value}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!1},t.prototype.initialize=function(t){var e,n,r,i,s,o;if(t===Ht.INIT)try{for(var a=_.__values(this.filterItems),c=a.next();!c.done;c=a.next()){var l=c.value;this.filters.push({id:l.params.id,value:l.params.value,mode:l.mode,displayType:l.params.displayType})}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else if(t===Ht.CLEAR){this.filters=[];var u=[];try{for(var p=_.__values(this.filterItems),d=p.next();!d.done;d=p.next()){var h=(l=d.value).params.displayType===P.DISPLAY_TYPE.DATE_RANGE?{startDate:null,endDate:null}:l.params.displayType===P.DISPLAY_TYPE.NUMBER_RANGE?{minAmount:null,maxAmount:null}:null;l.params.value=h,u.push({params:l.params,mode:l.mode}),this.filters.push({id:l.params.id,value:h,mode:l.mode,displayType:l.params.displayType})}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.filterItems=[],this.filterItems=u}else{u=[];var m=[],g=function(t){var e=f.filters.find((function(e){return e.id===t.params.id&&t.params.value}));t.params.value=e?e.value:null,u.push({params:t.params,mode:t.mode}),m.push({id:t.params.id,value:t.params.value,mode:t.mode,displayType:t.params.displayType})},f=this;try{for(var v=_.__values(this.filterItems),y=v.next();!y.done;y=v.next()){g(l=y.value)}}catch(t){s={error:t}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}this.filterItems=[],this.filterItems=u,this.filters=m}},t.prototype.setFilterChips=function(t){var e=this;switch(t.displayType){case P.DISPLAY_TYPE.CALENDAR_BOX:break;case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.ROW_INPUT_BOX:t.value&&this.filterChips.push(t.value);break;case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX:if(t.value)t.value.forEach((function(t){e.filterChips.push(t.value)}));break;case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:case P.DISPLAY_TYPE.SLIDER:t.value&&this.filterChips.push(t.value.value);break;case P.DISPLAY_TYPE.DATE_RANGE:case P.DISPLAY_TYPE.NUMBER_RANGE:}},t}();Gt.decorators=[{type:e.Component,args:[{selector:"filter",template:'<div  [ngClass]="webMode ? \'nc-web-view-filter-comp\' : \'filter-comp\'"\n      [class.vertical-mode]="displayMode === DISPLAY_MODE.VERTICAL"\n      [ngClass.xl]="webMode ? \'web-view-filter-comp\' : \'web-filter-comp\'" \n      [ngClass.lg]="webMode ? \'web-view-filter-comp\' : \'web-filter-comp\'" \n      [ngClass.md]="webMode ? \'web-view-filter-comp\' : \'web-filter-comp\'"\n      [ngClass.sm]="webMode ? \'web-view-filter-comp\' : \'web-filter-comp\'" mweb #parent>\n\n  <div class="filter-subtitle  primary-bg-light">\n    <div class="head-cont">\n      <span class="txt-xl-med-dark"> {{ \'mu_fltr_sub_titl\' | translate }} </span> \n      <span *ngIf="displayMode === DISPLAY_MODE.VERTICAL" (click)="clearFilters()"\n        class="txt-lg-med-norm">\n        {{ \'mu_fltr_clr_all\' | translate }} \n      </span>\n    </div>\n    <div class="chip-list" *ngIf="filterChips.length">\n      <div class="chip txt-lg-reg-dark" *ngFor="let chip of filterChips">\n          {{ chip }}\n      </div>\n    </div>\n  </div>\n\n  <div class="filter-content-body">\n\n    <div class="single-filter-cont" *ngFor="let fItem of filterItems; let i = index"\n      adjustElements [displayInSingleRow]="displayCount" [elementIndex]="i" [webMode]="webMode">\n      <div class="input-title txt-lg-bld-dark">\n        {{ fItem.params.label }}\n\n        <span class="txt-lg-reg-norm error-text" *ngIf="fItem.params.isRequired">\n          {{ \'mu_fltr_rqrd\' | translate }}\n        </span>\n      </div>\n\n      <div class="single-input-cont">\n        <input-container\n          [inputParams]="fItem.params"\n          [displayMode]="displayMode"\n          [screen]="screen"\n          [displayLabel]="false"\n          [webMode]="webMode"\n          [parentCont]="parent"\n          (value)="setFilterItems($event)"\n          (stepSelectedFilter)="onFilterSelected($event)"\n          #inputCont>\n        </input-container>\n      </div>\n    </div>\n  </div>\n\n  <footer class="footer">\n    <button class="button-primary btn sdk-button" (click)="applyFilters()">\n      {{ applyBtnText }}\n    </button>\n\n    <button class="button-primary btn sdk-button" (click)="clearFilters()"\n      *ngIf="displayMode !== DISPLAY_MODE.VERTICAL">\n      {{ \'mu_fltr_clr_fltr\' | translate }}\n    </button>\n  </footer>\n\n</div>',styles:[".filter-comp{display:flex;flex-direction:column;height:100%;width:100%}.input-title{padding:3vw 4vw 0}.filter-content-body{max-height:70%;overflow-y:auto}.filter-content-body::-webkit-scrollbar{width:5px}.filter-subtitle,.footer{padding:2% 4%}.footer{bottom:0;display:flex;justify-content:space-between;left:0;position:absolute;width:92%}.footer .button-primary{margin:0!important}.btn{width:46%}.web-filter-comp{display:flex;flex-direction:column;overflow-y:auto}.web-filter-comp .input-title{padding:10px 0 0 4%;width:120px}.web-filter-comp .filter-subtitle{padding:10px 4%}.web-filter-comp .filter-content-body{flex-direction:row}.web-filter-comp .single-input-cont{width:calc(100% - 120px)}.web-filter-comp .single-filter-cont{align-items:baseline;display:flex;flex-direction:row}.web-filter-comp .footer{display:flex;justify-content:space-between;margin:auto;padding:2% 1%;position:relative;width:98%}.web-filter-comp .footer .button-primary{margin:0 auto!important}.web-filter-comp .btn{width:43%}.web-view-filter-comp{display:flex;flex-direction:column;height:auto!important;overflow-y:auto}.web-view-filter-comp .filter-subtitle{height:10%;max-height:10%;padding:4px 6px}.web-view-filter-comp .filter-content-body{display:flex;flex-wrap:wrap;height:auto;overflow-y:auto}.web-view-filter-comp .filter-content-body::-webkit-scrollbar{width:2px}.web-view-filter-comp .btn{width:auto}.web-view-filter-comp .single-filter-cont{align-items:center;display:flex;flex-direction:row;justify-content:space-between}.web-view-filter-comp .input-title{padding:6px;width:90px}.web-view-filter-comp .single-input-cont{padding:4px 0;width:calc(100% - 90px)}.web-view-filter-comp .left{margin-left:24px;width:calc(33% - 24px)}.web-view-filter-comp .right{margin-right:24px;width:calc(33% - 24px)}.web-view-filter-comp .middle{margin:0 12px;width:calc(33% - 24px)}.web-view-filter-comp .footer{display:block;height:20%;padding:1%;position:relative;width:98%}.web-view-filter-comp .footer .button-primary{float:right;height:2rem;margin:1px 6px!important;padding:6px}.nc-web-view-filter-comp{display:flex;flex-direction:column;height:auto!important;overflow-y:auto}.nc-web-view-filter-comp .filter-subtitle{padding:2vw 5vw}.nc-web-view-filter-comp .filter-content-body{display:flex;flex-wrap:wrap;height:auto;overflow-y:auto;padding:0 5vw}.nc-web-view-filter-comp .single-filter-cont{align-items:center;display:flex;flex-direction:row;width:50%}.nc-web-view-filter-comp .input-title{width:90px}.nc-web-view-filter-comp .single-input-cont{width:calc(100% - 90px)}.nc-web-view-filter-comp .start{padding-left:4vw}.nc-web-view-filter-comp .end{padding-right:4vw}.nc-web-view-filter-comp .footer{display:flex;height:auto;padding:2vw 5vw;position:relative;width:100%}.nc-web-view-filter-comp .footer .button-primary{height:2rem;margin:1px 6px!important;padding:6px}.web-filter-comp .head-cont{display:flex;justify-content:space-between}.web-filter-comp .chip-list{display:flex;flex-wrap:wrap;padding:10px 0 0}.web-filter-comp .chip{background-color:#d8d8d8;border-radius:5px;margin:2px;padding:7px 10px;word-break:break-word}.web-view-filter-comp .head-cont{display:flex;justify-content:space-between}.web-view-filter-comp .chip-list{display:flex;flex-wrap:wrap;padding:10px 0 0}.web-view-filter-comp .chip{background-color:#d8d8d8;border-radius:5px;margin:2px;padding:7px 10px;word-break:break-word}.vertical-mode{box-shadow:0 2px 5px 0 rgba(0,0,0,.2);max-height:100%!important}.vertical-mode .filter-content-body{max-height:none!important}.vertical-mode .single-filter-cont{align-items:flex-start;border-bottom:1px solid #dedede;flex-direction:column!important;padding:0 10px;width:calc(100% - 20px)!important}.vertical-mode .checkbox{padding:5px 0!important}.vertical-mode .input-title{padding-left:0;padding-top:10px!important}.vertical-mode .button-primary{height:1rem;width:calc(100% - 12px)}.vertical-mode .single-input-cont{width:100%}"]}]}],Gt.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:jt}]},Gt.propDecorators={inputContInstances:[{type:e.ViewChildren,args:["inputCont"]}],filterItems:[{type:e.Input}],screen:[{type:e.Input}],webMode:[{type:e.Input}],displayCount:[{type:e.Input}],displayMode:[{type:e.Input}],applyBtnTitle:[{type:e.Input}],selectedFilter:[{type:e.Output}],stepSelectedFilter:[{type:e.Output}]};var Wt=[{path:ft.LoadingOverlay,component:Mt},{path:ft.Modal,component:Lt,outlet:"modal"},{path:ft.BottomIn,component:Ot,outlet:"modal"},{path:ft.Filter,component:Gt}],Kt=function(){};Kt.decorators=[{type:e.NgModule,args:[{imports:[w.RouterModule.forChild(Wt)],exports:[w.RouterModule]}]}];var Xt=function(){function t(t){this._translate=t}return t.prototype.transform=function(t,e){if(t)return this._translate.instant(t,e)},t}();Xt.decorators=[{type:e.Pipe,args:[{name:"translate",pure:!1}]}],Xt.ctorParameters=function(){return[{type:jt}]};var $t=[{alias:"sm",suffix:"sm",mediaQuery:"screen and (min-width: 780px) and (max-width: 959px)",overlapping:!1}],zt={provide:i.BREAKPOINT,useValue:$t,multi:!0},Jt=function(){function t(t,e){this.element=t,this.changeRef=e}return t.prototype.ngAfterViewInit=function(){this.element.nativeElement.focus(),this.changeRef.detectChanges()},t}();Jt.decorators=[{type:e.Directive,args:[{selector:"[ncAutoFocus]"}]}],Jt.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]};var Zt=/[\/\- ]/,Qt=function(){function t(t,n,r){this.element=t,this.renderer=n,this.ngZone=r,this.maxLength=0,this.updatedValue=new e.EventEmitter,this.eventHandlers=[]}return t.prototype.ngAfterViewInit=function(){this.maxLength=Number(this.maxLength),"number"==typeof this.maxLength&&this.eventHandlers.push(this.renderer.listen(this.element.nativeElement,"keyup",this.eventHandler.bind(this)),this.renderer.listen(this.element.nativeElement,"paste",this.clipBoardEventHandler.bind(this)),this.renderer.listen(this.element.nativeElement,"cut",this.clipBoardEventHandler.bind(this)))},t.prototype.handleEvent=function(t){this.eventHandler(t)},t.prototype.clipBoardEventHandler=function(t){var e=this;setTimeout((function(){e.ngZone.runOutsideAngular((function(){e.eventHandler(t)}))}),0)},t.prototype.eventHandler=function(t){var e=this;this.ngZone.runOutsideAngular((function(){var n=t.srcElement;if(n.inputMode&&!1===("numeric"===n.inputMode&&n.value.trim().length&&!isNaN(n.value))){var r=n.value.indexOf(t.key);return n.value=n.value.substring(0,r),void(t.srcElement.value=n.value)}if("Backspace"!==t.key){if(n.value.length>e.maxLength&&(t.preventDefault(),n.value=n.value.substring(0,e.maxLength)),e.format){for(var i=e.format,s=n.value,o=0;o<n.value.length;o++)Zt.test(i[o+1])&&s[o+1]!==i[o+1]&&(s=s.substr(0,o+1)+i[o+1]+s.substr(o+1));n.value=s}var a=n.scrollHeight,c=n.clientHeight;a>c&&n.scrollTop!==a-c&&(n.scrollTop=a-c),e.emitUpdatedValue(n.value),t.srcElement.value=n.value}else e.emitUpdatedValue(n.value)}))},t.prototype.emitUpdatedValue=function(t){var e=this;this.ngZone.run((function(){e.updatedValue.emit(t)}))},t.prototype.ngOnDestroy=function(){var t,e;try{for(var n=_.__values(this.eventHandlers),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.eventHandlers=[]},t}();Qt.decorators=[{type:e.Directive,args:[{selector:"[ncMaxLength]"}]}],Qt.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.NgZone}]},Qt.propDecorators={maxLength:[{type:e.Input,args:["ncMaxLength"]}],format:[{type:e.Input,args:["format"]}],updatedValue:[{type:e.Output}]};var te=function(){function t(){this.timeoutId=null,this.intervalId=null,this.onLongPress=new e.EventEmitter,this.onLongPressing=new e.EventEmitter,this.isTouching=new e.EventEmitter,this.timeout=1e3}return Object.defineProperty(t.prototype,"press",{get:function(){return this.isPressing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longPress",{get:function(){return this.isLongPressing},enumerable:!1,configurable:!0}),t.prototype.onMouseDown=function(t){var e=this;this.isPressing=!0,this.isTouching.emit(!0),this.isLongPressing=!1,this.timeoutId=window.setTimeout((function(){e.isLongPressing=!0,e.onLongPress.emit(t),e.intervalId=window.setInterval((function(){e.onLongPressing.emit(t)}),30)}),this.timeout)},t.prototype.onMouseLeave=function(){this.endPress()},t.prototype.endPress=function(){null!==this.timeoutId&&clearTimeout(this.timeoutId),null!==this.intervalId&&clearInterval(this.intervalId),this.isLongPressing=!1,this.isPressing=!1,this.isTouching.emit(!1)},t}();te.decorators=[{type:e.Directive,args:[{selector:"[long-press]"}]}],te.propDecorators={onLongPress:[{type:e.Output}],onLongPressing:[{type:e.Output}],isTouching:[{type:e.Output}],timeout:[{type:e.Input}],press:[{type:e.HostBinding,args:["class.press"]}],longPress:[{type:e.HostBinding,args:["class.long-press"]}],onMouseDown:[{type:e.HostListener,args:["touchstart",["$event"]]}],onMouseLeave:[{type:e.HostListener,args:["touchend",["$event"]]}]};var ee=function(){function t(t,e){this.element=t,this.renderer=e}return t.prototype.ngAfterViewInit=function(){this.renderer.addClass(this.element.nativeElement,this.ncClass)},t}();ee.decorators=[{type:e.Directive,args:[{selector:"[ncClass]"}]}],ee.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},ee.propDecorators={ncClass:[{type:e.Input,args:["ncClass"]}]};var ne=function(){function t(t){this.element=t,this.displayCount=1,this.webMode=!1}return t.prototype.ngAfterViewInit=function(){var t=this.calcWidth();(this.index+1)%this.displayCount!=0?(this.element.nativeElement.style.width=t.width,this.element.nativeElement.style.marginRight=t.marginRight,this.element.nativeElement.style.maxWidth=t.maxWidth):(this.element.nativeElement.style.width=t.width,this.element.nativeElement.style.maxWidth=t.maxWidth)},t.prototype.calcWidth=function(){var t={};if(!this.webMode)return t.width="100%",t;switch(this.displayCount){case 1:t.width="60%",t.maxWidth="400px";break;case 2:t.width="45%",t.marginRight="10%",t.maxWidth="400px";break;case 3:t.width="30%",t.marginRight="3%";default:var e=void 0,n=void 0,r=void 0;for(r=99;r>1;r--)if(r%this.displayCount==0&&(100-r)%(this.displayCount-1)==0&&(100-r)/(this.displayCount-1)>this.displayCount){e=(r/this.displayCount).toString().concat("%"),n=((100-r)/(this.displayCount-1)).toString().concat("%");break}t.width=e,t.marginRight=n}return t},t}();ne.decorators=[{type:e.Directive,args:[{selector:"[adjustElements]"}]}],ne.ctorParameters=function(){return[{type:e.ElementRef}]},ne.propDecorators={displayCount:[{type:e.Input,args:["displayInSingleRow"]}],index:[{type:e.Input,args:["elementIndex"]}],webMode:[{type:e.Input,args:["webMode"]}]};var re=function(){function t(t){this.element=t,this.dynamicColorObj={}}return t.prototype.ngAfterViewInit=function(){this.createDynamicColor(),this.initialChar=this.getFirstCharacter(this.data),this.setColor(this.initialChar)},t.prototype.createDynamicColor=function(){for(var t=0,e=0,n=1;n<=26;n++){var r=t+10;t+=10;for(var i=0;i<=26;i++){var s=i?e+3:60;e+=3;var o="hsl("+r+", "+s+"%, 60%)";i?this.dynamicColorObj[""+String.fromCharCode(64+n)+String.fromCharCode(64+i)]=o:this.dynamicColorObj[String.fromCharCode(64+n)]=o}e=0}},t.prototype.getFirstCharacter=function(t){var e=t.split(" "),n=new RegExp("[a-zA-Z][a-zA-Z ]*"),r=e.filter((function(t){return n.test(t)}));return this.needOneChar?r[0].charAt(0).toUpperCase():r.length>1?(r[0].charAt(0)+e[1].charAt(0)).toUpperCase():r[0].charAt(0).toUpperCase()},t.prototype.setColor=function(t){this.dynamicColorObj[t],this.element.nativeElement.innerHTML=this.initialChar,this.element.nativeElement.style.background=this.dynamicColorObj[t]},t}();re.decorators=[{type:e.Directive,args:[{selector:"[ncFallbackChar]"}]}],re.ctorParameters=function(){return[{type:e.ElementRef}]},re.propDecorators={data:[{type:e.Input,args:["ncFallbackChar"]}],needOneChar:[{type:e.Input,args:["needOneChar"]}]};var ie=function(){function t(t,e,n){this.rc=t,this.element=e,this.renderer=n}return t.prototype.ngAfterViewInit=function(){this.parentDiv&&(void 0===this.isHeghtAuto&&(this.isHeghtAuto=!this.parentDiv.style.height.length),this.renderer.addClass(this.element.nativeElement,"mui-event-adjust-pan-screen"),this.renderer.listen(this.element.nativeElement,"mui-event-adjust-pan-screen",this.onCustomEvent.bind(this)),this.renderer.listen(this.element.nativeElement,"focus",this.onCustomEvent.bind(this)),this.renderer.listen(this.element.nativeElement,"blur",this.onBlur.bind(this)),this.rc.bridge.isRunningInMWeb()&&(this.handleKeyBoardEvents(),window.addEventListener("resize",O.default(this.handleKeyBoardEvents.bind(this),300))))},t.prototype.handleKeyBoardEvents=function(){var t=document.body.getBoundingClientRect().height;this.originalBodyHeight||(this.originalBodyHeight=t);var e=this.originalBodyHeight-t;this.rc.bridge.currKeyboardHt=-e,this.onCustomEvent()},t.prototype.onBlur=function(){this.rc.bridge.isRunningInBrowser()&&!this.rc.bridge.isRunningInMWeb()||(this.isHeghtAuto?this.renderer.removeStyle(this.parentDiv,"height"):this.parentDiv.style.height=this.originalParentHeight+"px",this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onBlur original Height "+this.originalParentHeight),this.rc.bridge.isRunningInMWeb()&&window.scrollTo(0,0))},t.prototype.onCustomEvent=function(){if(!this.rc.bridge.isRunningInBrowser()||this.rc.bridge.isRunningInMWeb()){var t=this.rc.bridge.currKeyboardHt,e=this.parentDiv,n=e.getBoundingClientRect();if(document.activeElement===this.element.nativeElement)if(t<0){this.originalParentHeight=this.parentDiv.getBoundingClientRect().height,e.style.height=n.height-t+"px";this.element.nativeElement.scrollIntoView({behaviour:"smooth",block:"center",inline:"start"}),this.rc.bridge.isRunningInMWeb()&&window.scrollTo(0,0)}else this.onBlur()}},t.prototype.ngOnDestroy=function(){this.renderer.removeClass(this.element.nativeElement,"mui-event-adjust-pan-screen")},t}();ie.decorators=[{type:e.Directive,args:[{selector:"[keyboard]"}]}],ie.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:e.ElementRef},{type:e.Renderer2}]},ie.propDecorators={parentDiv:[{type:e.Input,args:["keyboard"]}]};var se=function(){function t(t){this.rc=t,this.onSubmit=new e.EventEmitter}return t.prototype.onHostSubmit=function(t){this.onEnter(t)},t.prototype.onEnter=function(t){this.nextInpFocusElem?this.nextInpFocusElem.focus():this.onSubmit.emit(t)},t}();se.decorators=[{type:e.Directive,args:[{selector:"[nextInpFocus]"}]}],se.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]},se.propDecorators={onHostSubmit:[{type:e.HostListener,args:["keydown.enter",["$event.target"]]}],nextInpFocusElem:[{type:e.Input,args:["nextInpFocus"]}],onSubmit:[{type:e.Output}]};var oe="BUTTON",ae=function(){function t(t,n,r){this.rc=t,this.element=n,this.renderer=r,this.ncClick=new e.EventEmitter,this.clickEnabled=!0,this.originialColor=""}return t.prototype.onMouseOver=function(){this.element.nativeElement.tagName!==oe&&this.rc.bridge.isRunningInBrowser()&&(this.originialColor||(this.originialColor=window.getComputedStyle(this.element.nativeElement,null).getPropertyValue("background-color")),this.element.nativeElement.style.background="#f2f5f7")},t.prototype.onClick=function(t){this.applyOriginalBg(),this.clickEnabled&&(this.clickEnabled=!1,this.allowClickDelay=this.allowClickDelay||1e3,setTimeout(this.allowClick.bind(this),this.allowClickDelay),this.ncClick.emit(t))},t.prototype.ngAfterViewInit=function(){this.element.nativeElement.style.cursor="pointer",this.renderer.listen(this.element.nativeElement,"mouseover",this.onMouseOver.bind(this)),this.renderer.listen(this.element.nativeElement,"mouseout",this.applyOriginalBg.bind(this)),this.renderer.listen(this.element.nativeElement,"click",this.applyOriginalBg.bind(this))},t.prototype.allowClick=function(){this.clickEnabled=!0},t.prototype.applyOriginalBg=function(){this.element.nativeElement.tagName!==oe&&this.rc.bridge.isRunningInBrowser()&&(this.element.nativeElement.style.background=this.originialColor||"initial")},t}();ae.decorators=[{type:e.Directive,args:[{selector:"[ncAllowSingleClick]"}]}],ae.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:e.ElementRef},{type:e.Renderer2}]},ae.propDecorators={allowClickDelay:[{type:e.Input,args:["ncPreventDoubleClick"]}],ncClick:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]};var ce={WALLET:"WALLET",APP:"APP",BANK:"BANK",PROFILE:"PROFILE"},le="images/app-logo-hoz.jpg",ue=function(){function t(t){this.element=t}return t.prototype.onError=function(){Array.isArray(this.data)?this.data[1]&&this.data[1].r&&this.data[1].g&&this.data[1].b?this.element.nativeElement.style.background=this.getColor(this.data[1]):this.setFallbackImage(this.data[0]):this.setFallbackImage(this.data)},t.prototype.setFallbackImage=function(t){switch(t){case ce.WALLET:this.element.nativeElement.src="svg-icons/ic-primary-wallet.svg";break;case ce.APP:this.element.nativeElement.src=le;break;case ce.BANK:this.element.nativeElement.src="svg-icons/ic-bank-activity-fill.svg";break;case ce.PROFILE:this.element.nativeElement.src="svg-icons/ic-user-gray.svg";break;default:this.element.nativeElement.src=le}},t.prototype.getColor=function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"},t}();ue.decorators=[{type:e.Directive,args:[{selector:"[ncImgFallback]"}]}],ue.ctorParameters=function(){return[{type:e.ElementRef}]},ue.propDecorators={data:[{type:e.Input}],onError:[{type:e.HostListener,args:["error"]}]};var pe=function(){function t(t,n){this.element=t,this.renderer=n,this.imgLoaded=new e.EventEmitter,this.imgError=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.renderer.addClass(this.element.nativeElement,"img-validator"),this.element.nativeElement.src=this.payload.base64},t.prototype.onError=function(){this.imgError.emit(this.payload)},t.prototype.onLoad=function(){this.imgLoaded.emit(this.payload)},t}();pe.decorators=[{type:e.Directive,args:[{selector:"[validateImg]"}]}],pe.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},pe.propDecorators={payload:[{type:e.Input}],imgLoaded:[{type:e.Output}],imgError:[{type:e.Output}],onError:[{type:e.HostListener,args:["error"]}],onLoad:[{type:e.HostListener,args:["load"]}]};var de=function(){function t(t,e){this.rc=t,this.injector=e}return t.prototype.transform=function(t,e,n){if(!e)return t;var r=this.injector.get(e);return r.transform&&"function"==typeof r.transform?n?r.transform.apply(r,_.__spread([t],n)):r.transform(t):t},t}();de.decorators=[{type:e.Pipe,args:[{name:"genericPipe"}]}],de.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:e.Injector}]};var he=function(){function t(t){this.rc=t}return t.prototype.transform=function(t){return this.rc.utils.get10digitMobNumber(t)},t}();he.decorators=[{type:e.Pipe,args:[{name:"extractMobileNo"}]}],he.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]};var me=function(){function t(t){this.rc=t}return t.prototype.transform=function(t,e){if(void 0===e&&(e=!0),void 0!==t){var n={currency:"INR",style:"currency",maximumFractionDigits:2},r=t.toLocaleString("en-IN",n);return e?r:r.split(".")[0]}},t}();me.decorators=[{type:e.Pipe,args:[{name:"inrcurrency"}]}],me.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]};var ge=function(){function t(t,n){this.rc=t,this.changeRef=n,this.isDropDownOpen=!1,this.isSelectAll=!1,this.showPlaceHolder=!0,this.listOptions=[],this.selectedItems=new e.EventEmitter,this.selectedAll=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),this.options,"missing options "+this.options),this.listOptions=JSON.parse(JSON.stringify(this.options))},t.prototype.onHostClick=function(t){var e,n;if(this.showDropDown){try{for(var r=_.__values(["drop-down-list","checkbox-cont"]),i=r.next();!i.done;i=r.next()){var s=i.value;if(new RegExp(s).test(t.target.offsetParent.className))return}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.isDropDownOpen?this.isDropDownOpen=!1:this.showDropDown=!1}},t.prototype.handlePlaceHolder=function(){var t=this.listOptions.findIndex((function(t){return t.selected}));this.showPlaceHolder=-1===t},t.prototype.handleDropDown=function(){this.showDropDown=!this.showDropDown,this.isDropDownOpen=!this.isDropDownOpen},t.prototype.onCheckBoxClick=function(t,e){t.checked?(e.selected=!0,this.showPlaceHolder=!1):(e.selected=!1,this.handlePlaceHolder()),this.changeRef.detectChanges(),this.selectedItems.emit(e)},t.prototype.onSelectAll=function(t){t.checked?(this.showPlaceHolder=!1,this.listOptions.forEach((function(t){t.selected=!0})),this.isSelectAll=!0):(this.listOptions.forEach((function(t){t.selected=!1})),this.isSelectAll=!1,this.handlePlaceHolder()),this.selectedAll.emit(t)},t}();ge.decorators=[{type:e.Component,args:[{selector:"drop-down-multi-select",template:'<div class="drop-down-multi-select-comp"\n  [ngClass.xl]="[\'web-drop-down-multi-select\']"\n  [ngClass.lg]="[\'web-drop-down-multi-select\']"\n  [ngClass.md]="[\'web-drop-down-multi-select\']"\n  [ngClass.sm]="[\'web-drop-down-multi-select\']">\n\n  <div class="drop-box-cont border-primary">\n\n    <div class="placeholder txt-md-med-light" *ngIf="placeholder && showPlaceHolder">\n      {{ placeholder }}\n    </div>\n\n    <div class="sel-items-cont" *ngIf="!showPlaceHolder">\n\n      <ng-container *ngFor="let option of listOptions">\n        <div class="sel-item txt-sm-med-dark grey-bg" *ngIf="option.selected">\n          {{ option.value }}\n        </div>\n      </ng-container>\n\n    </div>\n\n    <div class="arrow-cont">\n      <div class="arrow" (click)="handleDropDown()">\n        <i class="fa fa-2x fa-angle-down" aria-hidden="true"></i>\n      </div>\n    </div>\n\n  </div>\n\n  <div class="drop-down-list bg-white" *ngIf="showDropDown">\n\n    <div class="checkbox-cont">\n      <mat-checkbox *ngIf="showSelectAll" [value]="\'ALL\'"\n        class="txt-md-med-norm checkbox"\n        [checked]="isSelectAll"\n        (change)="onSelectAll($event)">\n        Select All\n      </mat-checkbox>\n\n      <mat-checkbox *ngFor="let option of listOptions" [value]="option"\n        class="txt-md-med-norm checkbox"\n        [checked]="option.selected"\n        (change)="onCheckBoxClick($event, option)">\n        {{ option.value }}\n      </mat-checkbox>\n\n    </div>\n  \n  </div>\n\n</div>',styles:[".drop-box-cont{border-style:solid;border-width:2px;display:flex;justify-content:space-between;padding:4px 8px}.drop-down-list{border-radius:4px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);max-height:200px;overflow-y:auto;padding:0 10px;position:absolute;width:calc(24% - 12px);z-index:200}.sel-items-cont{display:flex;overflow-y:auto;width:calc(100% - 24px)}.placeholder,.sel-item{align-items:center;display:flex}.sel-item{margin-right:10px;padding:0 4px}.checkbox{padding:1vw 0}.checkbox-cont{display:flex;flex-direction:column;position:relative}@media screen and (max-width:1500px) and (min-width:900px){.drop-down-list{width:calc(22% - 20px)}}"]}]}],ge.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:e.ChangeDetectorRef}]},ge.propDecorators={options:[{type:e.Input}],showSelectAll:[{type:e.Input}],placeholder:[{type:e.Input}],selectedItems:[{type:e.Output}],selectedAll:[{type:e.Output}],onHostClick:[{type:e.HostListener,args:["document:click",["$event"]]}]};var fe=function(){function t(t){this.rc=t}return t.prototype.ngOnInit=function(){void 0===this.apiLoadingBottomIn&&(this.apiLoadingBottomIn=!1)},t}();fe.decorators=[{type:e.Component,args:[{selector:"loading",template:'<div class="loading-comp">\n\n  <div class="mu-loading-root" [ngClass]="customClass || \'bg-white\'"\n    [ngClass.xl]="[\'web-mu-content-div\', customClass || \'bg-white\']"\n    [ngClass.lg]="[\'web-mu-content-div\', customClass || \'bg-white\']"\n    [ngClass.md]="[\'web-mu-content-div\', customClass || \'bg-white\']"\n    [ngClass.sm]="[\'web-mu-content-div\', customClass || \'bg-white\']">\n\n    <div class="loading-cont">\n\n      <div class="spinner-cont" [class.spinner-cont-top]="apiLoadingBottomIn">\n        <img *ngIf="graphicUrl" src="{{graphicUrl}}">\n        <i *ngIf="!graphicUrl" class="spinner fa fa-spinner fa-pulse fa-3x fa-fw text-color-primary"></i>\n      </div>\n      \n      <div class="loading-text txt-xl-med-norm">\n        {{apiLoadingText}}\n      </div>\n\n    </div>\n\n  </div>\n\n</div>',styles:[".mu-loading-root{align-items:center;display:flex;justify-content:center}.loading-text{padding:2vw}.loading-cont{align-items:center;display:flex;flex-direction:column;justify-content:center}.web-mu-content-div{height:100%!important;width:100%!important}.web-mu-content-div .loading-text{padding:10px}"]}]}],fe.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]},fe.propDecorators={apiLoadingText:[{type:e.Input}],apiLoadingBottomIn:[{type:e.Input}],customClass:[{type:e.Input}],graphicUrl:[{type:e.Input}]};var ve=function(){function t(t){this.rc=t,this.apiErrorAction=new e.EventEmitter}return t.prototype.onErrorAction=function(){this.apiErrorAction.emit()},t}();ve.decorators=[{type:e.Component,args:[{selector:"loading-error",template:'<div class="loading-error-comp"\n[ngClass.xl]="[\'web-loading-error\']"\n[ngClass.lg]="[\'web-loading-error\']"\n[ngClass.md]="[\'web-loading-error\']"\n[ngClass.sm]="[\'web-loading-error\']">\n  <div class="mu-loading-root">\n    <div class="txt-xl-med-norm error-text-cont">\n      {{apiErrorText}}\n    </div>\n\n    <div class="error-btn-cont" *ngIf="apiCanRetry">\n      <button class="error-btn button-primary" \n        (click)="onErrorAction()">\n        {{apiRetryText}}\n      </button>\n    </div>\n  </div>\n</div>',styles:[".mu-loading-root{align-items:center;display:flex;flex-direction:column;justify-content:center}.error-text-cont{margin-left:5%;margin-right:5%;position:relative}.error-btn-cont{margin-top:10vh;position:relative}.error-btn{width:70vw}.web-loading-error .mu-loading-root{height:100%;width:100%}.web-loading-error .error-btn-cont{width:100%}.web-loading-error .error-btn{width:50%}.web-loading-error .error-text-cont{overflow-wrap:break-word}"]}]}],ve.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]},ve.propDecorators={apiErrorText:[{type:e.Input}],apiCanRetry:[{type:e.Input}],apiRetryText:[{type:e.Input}],apiErrorAction:[{type:e.Output}]};var ye=function(){};ye.decorators=[{type:e.Component,args:[{selector:"toast",template:'<div class="toast-comp" [@visibilityChanged]>\n  <div class="toast"\n    [ngClass.xl]="[\'web-toast\']"\n    [ngClass.lg]="[\'web-toast\']"\n    [ngClass.md]="[\'web-toast\']"\n    [ngClass.sm]="[\'web-toast\']">\n    <span class="txt-xl-reg-norm toast-text">{{toastMessage}}</span>\n  </div>\n</div>',animations:[C.trigger("visibilityChanged",[C.transition(":enter",[C.style({opacity:0}),C.animate("500ms",C.style({opacity:1}))]),C.transition(":leave",[C.style({opacity:1}),C.animate("500ms",C.style({opacity:0}))])])],styles:[".toast{border-radius:25px;margin:0 auto;max-width:85vw;min-width:50vw;padding-bottom:10px;padding-top:10px;text-align:center}.web-toast{max-width:500px!important;min-width:401px!important}"]}]}],ye.propDecorators={toastMessage:[{type:e.Input}]};var be=function(){function t(t,n,r){this.element=t,this.ngZone=n,this.renderer=r,this.items=[],this.upperBufferCount=50,this.lowerBufferCount=10,this.listEnd=new e.EventEmitter,this.activeElement=new e.EventEmitter,this.viewPortItems=[],this.previousStartIdx=0,this.previousEndIdx=-1,this.itemsHeight={},this.translateY=0,this.lastScrolledTop=0,this.currActiveElemIndex=0,this.lastActiveElemIndex=-1}return t.prototype.ngOnInit=function(){this.viewPortItems=this.items.slice(this.previousStartIdx,this.lowerBufferCount),this.scrollHandler=this.renderer.listen(this.element.nativeElement,"scroll",this.refreshList.bind(this))},t.prototype.ngOnChanges=function(){this.refreshList()},t.prototype.ngAfterViewInit=function(){this.setInitHolderHeight()},t.prototype.ngOnDestroy=function(){this.scrollHandler&&this.scrollHandler()},t.prototype.setInitHolderHeight=function(){var t=this.scrollCont.nativeElement.children,e=this.calculateHeight()/t.length*this.viewPortItems.length;this.renderer.setStyle(this.contentHolder.nativeElement,"height",e+"px")},t.prototype.calculateHeight=function(){for(var t=this.scrollCont.nativeElement.children,e=0,n=0;n<t.length;n++){e+=t[n].getBoundingClientRect().height}return Math.ceil(e)},t.prototype.cacheViewedItemsHeight=function(){var t,e,n=this.scrollCont.nativeElement.children,r=this.previousStartIdx;try{for(var i=_.__values(n),s=i.next();!s.done;s=i.next()){var o=s.value.getBoundingClientRect().height;this.itemsHeight[r]=o,r++}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.updateViewPortItems=function(){var t=this,e=this.scrollCont.nativeElement.children,n=this.calculateHeight(),r=Math.ceil(n/e.length),i=this.element.nativeElement.scrollTop,s=this.element.nativeElement.getBoundingClientRect().height;this.cacheViewedItemsHeight();var o=this.previousStartIdx,a=this.previousEndIdx,c=Math.ceil(i/r),l=Math.ceil(s/r);o=c-this.upperBufferCount+l,a=c+l+this.lowerBufferCount,o=Math.max(0,o),a=Math.min(this.items.length,a>=0?a:1/0);var u=0;if(o>this.previousStartIdx){for(var p=this.previousStartIdx;p<o;p++)u+=this.itemsHeight[p]||r;this.translateY+=u}else if(o<this.previousStartIdx){for(p=o;p<this.previousStartIdx;p++)u+=this.itemsHeight[p]||r;this.translateY-=u}var d=Math.ceil(n+this.translateY),h=Math.ceil(r*(this.items.length-a)+d);this.renderer.setStyle(this.contentHolder.nativeElement,"height",h+"px"),U.setTransform(this.scrollCont.nativeElement,0,this.translateY,0),o===this.previousStartIdx&&a===this.previousEndIdx||this.ngZone.run((function(){t.previousStartIdx=o,t.previousEndIdx=a,t.viewPortItems=t.items.slice(o,a),t.previousEndIdx===t.items.length&&t.listEnd.emit(t.items.length)}))},t.prototype.scrollTo=function(t,e){void 0===e&&(e=!1);for(var n=0,r=0;r<t;r++)n+=this.itemsHeight[r];this.element.nativeElement.scrollTop=n,this.refreshList()},t.prototype.isElementInViewPort=function(t){var e=this.element.nativeElement,n=e.scrollTop,r=n+e.clientHeight,i=t.offsetTop+.1*t.clientHeight;return t.offsetTop+.9*t.clientHeight<=r&&i>=n},t.prototype.updateCurrActiveElemIdx=function(){for(var t=this.element.nativeElement,e=t.children[1].children,n=t.scrollTop>this.lastScrolledTop,r=0;r<e.length;r++){var i=this.isElementInViewPort(e[r]),s=this.viewPortItems[r].anchorId||null;if(i&&s&&(this.currActiveElemIndex=this.previousStartIdx+r,n))break}this.lastScrolledTop=t.scrollTop},t.prototype.scrollToTop=function(){this.element.nativeElement.scrollTop=0,this.refreshList()},t.prototype.scrollToItem=function(t,e){var n=this;void 0===e&&(e=!1),this.itemsHeight[t]?this.scrollTo(t,e):t<this.items.length&&(this.viewPortItems=this.items.slice(0,t+this.lowerBufferCount),this.refreshList(),setTimeout((function(){n.scrollTo(t,e)}),0))},t.prototype.getScrollableElement=function(){return this.element},t.prototype.getViewedElementsId=function(){var t=this.element.nativeElement.children[1].children,e=[];this.lastActiveElemIndex=this.currActiveElemIndex;for(var n=0;n<t.length;n++){var r=this.isElementInViewPort(t[n]),i=this.viewPortItems[n].anchorId||null;r&&i&&e.push(i)}return this.updateCurrActiveElemIdx(),e},t.prototype.getActiveElementId=function(t){void 0===t&&(t=!1);for(var e,n=this.element.nativeElement.children[1].children,r=0;r<n.length;r++){var i=this.isElementInViewPort(n[r]),s=this.viewPortItems[r].anchorId||null;i&&s&&(e=s)}return e},t.prototype.refreshList=function(){var t=this;this.ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t.updateViewPortItems()}))}))},t}();be.decorators=[{type:e.Component,args:[{selector:"infinite-scroll",template:'<div class="content-holder" #contentHolder></div>\n<div class="content-div" #scrollCont\n  [ngClass]="customClass || \'bg-primary-light\'"\n  (scroll)="refreshList()">\n  <ng-content></ng-content>\n</div> ',styles:[":host{display:block;overflow-x:hidden;overflow-y:auto;position:relative}.content-div,:host{height:100%;width:100%}.content-div{left:0;position:absolute;top:0}.content-div::-webkit-scrollbar{display:none}.content-holder{position:relative;width:1px}"]}]}],be.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone},{type:e.Renderer2}]},be.propDecorators={items:[{type:e.Input}],upperBufferCount:[{type:e.Input}],lowerBufferCount:[{type:e.Input}],customClass:[{type:e.Input}],listEnd:[{type:e.Output}],activeElement:[{type:e.Output}],scrollCont:[{type:e.ViewChild,args:["scrollCont",{static:!0}]}],contentHolder:[{type:e.ViewChild,args:["contentHolder",{static:!0}]}]};var we=function(){function t(){}return t.dateValidator=function(t){var e=t.get("startDate").value,n=t.get("endDate").value;if(e){var r=void 0;switch(typeof e){case"string":r=!isNaN(Date.parse(e));break;case"object":r=e instanceof Date&&!isNaN(e.getTime());break;default:r=!1}e=r?e.getTime():e.toDate().getTime()}if(n){r=void 0;switch(typeof n){case"string":r=!isNaN(Date.parse(n));break;case"object":r=n instanceof Date&&!isNaN(n.getTime());break;default:r=!1}n=r?n.getTime():n.toDate().getTime()}if(!e&&n)t.get("startDate").setErrors({noStartDate:!0});else{if(!(n&&e&&n-e<0))return null;t.get("startDate").setErrors({startDateExceed:!0})}},t.futureDateValidatorIfAllowed=function(t){var e=t.get("startDate").value,n=t.get("endDate").value,r=Date.now();if(e){var i=void 0;switch(typeof e){case"string":i=!isNaN(Date.parse(e));break;case"object":i=e instanceof Date&&!isNaN(e.getTime());break;default:i=!1}e=i?e.getTime():e.toDate().getTime()}if(n){i=void 0;switch(typeof n){case"string":i=!isNaN(Date.parse(n));break;case"object":i=n instanceof Date&&!isNaN(n.getTime());break;default:i=!1}n=i?n.getTime():n.toDate().getTime()}n&&r-n<0?t.get("endDate").setErrors({futureDate:!0}):e&&r-e<0&&t.get("startDate").setErrors({futureDate:!0})},t.amountValidator=function(t){var e=t.get("minAmount").value?t.get("minAmount").value:null,n=t.get("maxAmount").value?t.get("maxAmount").value:null;if(!e&&n)t.get("minAmount").setErrors({noMinAmount:!0});else{if(!(n&&e&&n-e<0))return null;t.get("minAmount").setErrors({minAmountExceed:!0})}},t.futureDateValidator=function(t){if(!t.value)return null;var e=Date.now(),n=t.value;if(n){var r=void 0;switch(typeof n){case"string":r=!isNaN(Date.parse(n));break;case"object":r=n instanceof Date&&!isNaN(n.getTime());break;default:r=!1}n=r?n.getTime():n.toDate().getTime()}return n&&e-n<0?{futureDate:!0}:null},t}(),_e={CAMERA:"CAMERA"};var Ie=function(){function t(t,n){this.rc=t,this.translate=n,this.value=new e.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){this.rc.bridge.isRunningInBrowser()&&this.uploadFileCont&&this.uploadFileCont.nativeElement.addEventListener("change",this.onFileUpload.bind(this))},t.prototype.onFileUpload=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,a;return _.__generator(this,(function(c){switch(c.label){case 0:return(e=t.target.files[0]).type.includes("image")?e.size>512e3?(r=this.translate.instant("upl_max_size_err"),this.rc.uiRouter.showToast(r),[2]):[4,this.rc.utils.getBase64(e)]:(n=this.translate.instant("upl_invalid_mime_type"),this.rc.uiRouter.showToast(n),[2]);case 1:return i=c.sent(),s=i.replace("data:"+e.type+";base64,",""),a={base64:s,mimeType:e.type},[4,this.rc.utils.getCheckSum(s)];case 2:return a.checksum=c.sent(),o=a,this.uploadedDocParams||(this.uploadedDocParams={}),this.uploadedDocParams=o,this.uploadFileCont.nativeElement.value=null,[2]}}))}))},t.prototype.updatePicture=function(){return _.__awaiter(this,void 0,void 0,(function(){var t,e,n;return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.rc.bridge.takePictureFromCamera()];case 1:return(t=r.sent()).success?(n={base64:t.base64,mimeType:t.mimeType},[4,this.rc.utils.getCheckSum(t.base64)]):(this.rc.uiRouter.showToast(this.translate.instant("mu_fil_upl_unknow_err")),[2]);case 2:return n.checksum=r.sent(),e=n,this.uploadedDocParams||(this.uploadedDocParams={}),this.uploadedDocParams=e,this.eventPropagate&&this.onSubmit(),[2]}}))}))},t.prototype.takePicture=function(){return _.__awaiter(this,void 0,void 0,(function(){var t=this;return _.__generator(this,(function(e){switch(e.label){case 0:return this.rc.bridge.isRunningInBrowser()?[2]:[4,this.rc.bridge.getPermission(_e.CAMERA,!1)];case 1:return e.sent().permGiven?(this.rc.bridge(_e.CAMERA).then((function(e){e.permGiven&&t.updatePicture()})),[2]):[2]}}))}))},t.prototype.uploadFile=function(){return _.__awaiter(this,void 0,void 0,(function(){var t,e,n;return _.__generator(this,(function(r){switch(r.label){case 0:return this.rc.bridge.isRunningInBrowser()?(t=new MouseEvent("click",{bubbles:!1}),this.uploadFileCont.nativeElement.dispatchEvent(t),[2]):[4,this.rc.bridge.selectDocumentFile()];case 1:return(e=r.sent()).error?[2]:e.base64?(n={base64:e.base64,checksum:e.checksum,mimeType:e.mimeType},this.uploadedDocParams||(this.uploadedDocParams={}),this.uploadedDocParams=n,this.eventPropagate&&this.onSubmit(),[2]):(this.rc.uiRouter.showToast(this.translate.instant("cmn_toast_err_unknown")),[2])}}))}))},t.prototype.onSubmit=function(){!this.isRequired||this.uploadedDocParams&&Object.keys(this.uploadedDocParams).length?this.value.emit(this.uploadedDocParams):this.rc.uiRouter.showToast(this.translate.instant("mu_fil_upl_upload_err"))},t}();Ie.decorators=[{type:e.Component,args:[{selector:"file-upload",template:'<div class="upload-file-comp"\n  [ngClass.xl]="[\'web-upl-fil-cont-div\']"\n  [ngClass.lg]="[\'web-upl-fil-cont-div\']"\n  [ngClass.md]="[\'web-upl-fil-cont-div\']"\n  [ngClass.sm]="[\'web-upl-fil-cont-div\']">\n\n  <div class="btn-cont">\n    <button class="button-primary-small btn" (click)="takePicture()" >\n      {{ (uploadedDocParams ? \'mu_fil_upl_retake_photo\' : \'mu_fil_upl_take_photo\') | translate }}\n      <input class="upload-file" type="file" accept="image/*" capture="camera" #cameraCont>\n    </button>\n    <button class="button-primary-small btn" (click)="uploadFile()">\n      {{ (uploadedDocParams ? \'mu_fil_upl_change_text\' : \'mu_fil_upl_upload_photo\') | translate }}\n      <input *ngIf="rc.bridge.isRunningInBrowser()" class="upload-file" type="file"\n        accept=".jpg, .jpeg, .png" #uploadFileCont>\n    </button> \n  </div>\n\n  <div class="preview" *ngIf="uploadedDocParams">\n    <div class="uploaded-document-image-cont">\n      <img class="upl-doc-img" src="data:image/jpg;base64,{{uploadedDocParams.base64}}">\n    </div>\n  </div>\n\n  \x3c!-- <div class="progress-bar-cont" *ngIf="uploadedStatus && uploadedStatus.uploadedPercent">\n    <mat-progress-bar\n      class="progress-bar"\n      [mode]="\'determinate\'"\n      [value]="uploadedStatus?.uploadedPercent">\n    </mat-progress-bar>\n  </div> --\x3e\n\n</div>',styles:[".upload-file-comp{margin:4vw 0;position:relative}.btn-cont{align-items:center;display:flex;justify-content:space-between;position:relative}.uploaded-document-image-cont{margin:0 4vw;position:relative}.upl-doc-img{width:100%}.upload-file{opacity:0;position:absolute;width:100%;z-index:-1}.preview{align-items:center;display:flex;justify-content:center;margin:6vw 0;position:relative}.doc-name{margin:4vw 0;position:relative}.progress-bar-cont{margin:10vw 0;position:relative}.btn{padding:0 2vw}.web-upl-fil-cont-div,.web-upl-fil-cont-div .progress-bar-cont{margin:20px 0}.web-upl-fil-cont-div .doc-name{margin:10px 0}.web-upl-fil-cont-div .preview{margin:20px 0}.web-upl-fil-cont-div .uploaded-document-image-cont{margin:0 20px}.web-upl-fil-cont-div .btn{max-width:45%;padding:0 10px;width:45%}"]}]}],Ie.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:jt}]},Ie.propDecorators={uploadFileCont:[{type:e.ViewChild,args:["uploadFileCont",{static:!1}]}],screen:[{type:e.Input}],eventPropagate:[{type:e.Input}],isRequired:[{type:e.Input}],value:[{type:e.Output}]};var Pe=function(){function t(t,n){var r=this;this.rc=t,this.formBuilder=n,this.eventPropagate=!1,this.displayLabel=!0,this.value=new e.EventEmitter,this.dropdownOpen=new e.EventEmitter,this.stepSelectedFilter=new e.EventEmitter,this.DISPLAY_TYPE=P.DISPLAY_TYPE,this.DISPLAY_MODE=P.DISPLAY_MODE,this.formatLabel=function(t){return t+r.sliderLabel}}return t.prototype.ngOnChanges=function(){this.initialize()},t.prototype.ngOnInit=function(){this.initialize()},t.prototype.getFilterId=function(){return this.inputParams.id},t.prototype.reset=function(t){this.inputParams=t,this.initialize()},t.prototype.onSubmit=function(){if(this.inputForm&&(this.inputParams.validators||this.inputParams.isRequired)&&this.inputForm.markAsTouched(),this.dateRange&&(this.inputParams.isRequired||this.inputParams.validators)&&(this.dateRange.controls.startDate.markAsTouched(),this.dateRange.controls.endDate.markAsTouched()),this.numberRange&&(this.inputParams.isRequired||this.inputParams.validators)&&(this.numberRange.controls.minAmount.markAsTouched(),this.numberRange.controls.maxAmount.markAsTouched()),!this.hasError()){var t;switch(this.inputParams.displayType){case P.DISPLAY_TYPE.CALENDAR_BOX:t={id:this.inputParams.id,value:this.inputForm.value?this.inputForm.value.getTime():null,displayType:this.inputParams.displayType};break;case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:case P.DISPLAY_TYPE.TEXT_AREA:case P.DISPLAY_TYPE.TOGGLE:case P.DISPLAY_TYPE.BUTTON_TOGGLE:case P.DISPLAY_TYPE.ROW_INPUT_BOX:case P.DISPLAY_TYPE.SLIDER:t={id:this.inputParams.id,value:this.inputForm.value,displayType:this.inputParams.displayType};break;case P.DISPLAY_TYPE.DATE_RANGE:var e=this.inputParams.rangeKeys||["startDate","endDate"],n={};n[e[0]]=this.dateRange.controls.startDate.value?this.dateRange.controls.startDate.value.getTime():null,n[e[1]]=this.dateRange.controls.endDate.value?this.dateRange.controls.endDate.value.getTime():null,t={id:this.inputParams.id,value:n,displayType:this.inputParams.displayType};break;case P.DISPLAY_TYPE.NUMBER_RANGE:var r=this.inputParams.rangeKeys||["minAmount","maxAmount"],i={};i[r[0]]=this.numberRange.controls.minAmount.value,i[r[1]]=this.numberRange.controls.maxAmount.value,t={id:this.inputParams.id,value:i,displayType:this.inputParams.displayType};break;case P.DISPLAY_TYPE.IMAGE_UPLOAD:t={id:this.inputParams.id,value:this.fileUploadParams,displayType:this.inputParams.displayType};break;case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.ROW_RADIO:t={id:this.inputParams.id,value:this.inputForm.value?this.inputForm.value:null,displayType:this.inputParams.displayType};break;case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX:t={id:this.inputParams.id,value:this.inputForm.value,displayType:this.inputParams.displayType}}this.value.emit(t)}},t.prototype.isCalanderOpen=function(){return this.picker.opened},t.prototype.closeCalander=function(){this.picker.close()},t.prototype.selectedOption=function(t){if("ALL"===t.value){var e=this.inputParams.options;this.inputParams.options.forEach((function(t){return t.selected=!0})),this.inputForm.setValue(e),this.emitStepSelection(e)}else this.inputForm.setValue(t.value),this.emitStepSelection(t.value);this.eventPropagate&&this.onSubmit()},t.prototype.onToggleChane=function(t){this.inputForm.setValue(t.checked),this.eventPropagate&&this.onSubmit()},t.prototype.onBtnToggleChange=function(t,e){this.inputForm.setValue(t.value),this.eventPropagate&&this.onSubmit()},t.prototype.fileUploadValue=function(t){this.fileUploadParams=t,this.eventPropagate&&this.onSubmit()},t.prototype.checkAllOptions=function(t){if(t.checked){var e=this.inputParams.options;this.inputParams.options.forEach((function(t){return t.selected=!0})),this.inputForm.setValue(e),this.emitStepSelection(e)}else this.inputParams.options.forEach((function(t){return t.selected=!1})),this.inputForm.setValue([]),this.emitStepSelection([]);this.eventPropagate&&this.onSubmit()},t.prototype.checkedOption=function(t){var e=this.inputForm.value;if(e){var n=e.findIndex((function(e){return e.id===t.id}));-1!==n?(e.splice(n,1),this.inputForm.setValue(e),this.emitStepSelection(e)):(e.push(t),this.inputForm.setValue(e),this.emitStepSelection(e))}else this.inputForm.setValue([t]),this.emitStepSelection([t]);this.eventPropagate&&this.onSubmit()},t.prototype.setChangedValues=function(t){this.inputForm.setValue(t),this.eventPropagate&&this.onSubmit()},t.prototype.setDate=function(t){var e=t.value;e&&!this.isDateObj(e)?this.inputForm.setValue(e.toDate()):this.inputForm.setValue(e),this.eventPropagate&&this.onSubmit()},t.prototype.setDateRange=function(t){var e=this.dateRange.controls.startDate.value,n=this.dateRange.controls.endDate.value;e&&!this.isDateObj(e)?this.dateRange.controls.startDate.setValue(e.toDate()):this.dateRange.controls.startDate.setValue(e),n&&!this.isDateObj(n)?this.dateRange.controls.endDate.setValue(n.toDate()):this.dateRange.controls.endDate.setValue(n),this.eventPropagate&&this.onSubmit()},t.prototype.setNumberRange=function(t){this.numberRange.controls.minAmount.setValue(this.numberRange.controls.minAmount.value),this.numberRange.controls.maxAmount.setValue(this.numberRange.controls.maxAmount.value),this.eventPropagate&&this.onSubmit()},t.prototype.setAutocompleteValue=function(t){this.inputForm.setValue(t.option.value),this.eventPropagate&&this.onSubmit()},t.prototype.displayFn=function(t){return t&&"object"==typeof t?t.value:t},t.prototype.onSliderValueChange=function(t){this.inputForm.setValue({minValue:t.source.min,maxValue:t.value})},t.prototype.hasError=function(){var t=!1;switch(this.inputParams.displayType){case P.DISPLAY_TYPE.CALENDAR_BOX:case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:case P.DISPLAY_TYPE.TEXT_AREA:case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.ROW_RADIO:case P.DISPLAY_TYPE.TOGGLE:case P.DISPLAY_TYPE.BUTTON_TOGGLE:case P.DISPLAY_TYPE.ROW_INPUT_BOX:t=(this.inputParams.isRequired||this.inputForm.value)&&this.inputForm.invalid;break;case P.DISPLAY_TYPE.DATE_RANGE:t=this.inputParams.isRequired?this.dateRange.invalid:this.dateRange.controls.startDate.value&&this.dateRange.controls.startDate.invalid||this.dateRange.controls.startDate.value&&!this.dateRange.controls.endDate.value||this.dateRange.controls.endDate.value&&this.dateRange.controls.endDate.invalid;break;case P.DISPLAY_TYPE.NUMBER_RANGE:t=this.inputParams.isRequired?this.numberRange.invalid:this.numberRange.controls.minAmount.value&&this.numberRange.controls.minAmount.invalid||this.numberRange.controls.minAmount.value&&!this.numberRange.controls.maxAmount.value||this.numberRange.controls.maxAmount.value&&this.numberRange.controls.maxAmount.invalid;break;case P.DISPLAY_TYPE.IMAGE_UPLOAD:this.fileUplInst.onSubmit(),t=!!this.inputParams.isRequired&&(!this.fileUploadParams||0===Object.keys(this.fileUploadParams).length)}return t},t.prototype.dropDownToggle=function(t){this.dropdownOpen.emit(t)},t.prototype.valueEntered=function(t){if(this.inputParams.displayType===P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT){var e=this.inputParams.options.find((function(e){return e.value===t}));e?this.inputForm.setValue(e):this.inputForm.setValue({id:t,value:t}),this.eventPropagate&&this.onSubmit()}},t.prototype.initialize=function(){var t=this,e=this.inputParams,r=[];switch(e.isRequired&&r.push(n.Validators.required),e.validators&&r.push(n.Validators.pattern(e.validators.validation)),e.displayType){case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.TEXT_AREA:case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.ROW_RADIO:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.TOGGLE:case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.BUTTON_TOGGLE:case P.DISPLAY_TYPE.ROW_INPUT_BOX:case P.DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX:if(this.inputForm=new n.FormControl(e.value||null,r),e.options&&e.options.length){var i=[];e.options.forEach((function(t){t.selected&&i.push(t)})),i.length&&this.inputForm.setValue(i)}e.value&&this.inputForm.setValue(e.value),this.setDisabled(e.isDisabled);break;case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:this.inputForm=new n.FormControl(e.value||null,r),this.filteredOptions=this.inputForm.valueChanges.pipe(T.startWith(""),T.map((function(t){return"string"==typeof t?t:t.value})),T.map((function(e){return e?t.filterOptions(e):t.inputParams.options.slice()}))),this.setDisabled(e.isDisabled);break;case P.DISPLAY_TYPE.CALENDAR_BOX:e.value&&(e.value=new Date(e.value)),r.push(we.futureDateValidator),this.inputForm=new n.FormControl(e.value||null,r),this.setDisabled(e.isDisabled);break;case P.DISPLAY_TYPE.DATE_RANGE:var s=e.rangeKeys||["startDate","endDate"];e.value?(e.value[s[0]]&&(e.value[s[0]]=new Date(e.value[s[0]])),e.value[s[1]]&&(e.value[s[1]]=new Date(e.value[s[1]]))):e.value={},this.dateRange=this.formBuilder.group({startDate:[e.value[s[0]]||null,r],endDate:[e.value[s[1]]||null,r]});var o=[we.dateValidator];e.validators&&e.validators.allowFutureDate||o.push(we.futureDateValidatorIfAllowed),this.dateRange.setValidators(o),e.isDisabled&&this.dateRange.disable();break;case P.DISPLAY_TYPE.NUMBER_RANGE:if(e.value){var a=e.rangeKeys||["minAmount","maxAmount"];this.numberRange=this.formBuilder.group({minAmount:[e.value[a[0]]||null,r],maxAmount:[e.value[a[1]]||null,r]},{validator:[we.amountValidator]})}else e.value={};e.isDisabled&&this.numberRange.disable();break;case P.DISPLAY_TYPE.SLIDER:if(this.inputForm=new n.FormControl(e.value||null,r),e.options&&e.options.length){var c=[];e.options.forEach((function(e){e.selected&&c.push(e),t.sliderLabel="formatLabel"===e.id?e.value:""})),c.length&&this.inputForm.setValue(c)}this.setDisabled(e.isDisabled)}},t.prototype.emitStepSelection=function(t){var e={id:this.inputParams.id,value:t};this.stepSelectedFilter.emit(e)},t.prototype.filterOptions=function(t){var e=t.toLowerCase();return this.inputParams.options.filter((function(t){return t.value.toLowerCase().includes(e)}))},t.prototype.setDisabled=function(t){t?this.inputForm.disable():this.inputForm.enable()},t.prototype.isDateObj=function(t){var e;switch(typeof t){case"string":e=!isNaN(Date.parse(t));break;case"object":e=t instanceof Date&&!isNaN(t.getTime());break;default:e=!1}return e},t}();Pe.decorators=[{type:e.Component,args:[{selector:"input-container",template:'<div [ngClass]="webMode ? [\'web-view-input-comp\'] : [\'input-cont-comp\']"\n  [class.vertical-mode]="displayMode === DISPLAY_MODE.VERTICAL"\n  [ngClass.xl]="webMode ? [\'web-view-input-comp\'] : [\'web-input-cont-comp\']"\n  [ngClass.lg]="webMode ? [\'web-view-input-comp\'] : [\'web-input-cont-comp\']"\n  [ngClass.md]="webMode ? [\'web-view-input-comp\'] : [\'web-input-cont-comp\']"\n  [ngClass.sm]="webMode ? [\'web-view-input-comp\'] : [\'web-input-cont-comp\']">\n\n  <div class="label-txt txt-md-reg-norm" *ngIf="displayLabel && inputParams.label && inputParams.displayType !== DISPLAY_TYPE.ROW_INPUT_BOX">\n    {{ inputParams.label }}\n  </div>\n\n  <ng-container [ngSwitch]="inputParams.displayType">\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.INPUT_BOX">\n\n      <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n        <div class="prefix-image" *ngIf="inputParams?.image?.prefixParams">\n          <i class="{{ inputParams.image.prefixParams?.iconClass }}"></i>\n          <img src="{{ inputParams.image.prefixParams?.imgUrl }}">\n        </div>\n        <input matInput\n          placeholder="{{inputParams.placeHolder}}"\n          type="{{inputParams.inputType}}"\n          (updatedValue)="setChangedValues($event)"\n          class="txt-md-med-norm input-cont" \n          [formControl]="inputForm"\n          name="input-text"\n          [ncMaxLength]="inputParams.maxLength || 1000"\n          (updatedValue)="inputForm.setValue($event)"\n          textSecurity="inputParams.isPassword"\n          [class.num-password-input]="inputParams.isPassword"\n          autocomplete="off"\n          [keyboard]="parentCont"\n          >\n          <div class="suffix-image" *ngIf="inputParams?.image?.suffixParams">\n            <i class="{{ inputParams.image.suffixParams?.iconClass }}"></i>\n            <img src="{{ inputParams.image.suffixParams?.imgUrl }}">\n          </div>\n      </div>\n  \n    </ng-container> \n    \n    <ng-container *ngSwitchCase="DISPLAY_TYPE.TEXT_AREA">\n\n      <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n        <textarea matInput\n          placeholder="{{inputParams.placeHolder}}"\n          type="{{inputParams.inputType}}"\n          (updatedValue)="setChangedValues($event)"\n          class="txt-md-med-norm input-cont" \n          [formControl]="inputForm"\n          name="input-text"\n          [ncMaxLength]="inputParams.maxLength || 1000"\n          (updatedValue)="inputForm.setValue($event)"\n          textSecurity="inputParams.isPassword"\n          [class.num-password-input]="inputParams.isPassword"\n          autocomplete="off"\n          [keyboard]="parentCont"\n          >\n        </textarea> \n      </div>\n\n    </ng-container>  \n  \n    <ng-container *ngSwitchCase="DISPLAY_TYPE.SELECTION_BOX">\n\n      <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n        <mat-select [formControl]="inputForm"\n          placeholder="{{inputParams.placeHolder}}" \n          class="txt-md-med-norm input-cont"\n          (selectionChange)="selectedOption($event)"\n          (openedChange)="dropDownToggle($event)">\n          <mat-option *ngIf="inputParams.selectAll" [value]="\'ALL\'"\n            class="txt-md-med-norm">\n            All\n          </mat-option>\n          <mat-option *ngFor="let option of inputParams.options" [value]="option"\n            class="txt-md-med-norm">\n            {{ option.value }}\n          </mat-option>\n        </mat-select>\n      </div>\n\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.MULTI_CHECK_BOX">\n\n      <div class="checkbox-cont">\n\n        <mat-checkbox *ngIf="inputParams.selectAll" [value]="\'ALL\'"\n          class="txt-md-med-norm checkbox"\n          (change)="checkAllOptions($event)">\n          Select All\n        </mat-checkbox>\n\n        <mat-checkbox *ngFor="let option of inputParams.options" [value]="option"\n          class="txt-md-med-norm checkbox"\n          [checked]="option.selected"\n          (change)="checkedOption(option)">\n          {{ option.value }}\n        </mat-checkbox>\n      </div>\n  \n    </ng-container>\n    \n    <ng-container *ngSwitchCase="DISPLAY_TYPE.RADIO">\n\n      <mat-radio-group [formControl]="inputForm"\n        class="txt-md-med-norm input-cont radio-group"\n        (change)="selectedOption($event)">\n        <mat-radio-button  *ngFor="let option of inputParams.options" [value]="option" \n          class="txt-md-med-norm radio-button"\n          [checked]="option.selected">\n          {{ option.value }}\n        </mat-radio-button>\n      </mat-radio-group>\n\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.ROW_RADIO">\n\n      <mat-radio-group [formControl]="inputForm"\n        class="txt-md-med-norm vert-input-cont vert-radio-group"\n        (change)="selectedOption($event)">\n        <mat-radio-button  *ngFor="let option of inputParams.options" [value]="option" \n          class="txt-md-med-norm radio-button"\n          [checked]="option.selected">\n          {{ option.value }}\n        </mat-radio-button>\n      </mat-radio-group>\n\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.TOGGLE">\n      <mat-slide-toggle class="toggle-cont txt-md-med-norm"\n        [labelPosition]="\'after\'"\n        (change)="onToggleChane($event)">\n        {{ inputParams.label }}\n      </mat-slide-toggle>\n\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.CALENDAR_BOX">\n      <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n        <input matInput\n          [formControl]="inputForm"\n          [matDatepicker]="picker" \n          (dateChange)="setDate($event)"\n          placeholder="{{inputParams.placeHolder}}"\n          class="txt-md-med-norm input-cont"\n          [keyboard]="parentCont">\n        <mat-datepicker-toggle matSuffix [for]="picker" disableRipple="false"></mat-datepicker-toggle>\n        <mat-datepicker touchUi #picker></mat-datepicker>\n      </div>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.DATE_RANGE" [formGroup]="dateRange">\n      <div class="range">\n        <div class="range-onb-input-box-cont border-primary">\n          <input matInput\n            formControlName="startDate"\n            [matDatepicker]="startPicker" \n            (dateChange)="setDateRange($event)"\n            placeholder="{{inputParams.placeHolder[0]}}"\n            class="txt-md-med-norm input-cont"\n            [keyboard]="parentCont">\n          <mat-datepicker-toggle matSuffix [for]="startPicker" disableRipple="false"></mat-datepicker-toggle>\n          <mat-datepicker touchUi #startPicker></mat-datepicker>\n        </div>\n\n        <div class="range-onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n          <input matInput\n            formControlName="endDate"\n            [matDatepicker]="endPicker" \n            (dateChange)="setDateRange($event)"\n            placeholder="{{inputParams.placeHolder[1]}}"\n            class="txt-md-med-norm input-cont"\n            [keyboard]="parentCont">\n          <mat-datepicker-toggle matSuffix [for]="endPicker" disableRipple="false"></mat-datepicker-toggle>\n          <mat-datepicker touchUi #endPicker></mat-datepicker>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.NUMBER_RANGE" [formGroup]="numberRange">\n      <div class="range">\n        <div class="range-onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n          <input matInput\n            placeholder="{{inputParams.placeHolder[0]}}"\n            type="number"\n            (input)="setNumberRange($event)"\n            class="txt-md-med-norm input-cont" \n            formControlName="minAmount"\n            name="input-text"\n            textSecurity="inputParams.isPassword"\n            [class.num-password-input]="inputParams.isPassword"\n            autocomplete="off"\n            [keyboard]="parentCont"\n            >\n        </div>\n    \n        <div class="range-onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n          <input matInput\n            placeholder="{{inputParams.placeHolder[1]}}"\n            type="number"\n            (input)="setNumberRange($event)"\n            class="txt-md-med-norm input-cont" \n            formControlName="maxAmount"\n            name="input-text"\n            textSecurity="inputParams.isPassword"\n            [class.num-password-input]="inputParams.isPassword"\n            autocomplete="off"\n            [keyboard]="parentCont"\n            >\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.AUTOCOMPLETE_SELECT">\n      <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParams.isDisabled">\n        <input matInput #autoCompInput\n          type="text"\n          class="txt-md-med-norm input-cont" \n          placeholder="{{inputParams.placeHolder}}"\n          [formControl]="inputForm"\n          [matAutocomplete]="auto"\n          [keyboard]="parentCont"\n          (blur)="valueEntered(autoCompInput.value)">\n\n        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn"\n          (optionSelected)="setAutocompleteValue($event)"\n          class="txt-xl-med-norm input-cont">\n          <mat-option *ngFor="let option of filteredOptions | async" [value]="option"\n            class="txt-md-med-norm">\n            {{ option.value }}\n          </mat-option>\n        </mat-autocomplete>\n      </div>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.BUTTON_TOGGLE">\n      <mat-button-toggle-group name="toggle" class="button-toggle" #group="matButtonToggleGroup">\n\n        <ng-container *ngFor="let option of inputParams.options ; let i = index">\n\n          <mat-button-toggle value="{{option.id}}" class="txt-md-reg-norm"\n            [checked]="option.selected"\n            [ngClass]="{ \'primary-bg\' : group.value === option.id, \'text-color-white\' : group.value === option.id}"\n            (change)="onBtnToggleChange($event)">\n            {{ option.value }}\n          </mat-button-toggle>\n        </ng-container>\n      </mat-button-toggle-group>\n\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.ROW_INPUT_BOX">\n      <div class="input-container">\n\n        <div class="label-txt txt-md-reg-norm" *ngIf="displayLabel && inputParams.label">\n          {{ inputParams.label }}\n        </div>\n\n        <div class="onb-input-box-cont border-primary small-box" [class.border-disabled]="inputParams.isDisabled">\n          <input matInput\n            placeholder="{{inputParams.placeHolder}}"\n            type="{{inputParams.inputType}}"\n            (updatedValue)="setChangedValues($event)"\n            class="txt-md-med-norm input-cont" \n            [formControl]="inputForm"\n            name="input-text"\n            [ncMaxLength]="inputParams.maxLength || 1000"\n            (updatedValue)="inputForm.setValue($event)"\n            textSecurity="inputParams.isPassword"\n            [class.num-password-input]="inputParams.isPassword"\n            autocomplete="off"\n            [keyboard]="parentCont">\n        </div>\n\n      </div>  \n    </ng-container>  \n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.IMAGE_UPLOAD">\n      <file-upload\n        [screen]="screen"\n        (value)="fileUploadValue($event)"\n        [isRequired]="inputParams.isRequired">\n      </file-upload>  \n    </ng-container> \n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.SLIDER">\n      <mat-slider\n        thumbLabel="true"\n        [displayWith]="formatLabel"\n        [disabled]="inputParams.isDisabled"\n        tickInterval="1"\n        min="inputParams.options[0].value"\n        max="inputParams.options[1].value"\n        class="txt-md-med-norm"\n        (change)="onSliderValueChange($event)">\n        {{ inputParams.label }}\n      </mat-slider>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX">\n      <drop-down-multi-select\n        [options]="inputParams.options"\n        [placeholder]="inputParams.placeHolder"\n        [showSelectAll]="inputParams.selectAll"\n        (selectedItems)="checkedOption($event)"\n        (selectedAll)="checkAllOptions($event)">\n      </drop-down-multi-select>\n    </ng-container>\n\n  </ng-container>  \n\n  <div *ngIf="inputForm" class="errors-list">\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.touched && inputParams.isRequired && \n      inputForm.hasError(\'required\')">\n      <span *ngIf="inputParams.displayType === DISPLAY_TYPE.RADIO || \n        inputParams.displayType === DISPLAY_TYPE.SELECTION_BOX ||\n        inputParams.displayType === DISPLAY_TYPE.MULTI_CHECK_BOX ; else default" class="err-text">\n        {{ inputParams.validators ? inputParams.validators.validationError : (\'mu_inpt_cont_sel_err\' | translate) }}\n      </span>\n      <ng-template #default>\n        {{ inputParams.validators ? inputParams.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n      </ng-template>\n    </mat-error>\n\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.touched && inputForm.value &&\n      inputForm.hasError(\'pattern\')">\n      {{ inputParams.validators ? inputParams.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n    </mat-error>\n\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.touched && inputForm.errors && \n      inputForm.hasError(\'futureDate\')">\n      {{ \'mu_inpt_cont_futr_date_err\' | translate }}\n    </mat-error>\n  </div>\n\n  <div *ngIf="dateRange" class="errors-list">\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="dateRange.get(\'startDate\').hasError(\'noStartDate\')">\n      {{ \'mu_inpt_cont_strt_date_err\' | translate }}\n    </mat-error>\n  \n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="dateRange.get(\'startDate\').hasError(\'startDateExceed\')">\n      {{ \'mu_inpt_cont_date_err\' | translate }}\n    </mat-error>\n\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="dateRange.get(\'startDate\').hasError(\'futureDate\') || \n      dateRange.get(\'endDate\').hasError(\'futureDate\')">\n      {{ \'mu_inpt_cont_futr_date_err\' | translate }}\n    </mat-error>\n\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputParams.isRequired && \n      (dateRange.get(\'startDate\').touched && dateRange.get(\'endDate\').touched) &&\n      (dateRange.get(\'startDate\').hasError(\'required\') || dateRange.get(\'endDate\').hasError(\'required\'))">\n      {{ inputParams.validators ? inputParams.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n    </mat-error>\n\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf=" (dateRange.get(\'startDate\').touched && \n      dateRange.get(\'endDate\').touched) && dateRange.get(\'startDate\').value && !dateRange.get(\'endDate\').value">\n      {{ \'mu_inpt_cont_end_date_err\' | translate }}\n    </mat-error>\n  </div>\n  \n  <div *ngIf="numberRange" class="errors-list">\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="numberRange.get(\'minAmount\').hasError(\'noMinAmount\')">\n      {{ \'mu_inpt_cont_min_amnt_err\' | translate }}\n    </mat-error>\n  \n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="numberRange.get(\'minAmount\').hasError(\'minAmountExceed\')">\n      {{ \'mu_inpt_cont_amnt_err\' | translate }}\n    </mat-error>\n\n    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputParams.isRequired && \n      (numberRange.get(\'minAmount\').touched || numberRange.get(\'maxAmount\').touched) &&\n      (numberRange.get(\'minAmount\').hasError(\'required\') || numberRange.get(\'maxAmount\').hasError(\'required\'))">\n      {{ inputParams.validators ? inputParams.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n    </mat-error>\n  </div>\n\n</div>',styles:[".onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;margin:2% 0 0;position:relative}.button-toggle{margin:2vw 0}.input-container{align-items:center;display:flex;justify-content:space-between;position:relative}.input-container .label-txt{margin-right:2vw;width:72vw}.input-container .small-box{width:14vw}.input-container .input-cont{text-align:center}.radio-button{padding-bottom:2vw!important}.radio-group{display:flex;flex-direction:column;padding:3vw 0 0 2vw!important}.checkbox,.checkbox-cont{padding:1vw 0}.checkbox-cont{display:flex;flex-direction:column;position:relative}.range-onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;position:relative;width:46%}.input-cont,.range-onb-input-box-cont .input-cont{background:none;border:0;padding:4vw;position:relative;width:100%}.toggle-cont{margin:2vw 0}.input-cont-comp{margin:2vw 4vw;position:relative}.range{display:flex;flex-direction:row;justify-content:space-between}.errors-list{display:flex;flex-direction:column;padding-top:1vw}.web-input-cont-comp{margin:10px 20px}.web-input-cont-comp .input-cont,.web-input-cont-comp .range-onb-input-box-cont .input-cont{background:none;border:0;padding:15px;position:relative;width:100%}.web-input-cont-comp .errors-list{padding-top:5px}.web-input-cont-comp .radio-button{padding-bottom:10px!important}.web-input-cont-comp .radio-group{padding:5px 0!important}.web-view-input-comp .onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;margin:2% 0;position:relative}.web-view-input-comp .range-onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;margin:.5% 0;position:relative;width:48%}.web-view-input-comp .input-cont{background:none;border:0;padding:12px 8px;position:relative;width:100%}.web-view-input-comp .errors-list{padding-top:5px}.web-view-input-comp .radio-button{padding-bottom:10px!important}.web-view-input-comp .radio-group{padding:5px 0!important}.web-view-input-comp .vert-radio-group{padding:8px 0!important}.web-view-input-comp .vert-radio-group .radio-button{padding-right:10px!important}.vertical-mode .checkbox,.vertical-mode .radio-group{padding:5px 0!important}.vertical-mode .radio-button{padding:8px 0!important}.vertical-mode .checkbox-cont{padding:5px 0}.prefix-image,.suffix-image{padding:0 10px}"]}]}],Pe.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:n.FormBuilder}]},Pe.propDecorators={picker:[{type:e.ViewChild,args:[a.MatDatepicker,{static:!1}]}],fileUplInst:[{type:e.ViewChild,args:[Ie,{static:!1}]}],inputParams:[{type:e.Input}],screen:[{type:e.Input}],webMode:[{type:e.Input}],parentCont:[{type:e.Input}],eventPropagate:[{type:e.Input}],displayMode:[{type:e.Input}],displayLabel:[{type:e.Input}],value:[{type:e.Output}],dropdownOpen:[{type:e.Output}],stepSelectedFilter:[{type:e.Output}]};var Ee=function(){function t(t,n,r){this.rc=t,this.renderer=n,this.ngZone=r,this.eventPropagte=!1,this.value=new e.EventEmitter}return t.prototype.onHostKeyup=function(t){this.onKeyDown(t)},t.prototype.ngOnInit=function(){var t=this.dialerParams.dialerOptions.slice(0);this.viewPortItems=t,this.selectedItem=this.dialerParams.selectedItem||this.viewPortItems[0]},t.prototype.ngAfterViewInit=function(){var t=this.scrollCont.nativeElement.children[1].getBoundingClientRect(),e=t.width;this.contentHolder.nativeElement.style.height=t.height+"px",this.contentHolder.nativeElement.style.width=e+"px",this.contentHolder.nativeElement.style.top=this.dialerParams.highlightPos?"("+this.dialerParams.highlightPos+" * "+t.height+")px":t.height+"px",this.scrollCont.nativeElement.style.top=this.dialerParams.highlightPos?"("+this.dialerParams.highlightPos+" * "+t.height+")px":t.height+"px",this.nail=new ht(this.rc,this.scrollCont.nativeElement,this,this.renderer,{axisX:!1,axisY:!0}),this.multiStepVal=new G(0,t.height,this.dialerParams.dialerOptions.length,!1,!0)},t.prototype.ngOnDestroy=function(){},t.prototype.onKeyDown=function(t){var e=this.scrollCont.nativeElement.children[1].getBoundingClientRect(),n=this.lastIndex;if(38===t.which)this.multiStepVal.final(e.height,.2);else{if(40!==t.which)return;this.multiStepVal.final(-e.height,.2)}t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),this.multiStepVal.currentIndex!==n&&(this.scrollCont.nativeElement.style.transition="200ms",U.setTransform(this.scrollCont.nativeElement,0,-this.multiStepVal.currentValue,0),this.lastIndex=this.multiStepVal.currentIndex,this.selectedItem=this.dialerParams.dialerOptions[this.lastIndex],this.sound&&this.sound.play(),this.eventPropagte&&this.value.emit(this.selectedItem))},t.prototype.onPanStart=function(){this.scrollCont.nativeElement.style.transition="none"},t.prototype.onPanMove=function(t){var e=this;return this.ngZone.runOutsideAngular((function(){var n=e.scrollCont.nativeElement.children[1].getBoundingClientRect(),r=t.deltaY,i=e.multiStepVal.transition(r),s=e.lastIndex,o=Math.round(i/n.height);s!==o&&(e.sound&&e.sound.play(),e.lastIndex=o),e.nail.requestAnimate(i),e.rc.isDebug()&&e.rc.debug(e.rc.getName(e),"onPanMove "+JSON.stringify({event:t,lastIndex:e.lastIndex})),e.selectedItem=e.dialerParams.dialerOptions[e.lastIndex]})),!0},t.prototype.onPanAnimate=function(t){var e=this;this.ngZone.run((function(){U.setTransform(e.scrollCont.nativeElement,0,-t,0)}))},t.prototype.onPanEnd=function(t){var e=this;this.ngZone.runOutsideAngular((function(){var n=t.deltaY,r=e.scrollCont.nativeElement.children[1].getBoundingClientRect(),i=e.multiStepVal.transition(n),s=e.multiStepVal.currentIndex;e.multiStepVal.final(n,t.speed,t.quickRatio);var o=e.multiStepVal.currentIndex,a=Math.round(i/r.height);if(e.rc.isDebug()&&e.rc.debug(e.rc.getName(e),"onPanEnd "+JSON.stringify({event:t,lastIndex:e.lastIndex,newIndex:a,currentIndex:s,latestIndex:o})),s!==o){e.scrollCont.nativeElement.style.transition="600ms";var c=Math.abs((t.timeTaken<250?s:a)-o)||1;e.rc.isDebug()&&e.rc.debug(e.rc.getName(e),"totalDisplacement "+JSON.stringify(c));var l=setInterval((function(){e.sound&&e.sound.play()}),600/c);if(o>=s)for(var u=s;u<=o;u+=.25)U.setTransform(e.scrollCont.nativeElement,0,-r.height*u,0);else for(u=o;u<s;u+=.25)U.setTransform(e.scrollCont.nativeElement,0,r.height*u,0);setTimeout((function(){clearInterval(l)}),600)}})),this.ngZone.run((function(){U.setTransform(e.scrollCont.nativeElement,0,-e.multiStepVal.currentValue,0),e.lastIndex=e.multiStepVal.currentIndex,e.selectedItem=e.dialerParams.dialerOptions[e.lastIndex],e.eventPropagte&&e.value.emit(e.selectedItem)}))},t.prototype.getSelectedItem=function(){this.value.emit(this.selectedItem)},t.prototype.scrollToElem=function(t){if(t!==this.multiStepVal.currentIndex){var e=this.scrollCont.nativeElement.children[1].getBoundingClientRect();t>this.multiStepVal.currentIndex?this.multiStepVal.final(-e.height,.2):this.multiStepVal.final(e.height,.2),this.scrollCont.nativeElement.style.transition="200ms",U.setTransform(this.scrollCont.nativeElement,0,-this.multiStepVal.currentValue,0),this.lastIndex=this.multiStepVal.currentIndex,this.selectedItem=this.dialerParams.dialerOptions[this.lastIndex],this.sound&&this.sound.play(),this.eventPropagte&&this.value.emit(this.selectedItem)}},t}();Ee.decorators=[{type:e.Component,args:[{selector:"dialer",template:'\n<div class="dialer-comp primary-bg" #contentHolder></div>\n\n<div class="dialer-cont" #scrollCont>\n\n  <ng-container *ngFor="let option of viewPortItems; let i = index">\n\n    <div class="dialer-value txt-lg-reg-norm" (click)="scrollToElem(i)"\n    [class.text-color-white]="selectedItem.id === option.id" tabindex="-1">\n      {{ option.value }}\n    </div>  \n  </ng-container>\n\n</div>\n',styles:[":host{display:block;height:100%;overflow-x:hidden;overflow-y:hidden;position:relative;text-align:center;width:100%}.dialer-value{padding:2vw}.dialer-cont{overflow-x:hidden;overflow-y:hidden;position:relative;width:100%}.dialer-cont::-webkit-scrollbar{display:none}.dialer-comp{position:absolute;width:100%}.dialer-holder{position:relative}"]}]}],Ee.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:e.Renderer2},{type:e.NgZone}]},Ee.propDecorators={onHostKeyup:[{type:e.HostListener,args:["keydown",["$event"]]}],scrollCont:[{type:e.ViewChild,args:["scrollCont",{static:!0}]}],contentHolder:[{type:e.ViewChild,args:["contentHolder",{static:!0}]}],parentDiv:[{type:e.Input}],dialerParams:[{type:e.Input}],eventPropagte:[{type:e.Input}],value:[{type:e.Output}]};var Se=function(){function t(t,n,r){this.rc=t,this.formBuilder=n,this.changeRef=r,this.eventPropagate=!1,this.displayLabel=!0,this.value=new e.EventEmitter,this.dropdownOpen=new e.EventEmitter,this.lastInpField=new e.EventEmitter,this.inputForm={},this.DISPLAY_TYPE=P.DISPLAY_TYPE,this.DISPLAY_MODE=P.DISPLAY_MODE,this.maxDate=new Date,this.inputForm=this.formBuilder.group({})}return t.prototype.ngOnChanges=function(){this.initialize()},t.prototype.ngOnInit=function(){this.initialize()},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.inputContainers=t.inputCont.toArray().map((function(t){return t.nativeElement}))}),10)},t.prototype.onSubmit=function(t,e){var n,r,i,s;void 0===t&&(t=!0);try{for(var o=_.__values(this.formParams.inputParams),a=o.next();!a.done;a=o.next()){var c=a.value;this.inputForm&&(c.validators||c.isRequired)&&t&&this.inputForm.get(c.id).markAsTouched()}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(t&&this.hasError())return!1;var l={};try{for(var u=_.__values(this.formParams.inputParams),p=u.next();!p.done;p=u.next()){c=p.value;if(!e||e===c.id){var d=void 0;switch(c.displayType){case P.DISPLAY_TYPE.CALENDAR_BOX:d={value:this.inputForm.get(c.id).value?this.inputForm.get(c.id).value.getTime():null,displayType:c.displayType};break;case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:case P.DISPLAY_TYPE.TEXT_AREA:case P.DISPLAY_TYPE.TOGGLE:case P.DISPLAY_TYPE.BUTTON_TOGGLE:case P.DISPLAY_TYPE.ROW_INPUT_BOX:case P.DISPLAY_TYPE.TIME:d={value:this.inputForm.get(c.id).value,displayType:c.displayType};break;case P.DISPLAY_TYPE.DATE_RANGE:var h=this.inputForm.get(c.id),m=c.rangeKeys||["startDate","endDate"],g={};g[m[0]]=h.controls.startDate.value?h.controls.startDate.value.getTime():null,g[m[1]]=h.controls.endDate.value?h.controls.endDate.value.getTime():null,d={value:g,displayType:c.displayType};break;case P.DISPLAY_TYPE.NUMBER_RANGE:var f=this.inputForm.get(c.id),v=c.rangeKeys||["minAmount","maxAmount"],y={};y[v[0]]=f.controls.minAmount.value,y[v[1]]=f.controls.maxAmount.value,d={value:y,displayType:c.displayType};break;case P.DISPLAY_TYPE.IMAGE_UPLOAD:d={value:this.fileUploadParams,displayType:c.displayType};break;case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.ROW_RADIO:d={value:this.inputForm.get(c.id).value||null,displayType:c.displayType};break;case P.DISPLAY_TYPE.MULTI_CHECK_BOX:d={value:this.inputForm.get(c.id).value,displayType:c.displayType}}l[c.id]=d}}}catch(t){i={error:t}}finally{try{p&&!p.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return this.value.emit(l),!0},t.prototype.isCalanderOpen=function(){return this.picker.toArray().some((function(t){return t.opened}))},t.prototype.closeCalander=function(){for(var t=this.picker.toArray(),e=t.length,n=0;n<e;n++)if(t[n].opened){t[n].close();break}},t.prototype.clearForm=function(){this.inputForm.reset()},t.prototype.selectedOption=function(t,e){var n=this.formParams.inputParams[e];this.inputForm.get(n.id).setValue(t.value),this.eventPropagate&&this.onSubmit(!1,n.id)},t.prototype.onToggleChane=function(t,e){var n=this.formParams.inputParams[e];this.inputForm.get(n.id).setValue(t.checked),this.eventPropagate&&this.onSubmit(!1,n.id)},t.prototype.onBtnToggleChange=function(t,e){var n=this.formParams.inputParams[e];this.inputForm.get(n.id).setValue(t.value),this.eventPropagate&&this.onSubmit(!1,n.id)},t.prototype.fileUploadValue=function(t,e){this.fileUploadParams=t,this.eventPropagate&&this.onSubmit(!1,e)},t.prototype.checkedOption=function(t,e,n){var r=this.formParams.inputParams[n],i=this.inputForm.get(r.id).value;if(i){var s=i.findIndex((function(t){return t.id===e.id}));-1!==s?(i.splice(s,1),this.inputForm.get(r.id).setValue(i)):(i.push(e),this.inputForm.get(r.id).setValue(i))}else this.inputForm.get(r.id).setValue([e]);this.eventPropagate&&this.onSubmit(!1,r.id)},t.prototype.setChangedValues=function(t,e){var n=this.formParams.inputParams[e];this.inputForm.get(n.id).setValue(t),this.eventPropagate&&this.onSubmit(!1,n.id)},t.prototype.setDate=function(t,e){var n=t.value,r=this.formParams.inputParams[e];n&&!this.isDateObj(n)?this.inputForm.get(r.id).setValue(n.toDate()):this.inputForm.get(r.id).setValue(n),this.eventPropagate&&this.onSubmit(!1,r.id)},t.prototype.setDateRange=function(t,e){var n=this.formParams.inputParams[e].id,r=this.inputForm.get(n),i=r.controls.startDate.value,s=r.controls.endDate.value;i&&!this.isDateObj(i)?r.controls.startDate.setValue(i.toDate()):r.controls.startDate.setValue(i),s&&!this.isDateObj(s)?r.controls.endDate.setValue(s.toDate()):r.controls.endDate.setValue(s),this.eventPropagate&&this.onSubmit(!1,n)},t.prototype.setNumberRange=function(t,e){var n=this.formParams.inputParams[e].id,r=this.inputForm.get(n);r.controls.minAmount.setValue(r.controls.minAmount.value),r.controls.maxAmount.setValue(r.controls.maxAmount.value),this.eventPropagate&&this.onSubmit(!1,n)},t.prototype.setAutocompleteValue=function(t,e){var n=this.formParams.inputParams[e];this.inputForm.get(n.id).setValue(t.option.value),this.eventPropagate&&this.onSubmit(!1,n.id)},t.prototype.displayFn=function(t){return t&&"object"==typeof t?t.value:t},t.prototype.hasError=function(){var t,e,n=!1;try{for(var r=_.__values(this.formParams.inputParams),i=r.next();!i.done;i=r.next()){var s=i.value;switch(s.displayType){case P.DISPLAY_TYPE.CALENDAR_BOX:case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:case P.DISPLAY_TYPE.TEXT_AREA:case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.ROW_RADIO:case P.DISPLAY_TYPE.TOGGLE:case P.DISPLAY_TYPE.BUTTON_TOGGLE:case P.DISPLAY_TYPE.ROW_INPUT_BOX:case P.DISPLAY_TYPE.TIME:n=(s.isRequired||this.inputForm.get(s.id).value)&&this.inputForm.invalid;break;case P.DISPLAY_TYPE.DATE_RANGE:var o=this.inputForm.get(s.id);n=s.isRequired?o.invalid:o.controls.startDate.value&&o.controls.startDate.invalid||o.controls.startDate.value&&!o.controls.endDate.value||o.controls.endDate.value&&o.controls.endDate.invalid;break;case P.DISPLAY_TYPE.NUMBER_RANGE:var a=this.inputForm.get(s.id);n=s.isRequired?a.invalid:a.controls.minAmount.value&&a.controls.minAmount.invalid||a.controls.minAmount.value&&!a.controls.maxAmount.value||a.controls.maxAmount.value&&a.controls.maxAmount.invalid;break;case P.DISPLAY_TYPE.IMAGE_UPLOAD:this.fileUplInst.onSubmit(),n=!!s.isRequired&&(!this.fileUploadParams||0===Object.keys(this.fileUploadParams).length)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.dropDownToggle=function(t,e){var n=this.formParams.inputParams[e];!t&&this.inputForm.get(n.id).value&&(this.inputContainers[e+1]?this.inputContainers[e+1].focus():this.lastInpField.emit()),this.dropdownOpen.emit(t)},t.prototype.valueEntered=function(t,e){var n=this.formParams.inputParams[e];if(n.displayType===P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT){var r=n.options.find((function(e){return e.value===t}));r?this.inputForm.get(n.id).setValue(r):this.inputForm.get(n.id).setValue({id:t,value:t}),this.eventPropagate&&this.onSubmit(!1,n.id)}},t.prototype.enterOnLastInput=function(t){this.lastInpField.emit(t)},t.prototype.initialize=function(){var t,e,r=this,i=function(t){var e=[];switch(t.isRequired&&e.push(n.Validators.required),t.validators&&e.push(n.Validators.pattern(t.validators.validation)),t.displayType){case P.DISPLAY_TYPE.INPUT_BOX:case P.DISPLAY_TYPE.TEXT_AREA:case P.DISPLAY_TYPE.RADIO:case P.DISPLAY_TYPE.ROW_RADIO:case P.DISPLAY_TYPE.SELECTION_BOX:case P.DISPLAY_TYPE.TOGGLE:case P.DISPLAY_TYPE.MULTI_CHECK_BOX:case P.DISPLAY_TYPE.BUTTON_TOGGLE:case P.DISPLAY_TYPE.ROW_INPUT_BOX:case P.DISPLAY_TYPE.TIME:if(s.inputForm.addControl(t.id,new n.FormControl(t.value||null,e)),t.options&&t.options.length){var i=[];t.options.forEach((function(t){t.selected&&i.push(t)})),i.length&&s.inputForm.get(t.id).setValue(i[0])}s.setInputDisabled(t.id,t.isDisabled);break;case P.DISPLAY_TYPE.AUTOCOMPLETE_SELECT:s.inputForm.addControl(t.id,new n.FormControl(t.value||null,e)),s.filteredOptions=s.inputForm.valueChanges.pipe(T.startWith(""),T.map((function(t){return"string"==typeof t?t:t.value})),T.map((function(e){return e?r.filterOptions(e,t):t.options.slice()}))),s.setInputDisabled(t.id,t.isDisabled);break;case P.DISPLAY_TYPE.CALENDAR_BOX:t.value&&(t.value=new Date(t.value)),e.push(we.futureDateValidator),s.inputForm.addControl(t.id,new n.FormControl(t.value||null,e)),s.setInputDisabled(t.id,t.isDisabled);break;case P.DISPLAY_TYPE.DATE_RANGE:t.value||(t.value={});var o=[we.dateValidator];t.validators&&t.validators.allowFutureDate||o.push(we.futureDateValidatorIfAllowed),s.inputForm.addControl(t.id,new n.FormGroup({startDate:new n.FormControl(t.value.startDate?new Date(t.value.startDate):null,e),endDate:new n.FormControl(t.value.endDate?new Date(t.value.endDate):null,e)},{validators:o})),s.setInputDisabled(t.id,t.isDisabled);break;case P.DISPLAY_TYPE.NUMBER_RANGE:t.value||(t.value={}),s.inputForm.addControl(t.id,new n.FormGroup({minAmount:new n.FormControl(t.value.minAmount||null,e),maxAmount:new n.FormControl(t.value.maxAmount||null,e)},{validators:[we.amountValidator]})),s.setInputDisabled(t.id,t.isDisabled)}},s=this;try{for(var o=_.__values(this.formParams.inputParams),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.formParams.formValidators&&this.inputForm.setValidators(this.formParams.formValidators.validation)},t.prototype.filterOptions=function(t,e){var n=t.toLowerCase();return e.options.filter((function(t){return t.value.toLowerCase().includes(n)}))},t.prototype.setInputDisabled=function(t,e){e?this.inputForm.get(t).disable():this.inputForm.get(t).enable()},t.prototype.isDateObj=function(t){var e;switch(typeof t){case"string":e=!isNaN(Date.parse(t));break;case"object":e=t instanceof Date&&!isNaN(t.getTime());break;default:e=!1}return e},t.prototype.focusElement=function(t){this.inputContainers[t].focus()},t.prototype.updateValidators=function(t){for(var e=function(e){var r=n.inputForm.get(t[e]);if(r){var i=n.formParams.inputParams.find((function(n){return n.id===t[e]}));i&&(i.isDisabled?r.disable():r.enable())}},n=this,r=0;r<t.length;r++)e(r)},t}();Se.decorators=[{type:e.Component,args:[{selector:"mu-form-container",template:'<div class="mu-form-container-comp" [formGroup]="inputForm"\n[class.vertical-mode]="displayMode === DISPLAY_MODE.VERTICAL"\n[ngClass.xl]="webMode ? [\'web-form-container-comp\'] : [\'web-view-input-comp\']"\n[ngClass.lg]="webMode ? [\'web-form-container-comp\'] : [\'web-view-input-comp\']"\n[ngClass.md]="webMode ? [\'web-form-container-comp\'] : [\'web-view-input-comp\']"\n[ngClass.sm]="webMode ? [\'web-form-container-comp\'] : [\'web-view-input-comp\']">\n\n  <ng-container *ngFor="let inputParam of formParams.inputParams; let i = index">\n    <div *ngIf="(inputParam.isVisible === undefined || inputParam.isVisible)" class="main-input-cont"  \n      adjustElements [displayInSingleRow]="displayCount" [elementIndex]="i" [webMode]="webMode">\n\n      <div class="label-txt txt-lg-reg-norm"\n        *ngIf="displayLabel && inputParam.label && inputParam.displayType !== DISPLAY_TYPE.ROW_INPUT_BOX">\n        {{ inputParam.label }}\n        <span class="red-asterix error-text" *ngIf="inputParam.isRequired">\n          *\n        </span>\n      </div>\n\n      <ng-container [ngSwitch]="inputParam.displayType">\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.INPUT_BOX">\n\n          <div *ngIf="!inputParam.withoutBorder" \n          class="onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n\n            <div class="prefix-image" *ngIf="inputParam?.image?.prefixParams">\n              <i class="{{ inputParam.image.prefixParams?.iconClass }}"></i>\n              <img src="{{ inputParam.image.prefixParams?.imgUrl }}">\n            </div>\n\n            <input matInput #inputCont\n            \n              placeholder="{{inputParam.placeHolder}}"\n              type="{{inputParam.inputType || \'text\'}}"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              (updatedValue)="setChangedValues($event, i)"\n              class="txt-lg-med-norm input-cont" \n              formControlName="{{ inputParam.id }}"\n              name="{{ inputParam.name || \'input-text\' }}"\n              [ncMaxLength]="inputParam.maxLength || 1000"\n              textSecurity="inputParam.isPassword"\n              format="{{ inputParam.format }}"\n              [class.num-password-input]="inputParam.isPassword"\n              autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n              [keyboard]="parentCont">\n\n            <div class="suffix-image" *ngIf="inputParam?.image?.suffixParams">\n              <i class="{{ inputParam.image.suffixParams?.iconClass }}"></i>\n              <img src="{{ inputParam.image.suffixParams?.imgUrl }}">\n            </div>\n\n          </div>\n\n          <mat-form-field *ngIf="inputParam.withoutBorder" class="onb-input-box-cont mat-input-box-cont" \n            [class.border-disabled]="inputParam.isDisabled">\n\n            <div class="prefix-image" *ngIf="inputParam?.image?.prefixParams">\n              <i class="{{ inputParam.image.prefixParams?.iconClass }}"></i>\n              <img src="{{ inputParam.image.prefixParams?.imgUrl }}">\n            </div>\n\n\n            <input matInput #inputCont\n              placeholder="{{inputParam.placeHolder}}"\n              type="{{inputParam.inputType || \'text\'}}"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              (updatedValue)="setChangedValues($event, i)"\n              class="txt-lg-med-norm input-cont mat-input-cont" \n              formControlName="{{ inputParam.id }}"\n              name="{{ inputParam.name || \'input-text\' }}"\n              [ncMaxLength]="inputParam.maxLength || 1000"\n              format="{{ inputParam.format }}"\n              textSecurity="inputParam.isPassword"\n              [class.num-password-input]="inputParam.isPassword"\n              autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n              [keyboard]="parentCont>\n\n            <div class="suffix-image" *ngIf="inputParam?.image?.suffixParams">\n              <i class="{{ inputParam.image.suffixParams?.iconClass }}"></i>\n              <img src="{{ inputParam.image.suffixParams?.imgUrl }}">\n            </div>\n\n          </mat-form-field>\n          \n        </ng-container> \n        \n        <ng-container *ngSwitchCase="DISPLAY_TYPE.TIME">\n\n          <div *ngIf="!inputParam.withoutBorder" class="onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n\n            <input matInput #inputCont\n            \n              placeholder="{{inputParam.placeHolder}}"\n              type="time"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              (updatedValue)="setChangedValues($event, i)"\n              class="txt-lg-med-norm input-cont" \n              formControlName="{{ inputParam.id }}"\n              name="{{ inputParam.name || \'input-time\' }}"\n              [keyboard]="parentCont"\n              step="1">\n\n          </div>\n        </ng-container> \n        \n        <ng-container *ngSwitchCase="DISPLAY_TYPE.TEXT_AREA">\n          <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n            <textarea matInput #inputCont\n              placeholder="{{ inputParam.placeHolder }}"\n              type="{{ inputParam.inputType || \'text\' }}"\n              (updatedValue)="setChangedValues($event, i)"\n              class="txt-lg-med-norm input-cont" \n              formControlName="{{ inputParam.id }}"\n              name="{{ inputParam.name || \'input-text\' }}"\n              [ncMaxLength]="inputParam.maxLength || 1000"\n              format="{{ inputParam.format }}"\n              textSecurity="inputParam.isPassword"\n              [class.num-password-input]="inputParam.isPassword"\n              autocomplete="off"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              [keyboard]="parentCont">\n            </textarea> \n          </div>\n        </ng-container>  \n      \n        <ng-container *ngSwitchCase="DISPLAY_TYPE.SELECTION_BOX">\n\n          <ng-template #selectBox>\n\n            <mat-select #inputCont\n              formControlName="{{ inputParam.id }}"\n              customTrigger="inputCont"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              placeholder="{{ inputParam.placeHolder }}" \n              class="txt-lg-med-norm input-cont"\n              (selectionChange)="selectedOption($event, i)"\n              (openedChange)="dropDownToggle($event, i)">\n              <mat-option *ngFor="let option of inputParam.options" [value]="option"\n                class="txt-lg-med-norm">\n                {{ option.value }}\n              </mat-option>\n            </mat-select>\n          </ng-template>\n\n          <div *ngIf="!inputParam.withoutBorder" class="onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n\n            <ng-container>\n\n              <ng-container \n                *ngTemplateOutlet="selectBox">\n              </ng-container>\n\n            </ng-container>\n\n          </div>  \n\n          <ng-container *ngIf="inputParam.withoutBorder">\n\n            <mat-form-field class="onb-input-box-cont mat-input-box-cont">\n\n              <mat-select #inputCont\n                formControlName="{{ inputParam.id }}"\n                customTrigger="inputCont"\n                [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n                (onSubmit)="enterOnLastInput($event)"\n                placeholder="{{ inputParam.placeHolder }}" \n                class="txt-lg-med-norm input-cont mat-input-cont"\n                (selectionChange)="selectedOption($event, i)"\n                (openedChange)="dropDownToggle($event, i)">\n                <mat-option *ngFor="let option of inputParam.options" [value]="option"\n                  class="txt-lg-med-norm">\n                  {{ option.value }}\n                </mat-option>\n                \n              </mat-select>\n\n            </mat-form-field>\n\n          </ng-container>\n\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.MULTI_CHECK_BOX">\n          <div class="checkbox-cont">\n            <mat-checkbox *ngFor="let option of inputParam.options" [value]="option"\n              class="txt-lg-med-norm checkbox"\n              [checked]="option.selected"\n              (change)="checkedOption($event, option, i)">\n              {{ option.value }}\n            </mat-checkbox>\n          </div>\n        </ng-container>\n        \n        <ng-container *ngSwitchCase="DISPLAY_TYPE.RADIO">\n          <mat-radio-group\n            formControlName="{{ inputParam.id }}"\n            class="txt-lg-med-norm input-cont radio-group"\n            (change)="selectedOption($event, i)">\n            <mat-radio-button *ngFor="let option of inputParam.options" [value]="option" \n              class="txt-lg-med-norm radio-button"\n              [checked]="option.selected">\n              {{ option.value }}\n            </mat-radio-button>\n          </mat-radio-group>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.ROW_RADIO">\n          <mat-radio-group \n            formControlName="{{ inputParam.id }}"\n            class="txt-lg-med-norm vert-input-cont vert-radio-group"\n            (change)="selectedOption($event, i)">\n            <mat-radio-button  *ngFor="let option of inputParam.options" [value]="option" \n              class="txt-lg-med-norm radio-button"\n              [checked]="option.selected">\n              {{ option.value }}\n            </mat-radio-button>\n          </mat-radio-group>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.TOGGLE">\n          <mat-slide-toggle class="toggle-cont"\n            (change)="onToggleChane($event, i)">\n          </mat-slide-toggle>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.CALENDAR_BOX">\n          <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n            <input matInput #inputCont\n              formControlName="{{ inputParam.id }}"\n              [matDatepicker]="picker" \n              (dateChange)="setDate($event, i)"\n              [max]="inputParam.validators && inputParam.validators.allowFutureDate ? null : maxDate"\n              placeholder="{{ inputParam.placeHolder }}"\n              class="txt-lg-med-norm input-cont"\n              name="{{ inputParam.name || \'input-text\' }}"\n              [ncMaxLength]="inputParam.maxLength || 10"\n              format="{{ inputParam.format }}"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n              [keyboard]="parentCont">\n            <mat-datepicker-toggle matSuffix [for]="picker" \n            disableRipple="false"></mat-datepicker-toggle>\n            <mat-datepicker touchUi #picker></mat-datepicker>\n          </div>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.DATE_RANGE" formGroupName="{{ inputParam.id }}">\n          <div class="range">\n            <div class="range-onb-input-box-cont border-primary">\n              <input matInput #inputCont\n                formControlName="startDate"\n                [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n                [matDatepicker]="startPicker" \n                (dateChange)="setDateRange($event, i)"\n                placeholder="{{ inputParam.placeHolder[0] }}"\n                class="txt-lg-med-norm input-cont"\n                name="{{ inputParam.name || \'input-text\' }}"\n                autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n                [keyboard]="parentCont">\n              <mat-datepicker-toggle matSuffix [for]="startPicker" disableRipple="false"></mat-datepicker-toggle>\n              <mat-datepicker touchUi #startPicker></mat-datepicker>\n            </div>\n\n            <div class="range-onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n              <input matInput #inputCont\n                formControlName="endDate"\n                [matDatepicker]="endPicker" \n                [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n                (dateChange)="setDateRange($event, i)"\n                placeholder="{{ inputParam.placeHolder[1] }}"\n                class="txt-lg-med-norm input-cont"\n                [keyboard]="parentCont">\n              <mat-datepicker-toggle matSuffix [for]="endPicker" disableRipple="false"></mat-datepicker-toggle>\n              <mat-datepicker touchUi #endPicker></mat-datepicker>\n            </div>\n          </div>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.NUMBER_RANGE" formGroupName="{{ inputParam.id }}">\n          <div class="range">\n            <div class="range-onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n              <input matInput #inputCont\n                placeholder="{{ inputParam.placeHolder[0] }}"\n                type="number"\n                (input)="setNumberRange($event, i)"\n                class="txt-lg-med-norm input-cont" \n                formControlName="minAmount"\n                name="{{ inputParam.name || \'input-text\' }}"\n                textSecurity="inputParam.isPassword"\n                [class.num-password-input]="inputParam.isPassword"\n                autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n                [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n                [keyboard]="parentCont">\n            </div>\n        \n            <div class="range-onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n              <input matInput #inputCont\n                placeholder="{{ inputParam.placeHolder[1] }}"\n                type="number"\n                (input)="setNumberRange($event, i)"\n                class="txt-lg-med-norm input-cont" \n                formControlName="maxAmount"\n                name="{{ inputParam.name || \'input-text\' }}"\n                textSecurity="inputParam.isPassword"\n                [class.num-password-input]="inputParam.isPassword"\n                autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n                [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n                [keyboard]="parentCont">\n            </div>\n          </div>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.AUTOCOMPLETE_SELECT">\n          <div class="onb-input-box-cont border-primary" [class.border-disabled]="inputParam.isDisabled">\n            <input matInput #autoCompInput #inputCont\n              type="text"\n              class="txt-lg-med-norm input-cont" \n              placeholder="{{ inputParam.placeHolder }}"\n              formControlName="{{ inputParam.id }}"\n              [matAutocomplete]="auto"\n              [keyboard]="parentCont"\n              name="{{ inputParam.name || \'input-text\' }}"\n              autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n              [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n              (onSubmit)="enterOnLastInput($event)"\n              (blur)="valueEntered(autoCompInput.value, i)">\n\n            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn"\n              (optionSelected)="setAutocompleteValue($event, i)"\n              class="txt-xl-med-norm input-cont">\n              <mat-option *ngFor="let option of filteredOptions | async" [value]="option"\n                class="txt-lg-med-norm">\n                {{ option.value }}\n              </mat-option>\n            </mat-autocomplete>\n          </div>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.BUTTON_TOGGLE">\n          <mat-button-toggle-group name="toggle" class="button-toggle" #group="matButtonToggleGroup">\n\n            <ng-container *ngFor="let option of inputParam.options ; let j = index">\n              <mat-button-toggle value="{{ option.id }}" class="txt-lg-reg-norm"\n                [checked]="option.selected"\n                [ngClass]="{ \'primary-bg\' : group.value === option.id, \'text-color-white\' : group.value === option.id}"\n                (change)="onBtnToggleChange($event, i)">\n                {{ option.value }}\n              </mat-button-toggle>\n            </ng-container>\n\n          </mat-button-toggle-group>\n\n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.ROW_INPUT_BOX">\n          \n          <div class="input-container">\n\n            <div class="label-txt txt-lg-reg-norm" *ngIf="displayLabel && inputParam.label">\n              {{ inputParam.label }} \n              <span class="red-asterix error-text" *ngIf="inputParam.isRequired">\n                *\n              </span>  \n            </div>\n\n            <div class="onb-input-box-cont border-primary small-box" [class.border-disabled]="inputParam.isDisabled">\n              <input matInput inputCont\n                placeholder="{{ inputParam.placeHolder }}"\n                type="{{inputParam.inputType || \'text\'}}"\n                (updatedValue)="setChangedValues($event, i)"\n                class="txt-lg-med-norm input-cont" \n                formControlName="{{ inputParam.id }}"\n                name="{{ inputParam.name || \'input-text\' }}"\n                [ncMaxLength]="inputParam.maxLength || 1000"\n                format="{{ inputParam.format }}"\n                textSecurity="inputParam.isPassword"\n                [class.num-password-input]="inputParam.isPassword"\n                autocomplete="{{ inputParam.autoComplete || \'off\'}}"\n                [nextInpFocus]="inputContainers ? (inputContainers[i !== (formParams.inputParams.length - 1) ? i + 1 : undefined]) : undefined"\n                (onSubmit)="enterOnLastInput($event)"\n                [keyboard]="parentCont">\n            </div>\n\n          </div>  \n        </ng-container>\n\n        <ng-container *ngSwitchCase="DISPLAY_TYPE.IMAGE_UPLOAD">\n          <file-upload\n            [screen]="screen"\n            (value)="fileUploadValue($event, inputParam.id)"\n            [isRequired]="inputParam.isRequired">\n          </file-upload>  \n        </ng-container> \n\n      </ng-container>\n\n      <div *ngIf="inputParam.displayType !== DISPLAY_TYPE.DATE_RANGE &&\n        inputParam.displayType !== DISPLAY_TYPE.NUMBER_RANGE" class="errors-list" [class.mat-errors-list]="inputParam.withoutBorder">\n\n        <mat-error class="txt-sm-reg-norm error-text"\n          *ngIf="inputForm.get(inputParam.id).touched && inputParam.isRequired && \n          inputForm.get(inputParam.id).hasError(\'required\')">\n          <span *ngIf="inputParam.displayType === DISPLAY_TYPE.RADIO || \n            inputParam.displayType === DISPLAY_TYPE.SELECTION_BOX ||\n            inputParam.displayType === DISPLAY_TYPE.MULTI_CHECK_BOX ; else default" class="err-text">\n            {{ inputParam.validators ? inputParam.validators.validationError : (\'mu_inpt_cont_sel_err\' | translate) }}\n          </span>\n          <ng-template #default>\n            {{ inputParam.validators ? inputParam.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n          </ng-template>\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).touched\n          && inputForm.get(inputParam.id).value && inputForm.get(inputParam.id).hasError(\'pattern\')">\n          {{ inputParam.validators ? inputParam.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).touched\n          && inputForm.get(inputParam.id).value && inputForm.get(inputParam.id).hasError(\'invalid\') \n          && !inputForm.get(inputParam.id).hasError(\'pattern\')">\n          {{ formParams.formValidators.errorMsg }}\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).touched &&\n          inputForm.get(inputParam.id).errors && inputForm.get(inputParam.id).hasError(\'futureDate\')">\n          {{ \'mu_inpt_cont_futr_date_err\' | translate }}\n        </mat-error>\n      </div>\n\n      <div *ngIf="inputParam.displayType === DISPLAY_TYPE.DATE_RANGE" class="errors-list">\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).hasError(\'noStartDate\')">\n          {{ \'mu_inpt_cont_strt_date_err\' | translate }}\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).hasError(\'startDateExceed\')">\n          {{ \'mu_inpt_cont_date_err\' | translate }}\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).hasError(\'futureDate\') || \n          inputForm.get(inputParam.id).hasError(\'futureDate\')">\n          {{ \'mu_inpt_cont_futr_date_err\' | translate }}\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputParam.isRequired && \n          inputForm.get(inputParam.id).touched && inputForm.get(inputParam.id).hasError(\'required\')">\n          {{ inputParam.validators ? inputParam.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n        </mat-error>\n      </div>\n\n      <div *ngIf="inputParam.displayType === DISPLAY_TYPE.NUMBER_RANGE" class="errors-list">\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).hasError(\'noMinAmount\')">\n          {{ \'mu_inpt_cont_min_amnt_err\' | translate }}\n        </mat-error>\n      \n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.get(inputParam.id).hasError(\'minAmountExceed\')">\n          {{ \'mu_inpt_cont_amnt_err\' | translate }}\n        </mat-error>\n\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputParam.isRequired && \n          inputForm.get(inputParam.id).touched && inputForm.get(inputParam.id).hasError(\'required\')">\n          {{ inputParam.validators ? inputParam.validators.validationError : (\'mu_inpt_cont_val_err\' | translate) }}\n        </mat-error>\n      </div>\n\n\n      \x3c!-- <div *ngIf="inputForm && inputParam.displayType === DISPLAY_TYPE.DATE_RANGE" class="errors-list">\n        <mat-error class="txt-sm-reg-norm error-text" *ngIf=" (inputForm.get(\'startDate\').touched && \n          inputForm.get(\'endDate\').touched) && inputForm.get(\'startDate\').value && !inputForm.get(\'endDate\').value">\n          {{ \'mu_inpt_cont_end_date_err\' | translate }}\n        </mat-error>\n      </div> --\x3e\n\n    </div>\n  </ng-container>  \n\n</div>',styles:[":host{width:100%}.onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;margin:2% 0 0;position:relative}.mat-errors-list{bottom:0;left:0;position:absolute}.mat-input-box-cont{border:none!important}.mu-form-container-comp{display:flex;flex-direction:row;flex-wrap:wrap;position:relative}.button-toggle{margin:2vw 0}.main-input-cont{margin:2vw 0;position:relative}.input-container{align-items:center;display:flex;justify-content:space-between;position:relative}.input-container .label-txt{margin-right:2vw;width:72vw}.input-container .small-box{width:14vw}.input-container .input-cont,.input-container .mat-input-cont{text-align:center}.radio-button{padding-bottom:2vw!important}.radio-group{display:flex;flex-direction:column;padding:3vw 0 0 2vw!important}.checkbox,.checkbox-cont{padding:1vw 0}.checkbox-cont{display:flex;flex-direction:column;position:relative}.range-onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;position:relative;width:46%}.input-cont,.range-onb-input-box-cont .input-cont{background:none;border:0;padding:4vw;position:relative;width:100%}.mat-input-cont{padding:0!important}.toggle-cont{margin:2vw 0}.input-cont-comp{margin:2vw 4vw;position:relative}.range{display:flex;flex-direction:row;justify-content:space-between}.errors-list{display:flex;flex-direction:column;padding-top:1vw}.web-form-container-comp .main-input-cont{margin:10px 0}.web-form-container-comp .input-cont,.web-form-container-comp .range-onb-input-box-cont .input-cont{background:none;border:0;padding:15px;position:relative;width:100%}.web-form-container-comp .main-input-cont{padding:0}.web-form-container-comp .errors-list{padding-top:5px}.web-form-container-comp .radio-button{padding-bottom:10px!important}.web-form-container-comp .radio-group{padding:5px 0!important}.web-view-input-comp .main-input-cont{margin:10px 0}.web-view-input-comp .range-onb-input-box-cont{align-items:center;border-style:solid;border-width:2px;display:flex;margin:.5% 0;position:relative;width:48%}.web-view-input-comp .mat-input-box{border:0!important}.web-view-input-comp .input-cont{background:none;border:0;padding:15px;position:relative;width:100%}.web-view-input-comp .errors-list{padding-top:5px}.web-view-input-comp .radio-button{padding-bottom:10px!important}.web-view-input-comp .radio-group{padding:5px 0!important}.web-view-input-comp .vert-radio-group{padding:8px 0!important}.web-view-input-comp .vert-radio-group .radio-button{padding-right:10px!important}.vertical-mode .checkbox,.vertical-mode .radio-group{padding:5px 0!important}.vertical-mode .radio-button{padding:8px 0!important}.vertical-mode .checkbox-cont{padding:5px 0}.prefix-image,.suffix-image{padding:0 10px}"]}]}],Se.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:n.FormBuilder},{type:e.ChangeDetectorRef}]},Se.propDecorators={picker:[{type:e.ViewChildren,args:[a.MatDatepicker]}],fileUplInst:[{type:e.ViewChild,args:[Ie,{static:!1}]}],inputCont:[{type:e.ViewChildren,args:["inputCont"]}],formParams:[{type:e.Input}],screen:[{type:e.Input}],webMode:[{type:e.Input}],parentCont:[{type:e.Input}],eventPropagate:[{type:e.Input}],displayMode:[{type:e.Input}],displayLabel:[{type:e.Input}],displayCount:[{type:e.Input}],value:[{type:e.Output}],dropdownOpen:[{type:e.Output}],lastInpField:[{type:e.Output}]};var Ce=function(){function t(t,r){this.rc=t,this.changeDet=r,this.loadMoreData=new e.EventEmitter,this.onRowSelect=new e.EventEmitter,this.onSelectAll=new e.EventEmitter,this.onDetailClick=new e.EventEmitter,this.onCellClick=new e.EventEmitter,this.onRowEdit=new e.EventEmitter,this.onDownload=new e.EventEmitter,this.selectedFilter=new e.EventEmitter,this.selectedIndexes={},this.selAllMap={},this.headerFields=[],this.dataToDisplay=[],this.pageNumbers=[],this.filterFields=[],this.dataMap={},this.editForm=new n.FormGroup({}),this.COL_TYPE=P.COL_TYPE,this.DISPLAY_MODE=P.DISPLAY_MODE,t.getLogLevel()===P.LOG_LEVEL.DEBUG&&(window.datatable=this)}return t.prototype.ngOnChanges=function(t){this.tableConfig=t.tableConfig.currentValue,this.setUpTable()},t.prototype.ngOnInit=function(){this.setUpTable()},t.prototype.ngAfterViewInit=function(){var t=this.filterCont.nativeElement.offsetTop;this.filterCont.nativeElement.style.maxHeight="calc(100% - "+t+"px)"},t.prototype.setUpTable=function(){var t,e,r,i,s=this;if(this.tableConfig){try{for(var o=_.__values(this.tableConfig.headers),a=o.next();!a.done;a=o.next()){(p=a.value).colType===P.COL_TYPE.TOGGLE&&(this.isTogglePresent=!0),p.isEditable&&this.editForm.addControl(p.dataKey,new n.FormControl),this.headerFields.push(p.dataKey),!this.tableConfig.enableFilter||p.colType!==P.COL_TYPE.HYPER_LINK&&p.colType!==P.COL_TYPE.TEXT||this.filterFields.push(p.dataKey)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.tableConfig.selectedIndexes&&this.tableConfig.selectedIndexes.map((function(t){return s.selectedIndexes[t]=!0})),this.tableConfig.totalRecords=this.tableConfig.totalRecords||this.tableConfig.data.length,this.tableConfig.dispRows=this.tableConfig.dispRows||this.tableConfig.data.length,this.createDataMap(this.tableConfig.data,0),this.createPageNumbers()}if(this.tableConfig.stickyConfig&&this.tableConfig.stickyConfig.noOfCols>0){this.stickyInfo=this.tableConfig.stickyConfig,this.stickyInfo&&!this.stickyInfo.nonStickyWidth&&(this.stickyInfo.nonStickyWidth=200-this.stickyInfo.stickyWidth);var c=this.stickyInfo.nonStickyWidth/(this.tableConfig.headers.length-this.stickyInfo.noOfCols);try{for(var l=_.__values(this.tableConfig.headers),u=l.next();!u.done;u=l.next()){var p;(p=u.value).widthPerc&&(this.stickyInfo.nonStickyWidth+=p.widthPerc-c)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.stickyInfo.nonStickyWidth=Math.max(100-this.stickyInfo.stickyWidth,this.stickyInfo.nonStickyWidth)}},t.prototype.createPageNumbers=function(){this.pageNumbers=[],this.currPageIndex=this.prevPageIndex=this.pageIndex=0;var t=this.tableConfig.totalRecords/this.tableConfig.dispRows;this.tableConfig.totalRecords%this.tableConfig.dispRows&&t++;for(var e=1;e<=t;e++)this.pageNumbers.push(e)},t.prototype.updatePageNumbers=function(t){this.pageIndex=t-2,this.pageIndex<=0?this.pageIndex=0:this.pageIndex>=this.pageNumbers.length-4&&(this.pageIndex=this.pageNumbers.length-5)},t.prototype.rowClick=function(t,e){var n={rowData:e,rowIndex:e.rowIndex,isSelected:!this.selectedIndexes[e.rowIndex],browserEvent:t};this.onRowSelect.emit(n)},t.prototype.rowSelect=function(t,e){t.checked?this.selectedIndexes[e.rowIndex]=!0:(this.slctAllBox.checked=!1,this.selAllMap[this.currPageIndex]=!1,this.selectedIndexes[e.rowIndex]=!1)},t.prototype.selectAll=function(t){this.slctAllBox.checked=t.checked,this.selAllMap[this.currPageIndex]=t.checked;for(var e=0;e<this.currPageIndex+this.tableConfig.dispRows;e++)this.selectedIndexes[e+this.currPageIndex*this.tableConfig.dispRows]=t.checked;var n={selectedRows:this.dataMap[this.currPageIndex],isSelected:t.checked};this.onSelectAll.emit(n)},t.prototype.radioSelect=function(t,e){this.selectedIndexes={};var n=e.rowIndex;this.selectedIndexes[n]=!0},t.prototype.moreDetailsClick=function(t,e){var n={id:t,rowData:e};this.onDetailClick.emit(n)},t.prototype.toggleRow=function(t,e){this.selectedIndexes[e.rowIndex]=t.checked},t.prototype.createDataMap=function(t,e){for(var n=Math.ceil(t.length/this.tableConfig.dispRows),r=JSON.parse(JSON.stringify(t)),i=0;i<r.length;i++)r[i].rowIndex=i+e*this.tableConfig.dispRows;for(var s=0;s<n;s++){var o=r.splice(0,this.tableConfig.dispRows),a=e+s;(o.length===this.tableConfig.dispRows||!this.tableConfig.lazyLoad||this.tableConfig.lazyLoad&&this.tableConfig.totalRecords<=a*this.tableConfig.dispRows+o.length)&&(this.dataMap[a]=o)}this.dataToDisplay=this.dataMap[e]||[],this.changeDet.detectChanges()},t.prototype.onPageClick=function(t){t>=this.pageNumbers.length?t=this.pageNumbers.length-1:t<0&&(t=0),this.prevPageIndex=this.currPageIndex,this.currPageIndex=t,this.slctAllBox&&(this.slctAllBox.checked=this.selAllMap[this.currPageIndex]||!1),this.pageNumbers.length>5&&this.updatePageNumbers(t),this.dataMap[this.currPageIndex]?this.dataToDisplay=this.dataMap[t]:this.loadMoreData.emit(t*this.tableConfig.dispRows)},t.prototype.updateData=function(t,e,n){0===e&&(this.currPageIndex=e,this.dataMap={},this.createPageNumbers()),n?this.tableConfig.totalRecords=n:this.tableConfig.lazyLoad||(this.tableConfig.totalRecords=t.length),this.createDataMap(t,this.currPageIndex)},t.prototype.loadingFailed=function(t,e){if(this.currPageIndex=this.prevPageIndex,this.updatePageNumbers(this.currPageIndex),t){var n=e?0:1;this.filterCompChildren.toArray()[n].updateLastAppliedFilters(t)}},t.prototype.cellClick=function(t,e){var n={headerKey:e.colType===P.COL_TYPE.MULTI_LINE?e.dataKeyArr[0]:e.dataKey,rowIndex:t.rowIndex};if(e.navInfo){var r=JSON.parse(JSON.stringify(e.navInfo.navUrl)),i=new K;e.navInfo.navUrl=i.createNavUrl(r,t),n.navInfo=e.navInfo}else n.rowData=t;this.onCellClick.emit(n)},t.prototype.search=function(t){var e=this;this.dataMap={};var n=[];n=t?this.tableConfig.data.filter((function(n){if(e.filterFields.filter((function(e){return n[e]&&n[e].toString().toLowerCase().includes(t.toString().toLowerCase())})).length)return!0})):this.tableConfig.data,this.tableConfig.totalRecords=n.length,this.createDataMap(n,0),this.createPageNumbers()},t.prototype.insertRow=function(t){var e,n,r=[];if(this.tableConfig.lazyLoad){var i=this.dataMap[0];i.unshift(t),i.pop(),r=i}else{this.tableConfig.data.unshift(t),r=this.tableConfig.data;var s={};try{for(var o=_.__values(Object.keys(this.selectedIndexes)),a=o.next();!a.done;a=o.next()){var c=a.value;s[Number(c)+1]=!0}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.selectedIndexes={},this.selectedIndexes=s}this.dataMap={},this.tableConfig.totalRecords++,this.createDataMap(r,0),this.createPageNumbers()},t.prototype.deleteRow=function(t){var e,n,r,i;if(!this.tableConfig.lazyLoad){this.tableConfig.data.splice(t,1),this.dataMap={},this.createDataMap(this.tableConfig.data,0),this.tableConfig.totalRecords--,this.createPageNumbers();var s={};try{for(var o=_.__values(Object.keys(this.selectedIndexes)),a=o.next();!a.done;a=o.next()){var c=a.value;s[Number(c)-1]=!0}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return this.selectedIndexes={},void(this.selectedIndexes=s)}this.dataMap[this.currPageIndex+1]?(this.dataMap[this.currPageIndex].splice(t%this.tableConfig.dispRows,1),this.dataMap[this.currPageIndex].push(this.dataMap[this.currPageIndex+1][0])):this.tableConfig.totalRecords<=this.tableConfig.dispRows?(this.tableConfig.totalRecords--,this.dataMap[this.currPageIndex].splice(t%this.tableConfig.dispRows,1)):this.loadMoreData.emit(this.currPageIndex*this.tableConfig.dispRows),this.tableConfig.enableSelect&&(this.selectedIndexes={});var l=Object.keys(this.dataMap);try{for(var u=_.__values(l),p=u.next();!p.done;p=u.next()){var d=p.value;Number(d)>this.currPageIndex&&delete this.dataMap[d]}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}this.changeDet.detectChanges()},t.prototype.editRow=function(t,e){if(this.selectedIndexes={},e)this.selectedIndexes[t.rowIndex]=!0;else{var n={editedValues:this.editForm.value,rowData:t,rowIndex:t.rowIndex};this.onRowEdit.emit(n)}this.editForm.reset()},t.prototype.updateRow=function(t,e){this.dataMap[this.currPageIndex][t%this.tableConfig.dispRows]=e},t.prototype.applyFilter=function(t){this.tableConfig.lazyLoad?(this.changeDet.detectChanges(),this.selectedFilter.emit(t)):t&&t[0]?this.search(t[0].value.toString()):this.search()},t.prototype.unselectIndexes=function(t){var e,n;try{for(var r=_.__values(t),i=r.next();!i.done;i=r.next()){var s=i.value;this.selectedIndexes[s]=!1}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.slctAllBox&&(this.slctAllBox.checked=!1),this.selAllMap[this.currPageIndex]=!1},t.prototype.downloadTableData=function(){},t.prototype.getEditedRows=function(){var t=this,e=[];return Object.keys(this.dataMap).forEach((function(n){t.dataMap[n].forEach((function(t){e.push(t)}))})),e},t.prototype.onDownloadClick=function(){this.menuTrigger.closeMenu(),1===this.tableConfig.downloadFormats.length?this.onSelectingFormat(this.tableConfig.downloadFormats[0]):this.menuTrigger.openMenu()},t.prototype.onSelectingFormat=function(t){this.onDownload.emit(t)},t}();Ce.decorators=[{type:e.Component,args:[{selector:"mu-data-table",template:'\n<div class="horz-filter" *ngIf="tableConfig.horizFilterParams">\n  <filter\n    [filterItems]="tableConfig.horizFilterParams"\n    [webMode]="true"\n    [displayCount]="3"\n    (selectedFilter)="applyFilter($event)">\n  </filter>\n</div>\n\n<div [ngClass]="tableConfig.vertFilterParams ? \'filter-cont\' : \'\'" #filterCont>\n  <div  class="bg-white mu-table-cont border-light" #muTableCont>\n    \n    <div class="table-extras bg-white" #tableExtras>\n      <div class="search-input txt-lg-med-dark text-color-primary" \n            *ngIf="dataToDisplay.length && pageNumbers.length === 1">\n        \n        Total Records : {{ tableConfig.totalRecords }}  \n      </div>\n\n      <div class="search-input txt-lg-med-dark text-color-primary" \n            *ngIf="dataToDisplay.length && pageNumbers.length > 1">\n\n        {{ currPageIndex * tableConfig.dispRows + 1 }} to \n        {{ ((currPageIndex + 1) * tableConfig.dispRows) <= tableConfig.totalRecords ? ((currPageIndex + 1) * tableConfig.dispRows) : tableConfig.totalRecords }} \n        of {{ tableConfig.totalRecords }} records \n      </div>\n\n      <div class="download text-color-primary"  \n        [matMenuTriggerFor]="menu"\n        #menuTrigger="matMenuTrigger"          \n        (click)="onDownloadClick()">\n        <i *ngIf="dataToDisplay.length && tableConfig.downloadFormats"\n        class="fa fa-download" aria-hidden="true"></i>\n      </div>\n\n      <div class="show-menu">\n        <mat-menu #menu="matMenu"\n          [xPosition]="\'before\'"\n          [yPosition]="\'below\'">\n    \n          <div class="txt-lg-bld-norm" *ngFor="let format of tableConfig.downloadFormats">\n            <button mat-menu-item (click)="onSelectingFormat(format)">\n              {{ format }}\n            </button>\n          </div>    \n        </mat-menu>\n      </div>\n    \n      <div class="paginator text-color-primary" *ngIf="pageNumbers.length > 1">\n        <div [ngClass]="{\'text-color-disable\' : currPageIndex === 0}" class="fast-backward pagenumber"\n            (click)="onPageClick(0)">\n          <i class="fa fa-fast-backward" aria-hidden="true"></i>\n        </div> \n        <div [ngClass]="{\'text-color-disable\' : currPageIndex === 0}" class="firstPage" class="pagenumber"\n            (click)="onPageClick(currPageIndex - 1)">\n          <i class="fa fa-chevron-left" aria-hidden="true"></i>\n        </div>\n        <div class="pagenumber txt-lg-reg-dark" *ngFor="let pageNumber of pageNumbers.slice(pageIndex, pageIndex + 5)"\n          (click)="onPageClick(pageNumber - 1)"\n          [ngClass]="currPageIndex === pageNumber - 1 ? \'sel-ind\' : \'\'">\n          {{ pageNumber }}\n        </div>\n        <div [ngClass]="{ \'text-color-disable\' : currPageIndex === pageNumbers.length - 1 }" \n            class="lastPage" class="pagenumber" (click)="onPageClick(currPageIndex + 1)">\n          <i class="fa fa-chevron-right" aria-hidden="true"></i>\n        </div>\n        <div [ngClass]="{ \'text-color-disable\' : currPageIndex === pageNumbers.length - 1 }" \n            class="fast-forward pagenumber" (click)="onPageClick(pageNumbers.length - 1)">\n          <i class="fa fa-fast-forward" aria-hidden="true"></i>\n        </div>\n\n      </div>\n    </div>\n\n    <ng-template *ngIf="(stickyInfo); then stickyConfig else defaultConfig"></ng-template>\n\n    <ng-template #stickyConfig>\n      <div class="sticky-container">\n        <ng-container *ngTemplateOutlet="innerContent"></ng-container>\n      </div>\n    </ng-template>\n\n    <ng-template #defaultConfig>\n      <ng-container *ngTemplateOutlet="innerContent"></ng-container>\n    </ng-template>\n\n\n    <ng-template #innerContent>\n        <div class="primary-bg border-light"\n        [ngClass]=" stickyInfo ? \'headers-cont-sticky\' : \'headers-cont\'"\n        [style.width]="stickyInfo ? (stickyInfo.stickyWidth + stickyInfo.nonStickyWidth) + \'%\' : \'\'"\n        [style.top]="!stickyInfo ? tableExtras.getBoundingClientRect().height.toFixed(2)+ \'px\' : \'\'">\n          <div class="radio-btn" *ngIf="tableConfig?.enableRadio"></div>\n          <div class="checkbox" *ngIf="tableConfig?.enableSelect && dataToDisplay.length" >\n            <mat-checkbox (change)="selectAll($event)" #slctAllBox></mat-checkbox>\n          </div>\n\n          <ng-container *ngFor="let header of tableConfig.headers; index as i">\n            <div \n            class="txt-xl-bld-dark text-color-white"\n            [style.position]="stickyInfo && (i <= (stickyInfo.noOfCols - 1)) ? \'sticky\' : \'\'"\n            [style.left]="stickyInfo && (i <= (stickyInfo.noOfCols - 1)) ? \n              (i*(stickyInfo.stickyWidth/stickyInfo.noOfCols))+\'%\' : \'\'"\n            [style.width]="stickyInfo ? \n              (\n                i <= (stickyInfo.noOfCols - 1) ? \n                (stickyInfo.stickyWidth/stickyInfo.noOfCols) + \'%\' :\n                (header.widthPerc || stickyInfo.nonStickyWidth/(tableConfig.headers.length - stickyInfo.noOfCols)) + \'%\'\n                )\n              : \n              (header.widthPerc || 100/tableConfig.headers.length)+\'%\'\n              "\n            [ngClass]="stickyInfo ? \n            (i == (stickyInfo.noOfCols - 1) ? \'header-sticky last-sticky\' : \'header-sticky\')\n            :\n            \'header\'\n            ">\n              {{ header.header }}\n            </div>\n          </ng-container>\n        </div>\n\n        <div class="border-light" *ngFor="let rowData of dataToDisplay"\n          [ngClass]="stickyInfo ? \'table-row-cont-sticky\' : \'table-row-cont\'"\n          [style.width]="stickyInfo ? (stickyInfo.stickyWidth + stickyInfo.nonStickyWidth) + \'%\' : \'\'"\n          [class.row-active]="selectedIndexes[rowData[\'rowIndex\']] && !isTogglePresent">\n\n          <div class="radio-btn" *ngIf="tableConfig.enableRadio">\n            <mat-radio-group name="rowRadio">\n              <mat-radio-button \n                value="{{ rowData[\'rowIndex\'] }}" \n                (click)="rowClick($event, rowData)"\n                (change)="radioSelect($event, rowData)"\n                [checked]="selectedIndexes[rowData[\'rowIndex\']]">\n              </mat-radio-button>\n            </mat-radio-group>\n          </div>\n\n          <div class="checkbox" *ngIf="tableConfig.enableSelect">\n            <mat-checkbox\n              (click)="rowClick($event, rowData)"\n              [checked]="selectedIndexes[rowData[\'rowIndex\']]"\n              (change)="rowSelect($event, rowData)">\n            </mat-checkbox>\n          </div>\n\n        <ng-container *ngIf="dataToDisplay">\n\n          <ng-container *ngFor="let header of tableConfig.headers; index as ind">\n            <div\n              class="txt-md-med-norm" \n              [style.position]="stickyInfo && (ind <= (stickyInfo.noOfCols - 1)) ? \'sticky\' : \'\'"\n              [style.left]="stickyInfo && (ind <= (stickyInfo.noOfCols - 1)) ? \n                (ind*(stickyInfo.stickyWidth/stickyInfo.noOfCols))+\'%\' : \'\'"\n              [style.width]="stickyInfo ? \n              (\n                ind <= (stickyInfo.noOfCols - 1) ? \n                (stickyInfo.stickyWidth/stickyInfo.noOfCols) + \'%\' :\n                (header.widthPerc || stickyInfo.nonStickyWidth/(tableConfig.headers.length - stickyInfo.noOfCols)) + \'%\'\n                )\n              : \n              (header.widthPerc || 100/tableConfig.headers.length)+\'%\'\n              "\n              [ngClass]="stickyInfo ? \n              ind == (stickyInfo.noOfCols - 1) ? \'last-sticky row-data-sticky header.customStyle\' : \'row-data-sticky header.customStyle\' :\n              \'row-data header.customStyle\'\n              ">\n          \n          <ng-container [ngSwitch]="header.colType" [formGroup]="editForm">\n\n            <div *ngSwitchCase="COL_TYPE.TEXT" [ngClass]="header.elementStyle">\n              \n              <span *ngIf="!(selectedIndexes[rowData[\'rowIndex\']] && header.isEditable)" class="text-cls"> \n                {{ header.constValue || rowData[header.dataKey] | genericPipe : header.pipeParams?.pipeName : [header.pipeParams?.value] }}\n              </span> \n              <input *ngIf="selectedIndexes[rowData[\'rowIndex\']] && header.isEditable" \n                formControlName="{{ header.dataKey }}"\n                value="{{ rowData[header.dataKey] | genericPipe : header.pipeParams?.pipeName : [header.pipeParams?.value] }}" type="text">\n            </div>\n\n            <div *ngSwitchCase="COL_TYPE.INPUT_EDIT" [ngClass]="header.elementStyle">\n              <input *ngIf="header.isEditable" class="edit-input border-light"\n                [(ngModel)]="rowData[header.dataKey]" type="text" \n                [ngModelOptions]="{standalone: true}">\n            </div>\n            \n            \x3c!-- Column to display multi line text along with image and icon --\x3e\n            <div class="multi-line click-item" *ngSwitchCase="COL_TYPE.MULTI_LINE" [ngClass]="header.elementStyle"\n                (click)="cellClick(rowData, header)">\n              <div class="multi-line-text-align" *ngFor="let colType of header.dataKeyType; let i = index">\n                <div *ngIf="colType === COL_TYPE.IMAGE">\n                  <img src="{{ header.multiLineKey[i] }}">\n                </div>\n                <div *ngIf="colType === COL_TYPE.ICON">\n                  <i class="{{ rowData[header.multiLineKey[i]] }}"></i>\n                </div>\n                <div *ngIf="colType === COL_TYPE.TEXT">\n                  <div *ngFor="let data of header.dataKeyArr; let j = index" class="profile-align">\n                    <div class="multi-line">\n                      <div *ngIf="header.headerArr"\n                        class="text-color-primary txt-md-med-norm header-width"> \n                        {{ header.headerArr[j] }} \n                      </div>\n                      <div *ngIf="header.headerArr" class="colon-width">\n                        :\n                      </div>\n                      <div class="txt-md-med-norm data-width">\n                        {{ rowData[data] }}\n                      </div>\n                    </div>  \n                  </div>\n                </div>\n              </div>\n            </div>\n            \n              <div *ngSwitchCase="COL_TYPE.IMAGE" [ngClass]="header.elementStyle">\n                <img src="{{ header.constValue || rowData[header.dataKey] }}">\n              </div>\n\n              <div *ngSwitchCase="COL_TYPE.HYPER_LINK" (click)="cellClick(rowData, header)"\n                class="click-item text-color-primary" [ngClass]="header.elementStyle">\n                {{ header.constValue || rowData[header.dataKey] | genericPipe : header.pipeParams?.pipeName : [header.pipeParams?.value] }}\n              </div>\n\n              <div *ngSwitchCase="COL_TYPE.ICON" (click)="cellClick(rowData, header)" class="click-item"\n                [ngClass]="header.elementStyle">\n                <i class="{{ header.constValue || rowData[header.dataKey] }}"></i>\n              </div>\n\n              <div *ngSwitchCase="COL_TYPE.BUTTON" (click)="cellClick(rowData, header)"\n                [ngClass]="header.elementStyle">\n                <button class="table-button curs-pointer txt-lg-med-norm primary-bg">\n                  {{ header.constValue || rowData[header.dataKey] }}\n                </button>\n              </div>\n\n              <div *ngSwitchCase="COL_TYPE.TOGGLE" [ngClass]="header.elementStyle">\n                <mat-slide-toggle \n                  (click)="rowClick($event, rowData)"\n                  (change)="toggleRow($event, rowData)"\n                  [checked]="selectedIndexes[rowData[\'rowIndex\']]">\n                </mat-slide-toggle>\n              </div>\n\n              <div *ngSwitchCase="COL_TYPE.MORE_DETAILS" [ngClass]="header.elementStyle">\n                <i class="click-item fa fa-ellipsis-v more-icon" [matMenuTriggerFor]="menu" aria-hidden="true"></i>\n                <mat-menu #menu="matMenu" yPosition="below" xPosition="before">\n                  <button mat-menu-item *ngFor="let option of header.constValue" class="txt-lg-med-norm" \n                  (click)="moreDetailsClick(option.id, rowData)"> \n                    <span> {{ option.value }}</span>\n                  </button>\n                </mat-menu>\n              </div>\n\n              <div *ngSwitchCase="COL_TYPE.EDIT" [ngClass]="header.elementStyle">\n                <span class="click-item" (click)="editRow(rowData, true)"\n\n                *ngIf="!selectedIndexes[rowData[\'rowIndex\']]">\n                  {{ \'mu_dt_tbl_edit\' | translate }}\n                </span>\n\n                <span class="click-item" (click)="editRow(rowData, false)"\n                *ngIf="selectedIndexes[rowData[\'rowIndex\']]">\n                  {{ \'mu_dt_tbl_save\' | translate }}\n\n                </span>\n              </div>\n            </ng-container>\n          </div>\n          </ng-container>\n        </ng-container>\n      </div>\n\n      <ng-container *ngIf="!dataToDisplay.length">\n        <div class="no-data txt-lg-med-norm">\n          {{ \'mu_dt_tbl_empty_state\' | translate }}\n        </div>\n      </ng-container>\n    </ng-template>\n\n  </div>\n\n  <div class="vert-filter" *ngIf="tableConfig.vertFilterParams">\n    <filter\n      [filterItems]="tableConfig.vertFilterParams"\n      [displayMode]="DISPLAY_MODE.VERTICAL"\n      [webMode]="true"\n      [displayCount]="1"\n      (selectedFilter)="applyFilter($event)">\n    </filter>\n  </div>\n</div>\n\n\n',styles:[":host{position:relative;width:100%}.mu-table-cont{border-style:solid;border-width:1px;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);display:flex;flex-direction:column;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:100%}.filter-cont{display:flex;height:auto;overflow-y:auto}.filter-cont ::-webkit-scrollbar{display:none}.filter-cont .mu-table-cont{height:100%;overflow-y:auto;width:85%}.filter-cont::-webkit-scrollbar{display:none}.headers-cont{align-items:center;padding:10px}.headers-cont,.headers-cont-sticky{border-bottom-style:solid;border-bottom-width:1px;display:flex;justify-content:space-between;position:-webkit-sticky;position:sticky;z-index:10}.checkbox{margin-left:20px}.checkbox,.radio-btn{margin-right:20px}.table-row-cont{align-items:center;justify-content:space-between;padding:10px}.table-row-cont,.table-row-cont-sticky{border-bottom-style:solid;border-bottom-width:1px;display:flex}.row-data{padding:5px}.row-data,.row-data-sticky{align-items:center;display:flex;justify-content:flex-start;word-break:break-word}.row-data-sticky{background:#fff;padding:20px 15px}.header{padding:0 5px}.header,.header-sticky{align-items:center;display:flex;justify-content:flex-start;word-break:break-word}.header-sticky{background:#203882!important;padding:10px 15px}.sticky-container::-webkit-scrollbar{height:8px}.sticky-container{overflow:auto;scrollbar-width:8px}.last-sticky{border-right:1px solid #9a9a9a;box-shadow:1px 1px 3px -1px #888}img{width:75px}.table-button{border:none;box-shadow:1px 1px 1px 1px #dadada;color:#fff!important;height:2rem;padding:0 20px;width:100%}.click-item{cursor:pointer;padding:5px 10px}.click-item:hover{background:#d2d2d2;border-radius:5px}.curs-pointer{cursor:pointer}.row-active{background:#d2d2d2}:host::ng-deep .mat-checkbox-inner-container{height:20px;width:20px}.radio-btn{width:0}.more-icon{cursor:pointer;font-size:1.5rem}.paginator{display:flex;float:right;justify-content:space-around}.pagenumber{align-items:center;cursor:pointer;display:flex;justify-content:center;padding:10px;width:2.5%}.sel-ind{background:#add8e6}.table-row{display:flex}.table-extras{background:#fff;border-bottom:1px solid #d2d2d2;position:-webkit-sticky;position:sticky;top:0;z-index:11}input{background:#eaeaea!important;border:none;height:70%;margin:5px;padding:5px;width:100%}.row-data input{background:#f2f5f7!important}.no-data{align-items:center;border-top:1px solid #d2d2d2;display:flex;justify-content:center;padding:10px;word-break:break-word}.search-input{float:left;margin:10px}.vert-filter{margin-left:1%;width:14%}.text-cls{-moz-user-select:text;-ms-user-select:text;-webkit-user-select:text;user-select:text}.multi-line{display:flex;flex-direction:row}.header-width{width:65px}.data-width{width:100px}.row-margin{margin-top:10px}.colon-width{width:10px}.profile-align{display:flex;flex-direction:column;justify-content:center;margin-left:20px;text-align:left}.multi-line-text-align{align-items:center;display:flex}.edit-input{border:1px solid}.show-menu{position:relative}.download{cursor:pointer;float:left;margin:10px 0 0 10px}"]}]}],Ce.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:e.ChangeDetectorRef}]},Ce.propDecorators={slctAllBox:[{type:e.ViewChild,args:["slctAllBox",{static:!1}]}],filterCont:[{type:e.ViewChild,args:["filterCont",{static:!1}]}],muTableCont:[{type:e.ViewChild,args:["muTableCont",{static:!1}]}],menuTrigger:[{type:e.ViewChild,args:["menuTrigger",{static:!0}]}],filterCompChildren:[{type:e.ViewChildren,args:[Gt]}],tableConfig:[{type:e.Input}],loadMoreData:[{type:e.Output}],onRowSelect:[{type:e.Output}],onSelectAll:[{type:e.Output}],onDetailClick:[{type:e.Output}],onCellClick:[{type:e.Output}],onRowEdit:[{type:e.Output}],onDownload:[{type:e.Output}],selectedFilter:[{type:e.Output}]};var xe={NORMAL:"NORMAL",SHOW_DOT:"SHOW_DOT"},Te={NUMBER:"NUMBER",BACK:"BACK",DONE:"DONE",DOT:"DOT"};var Ae=function(){function t(t){this.rc=t,this.keyPress=new e.EventEmitter,this.KEYBOARD_MODE=xe}return t.prototype.ngOnInit=function(){this.mode||(this.mode=xe.NORMAL)},t.prototype.keyClick=function(t){var e={key:t,keyType:Te.NUMBER};this.keyPress.emit(e)},t.prototype.onKeyBoardBack=function(){var t={key:null,keyType:Te.BACK};this.keyPress.emit(t)},t.prototype.onKeyBoardOk=function(){var t={key:null,keyType:Te.DONE};this.keyPress.emit(t)},t.prototype.onKeyBoardDot=function(){var t={key:".",keyType:Te.DOT};this.keyPress.emit(t)},t}();Ae.decorators=[{type:e.Component,args:[{selector:"keypad",template:'<div class="keypad txt-xxl-med-dark">\n  \n  <div class="first-row">\n    <div matRipple class="key key-one" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'1\')">\n      <span class="text-color-primary">1</span>\n    </div>\n    <div matRipple class="key key-two" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'2\')">\n      <span class="text-color-primary">2</span>\n    </div>\n    <div matRipple class="key key-three" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'3\')">\n      <span class="text-color-primary">3</span>\n    </div>\n\n    <div *ngIf="mode !== KEYBOARD_MODE.NORMAL"  class="key key-empty">\n      \n    </div>\n  </div>\n\n  <div class="second-row">\n    <div matRipple class="key key-four" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'4\')">\n      <span class="text-color-primary">4</span>\n    </div>\n    <div matRipple class="key key-five" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'5\')">\n      <span class="text-color-primary">5</span>\n    </div>\n    <div matRipple class="key key-six" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'6\')">\n      <span class="text-color-primary" >6</span>\n    </div>\n    <div *ngIf="mode !== KEYBOARD_MODE.NORMAL"  class="key key-empty">\n      \n    </div>\n  </div>\n\n  <div class="third-row">\n    <div matRipple class="key key-seven" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'7\')">\n      <span class="text-color-primary">7</span>\n    </div>\n    <div matRipple class="key key-eight" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'8\')">\n      <span class="text-color-primary">8</span>\n    </div>\n    <div matRipple class="key key-nine" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'9\')">\n      <span class="text-color-primary">9</span>\n    </div>\n    <div *ngIf="mode !== KEYBOARD_MODE.NORMAL"  class="key key-empty">\n      \n    </div>\n  </div>\n\n  <div class="fourth-row">\n    <div matRipple class="key key-back" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="onKeyBoardBack()">\n      <span class="text-color-primary">\n        <i class="fa fa-arrow-left fa-lg" aria-hidden="true"></i>\n      </span>\n    </div>\n    <div matRipple class="key key-zero" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-dot\'"\n      (click)="keyClick(\'0\')">\n      <span class="text-color-primary">0</span>\n    </div>\n    <div *ngIf="mode !== KEYBOARD_MODE.NORMAL" \n      matRipple class="key key-dot" \n      [ngClass]="\'key-dot\'"\n      (click)="onKeyBoardDot()">\n      <span class="text-color-primary">.</span>\n    </div>\n    <div matRipple class="key" \n      [ngClass]="mode === KEYBOARD_MODE.NORMAL ? \'key-normal\' : \'key-ok\'"\n      (click)="onKeyBoardOk()">\n      <span class="text-color-primary">\n        <i class="fa fa-check fa-lg" aria-hidden="true"></i>\n      </span>\n    </div>\n  </div>\n\n</div>',styles:[".keypad{flex-direction:column;width:100vw}.zero-row{display:flex;flex-direction:row;justify-content:flex-end;padding:0 8vw 2vh}.first-row,.fourth-row,.second-row,.third-row,.zero-row{display:flex;flex-direction:row;justify-content:center;width:100vw}.typed-text-view{height:100%;width:100%}.key{padding:1vh 0}.key span{border-radius:50%;height:12vw;width:12vw}.flex-center,.key,.keypad,.key span,.typed-text-view{align-items:center;display:flex;justify-content:center}.key-normal{width:33.33vw!important}.key-dot{width:28vw}.key-empty,.key-ok{width:16vw!important}"]}]}],Ae.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]},Ae.propDecorators={mode:[{type:e.Input,args:["mode"]}],keyPress:[{type:e.Output,args:["keyPress"]}]};var De=function(){function t(t){this.rc=t}return t.prototype.ngOnInit=function(){},t.prototype.onHomeClick=function(){},t}();De.decorators=[{type:e.Component,args:[{selector:"page-not-found",template:'<div class="nc-root-div page-not-found-comp"\n  [ngClass.xl]="[\'web-root-div\']"\n  [ngClass.lg]="[\'web-root-div\']"\n  [ngClass.md]="[\'web-root-div\']"\n  [ngClass.sm]="[\'web-root-div\']">\n  \n  <div class="nc-content-div bg-pnf"\n    [ngClass.xl]="[\'web-content-div\']"\n    [ngClass.lg]="[\'web-content-div\']"\n    [ngClass.md]="[\'web-content-div\']"\n    [ngClass.sm]="[\'web-content-div\']">\n\n    <div class="web-img-cont">\n      <img class="pnf-img" src=\'images/pnf.png\'>\n    </div>\n\n    <div class="img-cont">\n      <img class="mob-pnf-img" src=\'images/pnf-mobile.png\'>\n    </div>\n\n    <footer class="footer">\n      <button class="button bg-white txt-lg-reg-dark text-color-primary" (click)="onHomeClick()">\n        {{ \'page_not_fond_vist_home\' | translate }}\n      </button>\n    </footer>\n\n  </div>\n  \n</div>\n',styles:[".nc-content-div{height:100vh}.web-img-cont{display:none}.img-cont{height:100%}.footer{bottom:30vh;display:flex;justify-content:center;position:absolute;width:100vw}.button{height:3rem;width:92vw}.mob-pnf-img{height:100vh;width:100vw}.web-content-div{height:100%;max-height:100%!important}.web-content-div .web-img-cont{display:block;height:100%;overflow:hidden;width:100%}.web-content-div .pnf-img{height:100%;width:100%}.web-content-div .footer{top:84%;width:100%}.web-content-div .img-cont{display:none}.web-content-div .button{width:16%}"]}]}],De.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]};var ke=function(t){function n(n,r,i){var s=t.call(this,n,r,i)||this;return s.element=n,s.renderer=r,s.ngZone=i,s.maskedValue=new e.EventEmitter,s.updatedString="",window.mask=s,s}return _.__extends(n,t),n.prototype.ngOnInit=function(){this.maxLength=this.maskingParams.maxLength},n.prototype.ngAfterViewInit=function(){var e=this.element.nativeElement.cloneNode(!0),n=this.element.nativeElement.parentElement;if(this.renderer.appendChild(n,e),this.element.nativeElement.hidden=!0,t.prototype.ngAfterViewInit.call(this),this.element.nativeElement.value){var r=this.element.nativeElement.value,i=this.maskingParams,s=i.startSkipCount||0,o=s+(i.endSkipCount||0);this.value(r,s,o),this.updatedString=r}this.renderer.listen(this.element.nativeElement.nextSibling,"keyup",this.handelEvent.bind(this))},n.prototype.value=function(t,e,n){return t=t.substring(0,e)+t.substring(e,n+1).replace(/\w+/g,this.maskingParams.maskWith||"*")+t.substring(n+1)},n.prototype.handelEvent=function(e){t.prototype.handleEvent.call(this,e);var n=this.maskingParams.startSkipCount||0,r=this.maskingParams.endSkipCount||0,i=e.srcElement.value,s=n+r;length=i.length;var o="Backspace"===e.key;(o||this.updatedString.length!==this.maskingParams.maxLength)&&(o?this.updatedString=this.updatedString.substr(0,length):(length<=n&&(this.updatedString=i.substr(0,n)),length>n&&length<=s&&(this.updatedString=this.updatedString.substr(0)+i.substr(this.updatedString.length,length)),length>s&&length<=this.maskingParams.maxLength&&(this.updatedString=this.updatedString.substr(0)+i.substr(length-1)),e.srcElement.value=this.value(i,n,s),this.element.nativeElement.value=this.updatedString,this.maskedValue.emit(this.updatedString)))},n}(Qt);ke.decorators=[{type:e.Directive,args:[{selector:"[maskingValue]"}]}],ke.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.NgZone}]},ke.propDecorators={maskingParams:[{type:e.Input,args:["maskingValue"]}],maskedValue:[{type:e.Output}]};var Re=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Vt]}},t}();Re.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule,n.FormsModule,n.ReactiveFormsModule,i.FlexLayoutModule,Kt,c.MatFormFieldModule,a.MatDatepickerModule,l.MatInputModule,u.MatSelectModule,p.MatAutocompleteModule,o.MatCheckboxModule,h.MatProgressBarModule,d.MatRadioModule,m.MatSliderModule,g.MatSlideToggleModule,f.MatButtonToggleModule,v.MatMenuModule,y.MatCardModule,s.MatRippleModule,b.MatDividerModule],declarations:[Ot,Lt,fe,ve,Mt,ye,yt,be,Gt,Pe,Ce,Ee,Ie,Se,De,ge,Jt,Qt,te,ee,se,ne,re,ie,ke,ae,ue,pe,Xt,de,me,Ae,he],entryComponents:[yt,Ae],exports:[Ot,Lt,fe,ve,Mt,ye,be,Gt,Pe,Ce,Ee,Ae,Se,De,ge,Jt,Qt,te,ee,se,ne,re,ie,ke,ae,ue,pe,Xt,de,he,me,r.CommonModule,n.FormsModule,n.ReactiveFormsModule,i.FlexLayoutModule,o.MatCheckboxModule,a.MatDatepickerModule,c.MatFormFieldModule,l.MatInputModule,u.MatSelectModule,p.MatAutocompleteModule,d.MatRadioModule,h.MatProgressBarModule,m.MatSliderModule,g.MatSlideToggleModule,f.MatButtonToggleModule,v.MatMenuModule,y.MatCardModule,b.MatDividerModule],providers:[zt,Vt]}]}];var Ne,Oe,Le,Me=["utf8","utf-8"],Be=function(){function t(t){if(Me.indexOf(t)<0&&void 0!==t&&null!=t)throw new RangeError("Invalid encoding type. Only utf-8 is supported")}return t.prototype.encode=function(t){if("string"!=typeof t)throw new TypeError("passed argument must be of tye string");for(var e=unescape(encodeURIComponent(t)),n=new Uint8Array(e.length),r=e.split(""),i=0;i<r.length;i++)n[i]=r[i].charCodeAt(0);return n},t.prototype.decode=function(t){if(void 0===t)return"";if(ArrayBuffer.isView(t)){for(var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return decodeURIComponent(escape(n.join("")))}throw new TypeError("passed argument must be an array buffer view")},t}(),Fe={name:"RSA-OAEP",hash:{name:"SHA-1"}},Ye=function(){function t(t,e,n,r){this.rc=t,this.ci=e,this.rsaPubKey=n,this.iv=r,t.setupLogger(this,"EncryptionBrowser"),this.symAlgo={name:"AES-CBC",length:256,iv:this.iv},Ne||this.extractShortCode(t,e.shortName),Oe||this.extractUniqueId(t,e.customData.jsVersion),Le||(Le=new Ve(t))}return t.prototype.init=function(){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(e){switch(e.label){case 0:return t=this,[4,crypto.subtle.generateKey(this.symAlgo,!0,["encrypt","decrypt"])];case 1:return t.syncKey=e.sent(),[2]}}))}))},t.prototype.encodeHeader=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,a,c,l,u;return _.__generator(this,(function(p){switch(p.label){case 0:return e=1e3*Date.now(),[4,this.encrypt(this.strToUnit8Ar(e.toString()))];case 1:return n=p.sent(),r=new Uint8Array(n),i=btoa(String.fromCharCode.apply(String,_.__spread(r))),[4,this.encryptSymKey()];case 2:return s=p.sent(),o=new Uint8Array(s),a=btoa(String.fromCharCode.apply(String,_.__spread(o))),[4,this.encrypt(this.strToUnit8Ar(JSON.stringify(t)))];case 3:return c=p.sent(),l=new Uint8Array(c),u=btoa(String.fromCharCode.apply(String,_.__spread(l))),[2,""+i+a+u]}}))}))},t.prototype.encryptSymKey=function(){return _.__awaiter(this,void 0,void 0,(function(){var t,e;return _.__generator(this,(function(n){switch(n.label){case 0:return[4,crypto.subtle.exportKey("raw",this.syncKey)];case 1:return t=n.sent(),[4,crypto.subtle.importKey("spki",this.rsaPubKey,Fe,!1,["encrypt"])];case 2:return e=n.sent(),[4,crypto.subtle.encrypt(Fe,e,t)];case 3:return[2,n.sent()]}}))}))},t.prototype.encrypt=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,crypto.subtle.encrypt(this.symAlgo,this.syncKey,t)];case 1:return[2,e.sent()]}}))}))},t.prototype.decrypt=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,crypto.subtle.decrypt(this.symAlgo,this.syncKey,t)];case 1:return[2,e.sent()]}}))}))},t.prototype.getArrayBuffer=function(t){return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)},t.prototype.encodeBody=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,a,c;return _.__generator(this,(function(l){switch(l.label){case 0:return e=this.stringifyWireObjects(t),r=-1,i=!1,e.length>P.Encoder.MIN_SIZE_TO_COMPRESS?[4,Le.deflate(e)]:[3,2];case 1:(s=l.sent()).length<e.length&&(n=s,i=!0),l.label=2;case 2:return n||(n=this.strToUnit8Ar(e)),a=Uint8Array.bind,[4,this.encrypt(n)];case 3:return o=new(a.apply(Uint8Array,[void 0,l.sent()])),c=new Uint8Array(o.byteLength+1),r=i?P.DataLeader.ENC_DEF_JSON:P.DataLeader.ENC_JSON,c.set([r]),c.set(o,1),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"encodeBody",{first:t[0].name,messages:t.length,json:e.length,wire:c.byteLength,encrypted:!0,compressed:i}),[2,c]}}))}))},t.prototype.stringifyWireObjects=function(t){return"["+t.map((function(t){return t.stringify()})).join(", ")+"]"},t.prototype.decodeBody=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,a,c,l,u,p,d,h,m,g,f;return _.__generator(this,(function(v){switch(v.label){case 0:return e=new Uint8Array(t,1),n=new Uint8Array(t,0,1),r=n[0],s=Uint8Array.bind,[4,this.decrypt(e)];case 1:if(i=new(s.apply(Uint8Array,[void 0,v.sent()])),l=!1,r!==P.DataLeader.BINARY)return[3,2];for(u="\n".charCodeAt(0),a=0;a<i.length&&i[a]!==u;a++);return p=String.fromCharCode.apply(String,_.__spread(i.slice(0,a))),d=P.WireObject.getWireObject(JSON.parse(p)),h=i.slice(a+1),d.data=h,o=[d],c=h.byteLength,[3,6];case 2:return(l=r===P.DataLeader.DEF_JSON||r===P.DataLeader.ENC_DEF_JSON)?[4,Le.inflate(i)]:[3,4];case 3:return g=v.sent(),[3,5];case 4:g=this.uint8ArToStr(i),v.label=5;case 5:for(m=g,f=JSON.parse(m),c=m.length,o=Array.isArray(f)?f:[m],a=0;a<o.length;a++)o[a]=P.WireObject.getWireObject(JSON.parse(o[a]));v.label=6;case 6:return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"decodeBody",{first:o[0].name,messages:o.length,wire:t.byteLength,message:c,encrypted:r===P.DataLeader.ENC_JSON||r===P.DataLeader.ENC_BINARY||r===P.DataLeader.ENC_DEF_JSON,compressed:r===P.DataLeader.BINARY?"binary":l}),[2,o]}}))}))},t.prototype.setNewKey=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n;return _.__generator(this,(function(r){switch(r.label){case 0:return e=this.binToUnit8Ar(atob(t)),n=this,[4,crypto.subtle.importKey("raw",e,this.symAlgo,!0,["encrypt","decrypt"])];case 1:return n.syncKey=r.sent(),[2]}}))}))},t.prototype.getSyncKeyB64=function(){return _.__awaiter(this,void 0,void 0,(function(){var t,e;return _.__generator(this,(function(n){switch(n.label){case 0:return[4,crypto.subtle.exportKey("raw",this.syncKey)];case 1:return t=n.sent(),e=new Uint8Array(t),[2,btoa(String.fromCharCode.apply(String,_.__spread(e)))]}}))}))},t.prototype.binToUnit8Ar=function(t){return Uint8Array.from(t,(function(t){return t.charCodeAt(0)}))},t.prototype.strToUnit8Ar=function(t){var e=window.TextEncoder;return e?new e("utf-8").encode(t):new Be("utf-8").encode(t)},t.prototype.uint8ArToStr=function(t){var e=window.TextDecoder;return e?new e("utf-8").decode(t):new Be("utf-8").decode(t)},t.prototype.extractShortCode=function(t,e){t.isAssert()&&t.assert(t.getName(this),e.length<=4),Ne=new Uint8Array(4);for(var n=0;n<e.length;n++){var r=e.charAt(n);t.isAssert()&&t.assert(t.getName(this),r.match(/[a-zA-Z0-9]/)),Ne[n]=r.charCodeAt(0)-40}},t.prototype.extractUniqueId=function(t,e){var n=e.split(".").map((function(t){return Number(t)}));if(n.length>1)t.isAssert()&&t.assert(t.getName(this),3===n.length&&!isNaN(n[0])&&!isNaN(n[1])&&!isNaN(n[2]));else{var r=Number(n[0]);t.isAssert()&&t.assert(t.getName(this),!isNaN(r)&&r<=999999),n[2]=r%100,r=Math.floor(r/100),n[1]=r%100,n[0]=Math.floor(r/100)}Oe=Uint8Array.from(n)},t}();var Ue=function t(e){var n=this;this.apiName=e,this.requestId=t.nextRequestId++,this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))};Ue.nextRequestId=1;var Ve=function(){function t(t){this.rc=t,this.reqMap={},(this.worker=new Worker("js/pwc.js")).onmessage=this.onMessage.bind(this)}return t.prototype.inflate=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendMessage("inflate",t,{to:"string"})];case 1:return[2,e.sent()]}}))}))},t.prototype.deflate=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendMessage("deflate",t)];case 1:return[2,e.sent()]}}))}))},t.prototype.sendMessage=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=new Ue(t);return this.reqMap[r.requestId]=r,this.worker.postMessage(_.__spread([r.requestId,t],e)),r.promise},t.prototype.onMessage=function(t){var e=_.__read(t.data),n=e[0],r=e.slice(1),i=this.reqMap[n];this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),i),delete this.reqMap[n],i.resolve.apply(i,_.__spread(r))},t}();var qe=function(){function t(t,e,n){this.rc=t,this.ci=e,this.router=n,this.socketCreateTs=0,this.lastMessageTs=0,this.sending=!1,this.configured=!1,this.connExpired=!1,this.lastRequestTs=0,this.ephemeralEvents=[],t.setupLogger(this,"WsBrowser"),this.timerPing=t.timer.register("ws-ping",this.cbTimerPing.bind(this)),this.lastRequestTimer=t.timer.register("ws-request",this.cbRequestTimer.bind(this)),t.isDebug()&&t.debug(t.getName(this),"constructor")}return t.prototype.uiArToB64=function(t){return btoa(String.fromCharCode.apply(String,_.__spread(t)))},t.prototype.sendEphemeralEvent=function(t){if(this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),this.ci.provider),this.ephemeralEvents.length>=20)for(this.rc.isWarn()&&this.rc.warn(this.rc.getName(this),"Too many ephemeralEvents. Sizing to 20");this.ephemeralEvents.length>=20;)this.ephemeralEvents.shift();this.ephemeralEvents.push(t)},t.prototype.send=function(t,e){var n=this.ws;if(this.sending||n&&(n.readyState!==WebSocket.OPEN||!this.configured||n.bufferedAmount))return t.isStatus()&&t.status(t.getName(this),"Websocket is not ready right now",{anotherSendInProgress:this.sending,configured:this.configured,readyState:this.ws?this.ws.readyState:"to be created",bufferedAmount:this.ws.bufferedAmount}),P.XmnError._NotReady;var r=Array.isArray(e)?e:[e];return this.ephemeralEvents.length&&(r.push.apply(r,_.__spread(this.ephemeralEvents)),this.ephemeralEvents.length=0),this.sendInternal(t,r),null},t.prototype.requestClose=function(){var t=this.ws;t&&t.readyState!==WebSocket.CLOSED&&t.close()},t.prototype.sendInternal=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,o;return _.__generator(this,(function(a){switch(a.label){case 0:return this.sending=!0,this.ws?[3,6]:(this.pendingMessage=e,this.encProvider?[3,2]:(this.encProvider=new Ye(t,this.ci,this.router.getPubKey(),this.router.getEncIV()),[4,this.encProvider.init()]));case 1:a.sent(),a.label=2;case 2:return this.wsProviderConfig?[3,4]:(r=this,i={pingSecs:29,maxOpenSecs:this.router.getMaxOpenSecs(),toleranceSecs:5},[4,this.encProvider.getSyncKeyB64()]);case 3:r.wsProviderConfig=(i.key=a.sent(),i.custom=this.ci.customData,i),a.label=4;case 4:return s=(443===this.ci.port||this.router.runAlwaysAsSecure(this.rc)?"wss":"ws")+"://"+this.ci.host+":"+this.ci.port+"/"+P.HANDSHAKE+"/"+this.ci.protocolVersion+"/"+this.ci.shortName+"/",[4,this.encProvider.encodeHeader(this.wsProviderConfig)];case 5:return o=a.sent(),n=encodeURIComponent(o),this.ws=new WebSocket(s+n),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Opened socket with url",s+n),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onclose=this.onClose.bind(this),this.ws.onerror=this.onError.bind(this),this.socketCreateTs=Date.now(),[3,8];case 6:return this.isConnWithinPing(Date.now())?[4,this.encProvider.encodeBody(e)]:(t.isDebug()&&t.debug(t.getName(this),"Connection expired..requesting Socket close."),this.sending=!1,this.connExpired=!0,this.requestClose(),[2]);case 7:n=a.sent(),this.ws.send(n),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Sent message",{msgLen:n.length,messages:e.length,firstMsg:e[0].name}),a.label=8;case 8:return e.some((function(t){return t.type===P.WIRE_TYPE.REQUEST}))&&this.router.canStrtLastReqTimer(this.rc)&&this.setLastReqTimer(t),this.setupTimer(t),this.sending=!1,[2]}}))}))},t.prototype.onOpen=function(){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"onOpen() in",Date.now()-this.socketCreateTs,"ms"),this.router.providerReady()},t.prototype.onMessage=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n;return _.__generator(this,(function(r){switch(r.label){case 0:return e=t.data,[4,this.encProvider.decodeBody(e)];case 1:return n=r.sent(),[4,this.router.providerMessage(this.rc,n)];case 2:return r.sent(),[2]}}))}))},t.prototype.onError=function(t){this.rc.isWarn()&&this.rc.warn(this.rc.getName(this),"Websocket onError()",t),this.ci.provider&&(this.cleanup(),this.router.providerFailed())},t.prototype.onClose=function(){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Websocket onClose()"),this.ci.provider&&(this.cleanup(),this.router.providerFailed(this.connExpired?P.XmnError._ConnectionExpired:null))},t.prototype.processSysEvent=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n,r,i;return _.__generator(this,(function(s){switch(s.label){case 0:return e.name!==P.SYS_EVENT.WS_PROVIDER_CONFIG?[3,5]:(n=e.data,r=n.pingSecs,this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),r&&Number.isInteger(r),r),Object.assign(this.wsProviderConfig,n),n.key?[4,this.encProvider.setNewKey(n.key)]:[3,2]);case 1:s.sent(),s.label=2;case 2:return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"First message in",Date.now()-this.socketCreateTs,"ms"),this.configured=!0,this.pendingMessage?(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Sending Pending Message..."),[4,this.send(this.rc,this.pendingMessage)]):[3,4];case 3:s.sent(),this.pendingMessage=null,s.label=4;case 4:return[3,6];case 5:e.name===P.SYS_EVENT.ERROR&&(i=e.data,t.isWarn()&&t.warn(t.getName(this),"processSysEvent",i),this.ci.provider&&(this.cleanup(),this.router.providerFailed(i.code))),s.label=6;case 6:return[2]}}))}))},t.prototype.isConnWithinPing=function(t){var e=this.wsProviderConfig,n=this.lastMessageTs+1e3*(e.pingSecs+e.toleranceSecs),r=this.socketCreateTs+1e3*(e.maxOpenSecs-e.toleranceSecs);return t<n&&t<r},t.prototype.setLastReqTimer=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e;return _.__generator(this,(function(n){switch(n.label){case 0:return this.lastRequestTs=Date.now(),this.lastRequestTimer.tickAfter(6e4,!0),this.sessionTimedoutSecs?[3,2]:(e=this,[4,this.router.getSessionTimeOutSecs(t)]);case 1:e.sessionTimedoutSecs=n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.setupTimer=function(t){this.lastMessageTs=Date.now(),this.timerPing.tickAfter(1e3*this.wsProviderConfig.pingSecs,!0)},t.prototype.cbRequestTimer=function(){if(!this.ci.provider)return 0;var t=Date.now()-this.lastRequestTs;return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"cbRequestTimer "+t+", "+this.sessionTimedoutSecs),t>=1e3*this.sessionTimedoutSecs?(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Session timed out. Closing session"),this.router.sessionTimedOut(this.rc),this.requestClose(),6e4):t},t.prototype.cbTimerPing=function(){if(!this.ci.provider)return 0;var t=Date.now(),e=this.lastMessageTs+1e3*this.wsProviderConfig.pingSecs-t;return e<=0?(this.send(this.rc,[new P.WireSysEvent(P.SYS_EVENT.PING,{})]),1e3*this.wsProviderConfig.pingSecs):e},t.prototype.cleanup=function(){if(this.ci.provider)try{this.timerPing.remove(),this.lastRequestTimer.remove(),this.encProvider=null,this.ci.provider=null,this.ws&&this.ws.close(),this.ws=null}catch(t){}},t}();var je=3e4,He=1e3;var Ge=function(){function e(t,e,n,r,i){this.rc=t,this.ongoingRequests=[],this.eventSubMap={},this.lastEventTs=0,this.lastEventSendTs=0;var s=document.createElement("a");s.href=e,this.ci=n,this.ci.protocol=P.Protocol.WEBSOCKET,this.ci.host=s.hostname,this.ci.port=Number(s.port)||("https:"===s.protocol?443:80);var o=Uint8Array;this.pubKey=o.from(atob(r),(function(t){return t.charCodeAt(0)})),this.encIV=i,this.timerReqResend=t.timer.register("router-resend",this.cbTimerReqResend.bind(this)),this.timerReqTimeout=t.timer.register("router-req-timeout",this.cbTimerReqTimeout.bind(this)),this.timerEventTimeout=t.timer.register("router-event-timeout",this.cbTimerEventTimeout.bind(this)),t.isDebug()&&t.debug(t.getName(this),"constructor")}return e.prototype.getPubKey=function(){return this.pubKey},e.prototype.getEncIV=function(){return this.encIV},e.prototype.sendRequest=function(t,e,n,r){return _.__awaiter(this,void 0,void 0,(function(){var i,s=this;return _.__generator(this,(function(o){return i=r||je,[2,new Promise((function(r,o){var a=new P.WireRequest(e,n,0,r,o);s.ongoingRequests.push(a),s.ci.provider||s.prepareConnection(t),s.ci.provider.send(t,[a])?(t.isStatus()&&t.status(t.getName(s),"send to be retried",a),s.timerReqResend.tickAfter(He)):(a._isSent=!0,t.isDebug()&&t.debug(t.getName(s),"sent request",a),s.timerReqTimeout.tickAfter(i))}))]}))}))},e.prototype.sendPersistentEvent=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i;return _.__generator(this,(function(s){switch(s.label){case 0:return this.ci.provider||this.prepareConnection(t),r=this.ci.customData,this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"sendPersistentEvent",e,"customData",r&&r.clientId),this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),r&&r.clientId,"You cannot send events without clientId"),[4,this.initEvents()];case 1:return s.sent()?(i=new P.WireEvent(e,n),[4,new We(i).save(this.db)]):[3,4];case 2:return s.sent(),[4,this.trySendingEvents(t)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))},e.prototype.sendEphemeralEvent=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i;return _.__generator(this,(function(s){return this.ci.provider||this.prepareConnection(t),r=this.ci.customData,this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"sendEphemeralEvent",e,"customData",r&&r.clientId),this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),r&&r.clientId,"You cannot send events without clientId"),i=new P.WireEphEvent(e,n),this.ci.provider.sendEphemeralEvent(i),[2]}))}))},e.prototype.subscribeEvent=function(t,e){this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),t&&e),this.eventSubMap[t]=e},e.prototype.prepareConnection=function(t){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"prepareConnection",!!this.ci.provider),this.ci.customData=this.getCustomData(t),this.ci.customData.networkType=this.getNetworkType(t),this.ci.customData.networkType=this.getLocation(t),this.ci.provider||(this.ci.provider=new qe(t,this.ci,this))},e.prototype.initEvents=function(){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(e){switch(e.label){case 0:return t=this.ci.customData,this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"initEvents",!!this.db),!this.db&&t&&t.clientId?(this.db=new Ke(this.ci.customData.clientId),[4,We.removeOldByTs(this.rc,this.db,Date.now()-6048e5)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2,!!this.db]}}))}))},e.prototype.trySendingEvents=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return _.__generator(this,(function(s){switch(s.label){case 0:return!this.ci.customData.networkType||this.lastEventTs?(t.isDebug()&&t.debug(t.getName(this),"Skipping sending event as not ready",{networkType:this.ci.customData.networkType,lastEventTs:this.lastEventTs}),[2]):(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"trySendingEvents",!!this.db),[4,We.getOldEvents(t,this.db)]);case 1:if(!(e=s.sent()).length)return[2];if(this.lastEventTs)return[2];n=0,s.label=2;case 2:return n<e.length?(this.ci.provider||this.prepareConnection(t),r=e[n],i=new P.WireEvent(r.name,JSON.parse(r.data),r.ts),this.ci.provider.send(t,[i])?[3,5]:(t.isDebug()&&t.debug(t.getName(this),"sent event",i),this.lastEventTs=i.ts/1e3,this.lastEventSendTs=Date.now(),this.timerEventTimeout.tickAfter(je,!0),[4,P.Mubble.uPromise.delayedPromise(1e3)])):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}}))}))},e.prototype.providerReady=function(){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(e){switch(e.label){case 0:return this.cbTimerReqResend(),(t=this.ci.customData)&&t.clientId?[4,this.initEvents()]:[3,2];case 1:e.sent()&&this.trySendingEvents(this.rc),e.label=2;case 2:return[2]}}))}))},e.prototype.providerFailed=function(t){for(;this.ongoingRequests.length;){this.ongoingRequests[0];this.finishRequest(this.rc,0,t||P.XmnError.ConnectionFailed,null)}this.ongoingRequests=[],this.lastEventTs=0,this.lastEventSendTs=0},e.prototype.providerMessage=function(e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i,s,o,a,c;return _.__generator(this,(function(l){switch(l.label){case 0:r=0,l.label=1;case 1:if(!(r<n.length))return[3,17];switch(i=n[r],e.isDebug()&&e.debug(e.getName(this),"providerMessage@"+r,i),i.type){case P.WIRE_TYPE.REQUEST:return[3,2];case P.WIRE_TYPE.EPH_EVENT:return[3,3];case P.WIRE_TYPE.EVENT_RESP:return[3,7];case P.WIRE_TYPE.REQ_RESP:return[3,11];case P.WIRE_TYPE.SYS_EVENT:return[3,13]}return[3,15];case 2:return this.rc.isError()&&this.rc.error(this.rc.getName(this),"Not implemented",i),[3,16];case 3:return(s=this.eventSubMap[i.name])?[4,s(e,i.name,i.data)]:[3,5];case 4:return l.sent(),[3,6];case 5:t.EventSystem.broadcast(e,i.name,i.data),l.label=6;case 6:return[3,16];case 7:return o=i,e.isAssert()&&e.assert(e.getName(this),o.ts/1e3),[4,We.removeOldByTs(e,this.db,o.ts/1e3)];case 8:return l.sent(),this.lastEventTs!==o.ts/1e3?[3,10]:(this.lastEventTs=0,this.lastEventSendTs=0,this.timerEventTimeout.remove(),[4,this.trySendingEvents(e)]);case 9:l.sent(),l.label=10;case 10:return[3,16];case 11:return a=i,-1===(c=M.default(this.ongoingRequests,{ts:a.ts}))?(this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Got response for request that is not in progress... timed-out?",a.name,"sent at",new Date(a.ts/1e3)),[2]):[4,this.finishRequest(this.rc,c,a.errorCode,a.errorMessage,a.data)];case 12:return l.sent(),[3,16];case 13:return[4,this.processSysEvent(this.rc,i)];case 14:return l.sent(),[3,16];case 15:this.rc.isError()&&this.rc.error(this.rc.getName(this),"Unknown message",i),l.label=16;case 16:return r++,[3,1];case 17:return[2]}}))}))},e.prototype.requestClose=function(){this.ci.provider.requestClose()},e.prototype.processSysEvent=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n;return _.__generator(this,(function(r){switch(r.label){case 0:return e.name!==P.SYS_EVENT.WS_PROVIDER_CONFIG?[3,2]:(n=e.data,[4,this.updateCustomData(t,n.custom)]);case 1:r.sent(),this.prepareConnection(t),r.label=2;case 2:return[4,this.ci.provider.processSysEvent(this.rc,e)];case 3:return r.sent(),[2]}}))}))},e.prototype.cbTimerReqResend=function(){var t=this.ongoingRequests.find((function(t){return!t._isSent}));if(!t||!this.ci.provider)return 0;if(this.ci.provider.send(this.rc,t)){if(!(Date.now()-t.ts/1e3>1e4))return He;this.finishRequest(this.rc,this.ongoingRequests.indexOf(t),P.XmnError.SendTimedOut,null)}else t._isSent=!0,this.timerReqTimeout.tickAfter(je);return this.ongoingRequests.find((function(t){return!t._isSent}))?He:0},e.prototype.cbTimerReqTimeout=function(){for(var t=Date.now(),e=Number.MAX_SAFE_INTEGER,n=0;n<this.ongoingRequests.length;n++){var r=this.ongoingRequests[n],i=r.ts/1e3+je;r._isSent&&(t>=i?this.finishRequest(this.rc,n--,P.XmnError.RequestTimedOut,null):e>i&&(e=i))}return e===Number.MAX_SAFE_INTEGER?0:e-t},e.prototype.cbTimerEventTimeout=function(){if(!this.lastEventSendTs)return 0;var t=this.lastEventSendTs+je-Date.now();return t>0?t:(this.lastEventTs=0,this.lastEventSendTs=0,this.trySendingEvents(this.rc),je)},e.prototype.finishRequest=function(t,e,n,r,i){var s=this.ongoingRequests[e],o=Date.now();this.ongoingRequests.splice(e,1),s.resolve?(n?(t.isStatus()&&t.status(t.getName(this),"Request failed with code",n,s.name,"created at",new Date(s.ts/1e3),"timeTaken",o-s.ts/1e3,"ms"),s.reject(new P.Mubble.uError(n,r||""))):(t.isStatus()&&t.status(t.getName(this),"Request succeeded",s.name,"created at",new Date(s.ts/1e3),"timeTaken",o-s.ts/1e3,"ms"),s.resolve(i)),s.reject=null,s.resolve=null):t.isStatus()&&t.status(t.getName(this),"Trying to finish already finished request",n,s.name,"created at",new Date(s.ts/1e3),"timeTaken",o-s.ts/1e3,"ms")},e}();var We=function(){function t(t){t&&(this.ts=t.ts/1e3,this.name=t.name,this.data=JSON.stringify(t.data))}return t.prototype.save=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e=this;return _.__generator(this,(function(n){switch(n.label){case 0:return[4,t.transaction("rw",t.events,(function(){return _.__awaiter(e,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,t.events.put(this)];case 1:return e.sent(),[2]}}))}))}))];case 1:return n.sent(),[2]}}))}))},t.getOldEvents=function(e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i;return _.__generator(this,(function(s){switch(s.label){case 0:return[4,n.events.orderBy("ts").limit(5).toArray()];case 1:return r=s.sent(),i=r.map((function(e){var n=new t;return n.ts=e.ts,n.name=e.name,n.data=e.data,n})),e.isDebug()&&e.debug(e.getName(this),"Retrieved events from db, count:",i.length),[2,i]}}))}))},t.removeOldByTs=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r=this;return _.__generator(this,(function(i){switch(i.label){case 0:return[4,e.transaction("rw",e.events,(function(){return _.__awaiter(r,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,e.events.where("ts").belowOrEqual(n).delete()];case 1:return t.sent(),[2]}}))}))}))];case 1:return i.sent(),t.isDebug()&&t.debug(t.getName(this),"Deleted events from db with ts belowOrEqual:",n),[2]}}))}))},t}();var Ke=function(t){function e(e){var n=t.call(this,"xmn-"+e)||this;return n.version(1).stores({events:"ts"}),n.events.mapToClass(We),n}return _.__extends(e,t),e}(L.default);var Xe="lastUser",$e="users",ze=function(){function t(t,e){this.rc=t,this.storage=e,this.users={}}return t.prototype.init=function(){return _.__awaiter(this,void 0,void 0,(function(){var t,e;return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getUserKeyValue(this.rc,$e)];case 1:return(t=n.sent())?(this.users=JSON.parse(t),[4,this.storage.getUserKeyValue(this.rc,Xe)]):[2];case 2:return e=n.sent(),this.lastClientId=Number(e),this.lastClientId?(this.deserialize(this.users[this.lastClientId]),[2,this]):[2]}}))}))},t.prototype.registerNewUser=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r;return _.__generator(this,(function(i){switch(i.label){case 0:return r={clientId:t,userLinkId:e,userName:n},this.users[t]=r,[4,this.storage.setUserKeyValue(this.rc,$e,JSON.stringify(this.users))];case 1:return i.sent(),this.lastClientId===t?[3,3]:(this.lastClientId=t,[4,this.storage.setUserKeyValue(this.rc,Xe,String(this.lastClientId))]);case 2:i.sent(),i.label=3;case 3:return this.deserialize(r),[2]}}))}))},t.prototype.setScreenVisited=function(t){this.screenVisitedStates||(this.screenVisitedStates={}),this.screenVisitedStates[t]||(this.screenVisitedStates[t]=!0,this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"visited screen",t),this.save(this.rc))},t.prototype.setWebProfilePicBase64=function(t,e){this._webProfilePicBase64=e,this.save(t)},t.prototype.logOutCurrentUser=function(){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(e){switch(e.label){case 0:return this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),this._sessionId||this._userLinkId,"Trying to logout a user who is not registered"),delete this.users[this._clientId],[4,this.storage.setUserKeyValue(this.rc,$e,JSON.stringify(this.users))];case 1:return e.sent(),Object.keys(this.users).length>0?(t=Number(Object.keys(this.users)[0]),[4,this.switchUserOnCurrRun(t)]):[3,3];case 2:return e.sent(),[3,5];case 3:return[4,this.storage.setUserKeyValue(this.rc,Xe,null)];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))},t.prototype.switchUserOnCurrRun=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return this.lastClientId=t,[4,this.storage.setUserKeyValue(this.rc,Xe,String(this.lastClientId))];case 1:return e.sent(),this.deserialize(this.users[this.lastClientId]),[2]}}))}))},t.prototype.getAllUserLinkIds=function(){var t,e,n=[];try{for(var r=_.__values(Object.keys(this.users)),i=r.next();!i.done;i=r.next()){var s=i.value;n.push(this.users[s].userLinkId)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getClientIdForUserLink=function(t){for(var e in this.users){if(this.users[e].userLinkId===t)return Number(e)}return 0},t.prototype.save=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return t.isAssert()&&t.assert(t.getName(this),this._clientId,"Came to save userKeyVal before clientId"),this._sessionId||this._userLinkId?(t.isDebug()&&t.debug(t.getName(this),"saving rc obj "+t),this.users[this._clientId]=this.serialize(),[4,this.storage.setUserKeyValue(this.rc,$e,JSON.stringify(this.users))]):(t.isStatus()&&t.status(t.getName(this),"not saving rc, as user session / userLinkId not present \n        "+JSON.stringify({sessionId:this._sessionId,userLinkId:this._userLinkId})),[2]);case 1:return e.sent(),this.lastClientId===this._clientId?[3,3]:(this.lastClientId=this._clientId,[4,this.storage.setUserKeyValue(this.rc,Xe,String(this.lastClientId))]);case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.getWebProfilePicBase64=function(t){return this.users[t].webProfilePicBase64},t.prototype.getAllClientIds=function(){return Object.keys(this.users).map(Number)},t.prototype.getUserInfo=function(t){return this.users[t]},Object.defineProperty(t.prototype,"clientId",{get:function(){return this._clientId},set:function(t){if(t!==this._clientId){if(this._clientId&&(this._sessionId||this._userLinkId))throw new P.Mubble.uError("INVALID_CLIENT_ID","Cannot change clientId once sessionId/userLinkId is set: "+JSON.stringify({new:t,existing:this._clientId,sessionId:this._sessionId,userLinkId:this._userLinkId}));this._clientId=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(t){t!==this._deviceId&&(this._deviceId=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(t){t!==this._sessionId&&(this._sessionId=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"obopayId",{get:function(){return this._obopayId},set:function(t){if(t!==this._obopayId){if(this._obopayId&&null===!t)throw new P.Mubble.uError("INVALID_OBOPAY_ID","Cannot set obopayId when it is already set: "+JSON.stringify({obopayId:t,existing:this._obopayId}));this._obopayId=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLinkId",{get:function(){return this._userLinkId},set:function(t){if(t!==this._userLinkId){if(this._userLinkId&&null===!t)throw new P.Mubble.uError("INVALID_USER_LINK_ID","Cannot set userLinkId when it is already set: "+JSON.stringify({userLinkId:t,existing:this._userLinkId}));this._userLinkId=t}},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{clientId:this._clientId,userLinkId:this._userLinkId,sessionId:this._sessionId,obopayId:this._obopayId,deviceId:this._deviceId,userName:this.userName,webProfilePicBase64:this._webProfilePicBase64,screenVisitedStates:this.screenVisitedStates}},t.prototype.deserialize=function(t){this._clientId=t.clientId,this._userLinkId=t.userLinkId,this._deviceId=t.deviceId,this._sessionId=t.sessionId,this._obopayId=t.obopayId,this.userName=t.userName,this._webProfilePicBase64=t.webProfilePicBase64,this.screenVisitedStates=t.screenVisitedStates},t.prototype.$dump=function(){var t,e,n=Object.getOwnPropertyNames(this);try{for(var r=_.__values(n),i=r.next();!i.done;i=r.next()){var s=i.value;console.info(s+"="+JSON.stringify(this[s]))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t}();var Je="autoStore",Ze=[String,Number,Boolean,Object],Qe=function(){function t(t,e){this.rc=t,this.storage=e}return t.autoStore=function(){return function(e,n){return Reflect.defineMetadata(Je,!0,e,n),{get:function(){var t=this["_"+n],e=this.rc;return e.isAssert()&&e.assert(e.getName(this),void 0!==t,"You are trying to fetch "+n+"="+t+" before init"),t},set:function(r){var i=Reflect.getMetadata("design:type",e,n),s=this.rc;s.isDebug()&&s.debug(s.getName(this),"autoStore.set: propertyKey: "+n+", value: "+r+", fieldType: "+i),s.isAssert()&&s.assert(s.getName(this),void 0!==r),s.isAssert()&&s.assert(s.getName(this),-1!==Ze.indexOf(i),"Not a valid propertyKey: "+n+", fieldType: "+i),s.isAssert()&&s.assert(s.getName(this),null===r?i===Object:r.constructor===i,"You are trying to set "+n+"="+r+" with invalid type "+typeof r);var o=i===Object?JSON.stringify(r):String(r);if(void 0===this["_"+n])return s.isDebug()&&s.debug(s.getName(this),"Remembering default "+n+"="+r),void(t.fieldMap[n]={type:i,strValue:o});var a=this["_$"+n],c=n;a!==o&&(this["_"+n]=r,this["_$"+n]=o,this.storage.setGlobalKeyValue(s,c,o),s&&s.isDebug&&s.isDebug()&&s.debug("GlobalKeyValue","Saved key "+c+"="+o))}}}},t.prototype.init=function(){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,a,c,l,u,p,d;return _.__generator(this,(function(h){switch(h.label){case 0:e=this.rc,this.extractFields(this,t.fieldMap),h.label=1;case 1:h.trys.push([1,6,7,8]),n=_.__values(Object.keys(t.fieldMap)),r=n.next(),h.label=2;case 2:return r.done?[3,5]:(i=r.value,s=t.fieldMap[i],[4,this.storage.getGlobalKeyValue(e,i)]);case 3:switch(o=h.sent(),a=s.strValue,c=o||a,l=void 0,s.type){case String:l=c||"";break;case Number:l=c?Number(c):0;break;case Boolean:l=!!c&&c===String(!0);break;case Object:l=c?JSON.parse(c):null}this["_"+i]=l,this["_$"+i]=s.type===Object?JSON.stringify(l):String(l),h.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return u=h.sent(),p={error:u},[3,8];case 7:try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(p)throw p.error}return[7];case 8:return[2,this]}}))}))},t.prototype.detectSaveChanges=function(){var e,n;try{for(var r=_.__values(Object.keys(t.fieldMap)),i=r.next();!i.done;i=r.next()){var s=i.value,o=t.fieldMap[s];o.type.name;o.type===Object&&(this[s]=this[s])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.extractFields=function(t,e){var n,r;if(null!==t){var i=Object.getOwnPropertyNames(t);try{for(var s=_.__values(i),o=s.next();!o.done;o=s.next()){var a=o.value;if(!e[a])try{Reflect.getMetadata(Je,t,a)&&(e[a]={type:Reflect.getMetadata("design:type",t,a)})}catch(t){console.info("GlobalKeyValue:extractFields()","failed for",a)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this.extractFields(Object.getPrototypeOf(t),e)}},t.prototype.$dump=function(){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,a,c,l,u;return _.__generator(this,(function(p){switch(p.label){case 0:p.trys.push([0,5,6,7]),e=_.__values(Object.keys(t.fieldMap)),n=e.next(),p.label=1;case 1:return n.done?[3,4]:(r=n.value,i=t.fieldMap[r],s=i.type.name,o=this[r],[4,this.storage.getGlobalKeyValue(this.rc,r)]);case 2:a=p.sent(),console.info({name:r,type:s,memory:o,store:a}),p.label=3;case 3:return n=e.next(),[3,1];case 4:return[3,7];case 5:return c=p.sent(),l={error:c},[3,7];case 6:try{n&&!n.done&&(u=e.return)&&u.call(e)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))}))},t}();Qe.fieldMap={},_.__decorate([Qe.autoStore(),_.__metadata("design:type",Object)],Qe.prototype,"syncSegments",void 0),_.__decorate([Qe.autoStore(),_.__metadata("design:type",String)],Qe.prototype,"jsVersion",void 0),_.__decorate([Qe.autoStore(),_.__metadata("design:type",Number)],Qe.prototype,"logLevel",void 0),_.__decorate([Qe.autoStore(),_.__metadata("design:type",String)],Qe.prototype,"deviceId",void 0),_.__decorate([Qe.autoStore(),_.__metadata("design:type",Object)],Qe.prototype,"envConfig",void 0);var tn={version:"version"},en="syncHashTable",nn=function(){function t(t,e,n){this.name=t,this.type=e,this.optional=n}return t.prototype.toString=function(){return this.name+"("+this.type+")"+(this.optional?": optional":"")},t}();L.default.debug=!0;var rn=function(e){function n(t,r,i){var s=e.call(this,"MasterDb")||this;s.syncHashModels={};var o=Object.keys(n.schemaKey).length,a=Object.keys(n.schemaField).length;return t.isAssert()&&t.assert(t.getName(s),o&&a&&o>=a,{modelsWithKeys:o,modelsWithFields:a}),t.isAssert()&&t.assert(t.getName(s),1===i[0].version),i[0].tableSchema[en]="model",s.verifySegmentVersion(t,r),s}return _.__extends(n,e),n.registerModelClass=function(t,e){this.classMap.set(e,t)},n.getModelName=function(t){return this.classMap.get(t)},n.registerSchema=function(t,e,n,r,i){var s=new nn(e,r,i),o=n?this.schemaKey:this.schemaField,a=o[t];a||(a=o[t]={}),a[s.name]=s},n.prototype.init=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,r,i,s,o,a,c,l,u,p;return _.__generator(this,(function(d){switch(d.label){case 0:return[4,this[en].toArray()];case 1:e=d.sent(),r=n.schemaKey,i=Object.keys(r),s=function(t){var n=e.find((function(e){return e.model===t}));o.syncHashModels[t]=n?n.hash:{ts:0}},o=this;try{for(a=_.__values(i),c=a.next();!c.done;c=a.next())l=c.value,s(l)}catch(t){u={error:t}}finally{try{c&&!c.done&&(p=a.return)&&p.call(a)}finally{if(u)throw u.error}}return t.isDebug()&&t.debug(t.getName(this),"restored syncHashModels",this.syncHashModels),[2]}}))}))},n.prototype.onRouterAvailable=function(t){t.router.subscribeEvent(P.MASTER_UPDATE_EVENT,this.onMasterUpdate.bind(this))},n.prototype.getSyncRequest=function(t){return t.isAssert()&&t.assert(t.getName(this),Object.keys(this.syncHashModels).length),{hash:this.syncHashModels,segments:t.globalKeyVal.syncSegments}},n.prototype.getTableForClass=function(t,e){var r=n.getModelName(e);return t.isAssert()&&t.assert(t.getName(this),r,"unknown class object",e),this.getTable(t,r)},n.prototype.verifySegmentVersion=function(t,e){var n=t.globalKeyVal.syncSegments;n||(n={}),n[tn.version]||(n[tn.version]=[[""]]);var r=_.__read(n[tn.version],1),i=_.__read(r[0],1)[0];i!==e?(t.isDebug()&&t.debug(t.getName(this),"version changed",{last:i,current:e}),n[tn.version]=[[e]],t.globalKeyVal.syncSegments=n):t.isDebug()&&t.debug(t.getName(this),"Versions are same",{last:i,current:e})},n.prototype.buildSchema=function(t){var e,r,i=n.schemaKey;try{for(var s=_.__values(Object.keys(i)),o=s.next();!o.done;o=s.next()){var a=o.value,c=Object.keys(i[a]),l=1===c.length?c[0]:"["+c.join("+")+"]";t[a+"Table"]=l}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},n.prototype.onMasterUpdate=function(e,n,r){return _.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,c,l,u,p,d,h;return _.__generator(this,(function(m){switch(m.label){case 0:m.trys.push([0,11,,12]),n=r,e.isDebug()&&e.debug(e.getName(this),"onMasterUpdate",JSON.stringify(n)),i=!1,m.label=1;case 1:m.trys.push([1,6,7,8]),s=_.__values(Object.keys(n)),o=s.next(),m.label=2;case 2:return o.done?[3,5]:(a=o.value,n.hasOwnProperty(a)?(c=n[a],[4,this.applyMasterData(e,a,c)]):[3,4]);case 3:m.sent()&&(i=!0),m.label=4;case 4:return o=s.next(),[3,2];case 5:return[3,8];case 6:return l=m.sent(),d={error:l},[3,8];case 7:try{o&&!o.done&&(h=s.return)&&h.call(s)}finally{if(d)throw d.error}return[7];case 8:return i?[4,this.afterMasterUpdate(e)]:[3,10];case 9:m.sent(),m.label=10;case 10:return[3,12];case 11:throw u=m.sent(),p={errorMsg:u.message},t.EventSystem.broadcast(e,"client-error",p),new Error(u);case 12:return[2]}}))}))},n.prototype.applyMasterData=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i=this;return _.__generator(this,(function(s){switch(s.label){case 0:return n.purge?[4,this.clear(t,e)]:[3,2];case 1:return s.sent(),t.isDebug()&&t.debug(t.getName(this),e,"purged"),[3,4];case 2:return n.del&&n.del.length?(t.isDebug()&&t.debug(t.getName(this),e,"going to delete",n.del.length),[4,this.bulkDelete(t,e,n.del)]):[3,4];case 3:s.sent(),s.label=4;case 4:return n.mod&&n.mod.length?(t.isDebug()&&t.debug(t.getName(this),e,"going to upsert",n.mod.length),[4,this.bulkPut(t,e,n.mod)]):[3,6];case 5:s.sent(),s.label=6;case 6:return this.syncHashModels[e]=n.hash,r=this[en],[4,this.transaction("rw",r,(function(){return _.__awaiter(i,void 0,void 0,(function(){return _.__generator(this,(function(i){switch(i.label){case 0:return t.isDebug()&&t.debug(t.getName(this),e,"going to save hash",n.hash),[4,r.put({model:e,hash:n.hash})];case 1:return i.sent(),[2]}}))}))}))];case 7:return s.sent(),[2,!0]}}))}))},n.prototype.clear=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n,r=this;return _.__generator(this,(function(i){switch(i.label){case 0:return n=this.getTable(t,e),[4,this.transaction("rw",n,(function(){return _.__awaiter(r,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,n.clear()];case 1:return t.sent(),[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))},n.prototype.bulkPut=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i,s,o,a,c,l,u,p,d;return _.__generator(this,(function(h){switch(h.label){case 0:r=this.getTable(t,e),h.label=1;case 1:h.trys.push([1,8,9,10]),i=_.__values(n),s=i.next(),h.label=2;case 2:if(s.done)return[3,7];o=s.value,a=this.buildFullRec(t,e,o),t.isDebug()&&t.debug(t.getName(this),"going to put with debug ",a),h.label=3;case 3:return h.trys.push([3,5,,6]),[4,r.put(a)];case 4:return h.sent(),[3,6];case 5:throw c=h.sent(),l=JSON.stringify(n),console.log("bombed while writing",l.length,"bytes"),console.log(l),console.log("Dexie error stack",c.stack),c;case 6:return s=i.next(),[3,2];case 7:return[3,10];case 8:return u=h.sent(),p={error:u},[3,10];case 9:try{s&&!s.done&&(d=i.return)&&d.call(i)}finally{if(p)throw p.error}return[7];case 10:return console.log("wrote",JSON.stringify(n).length,"bytes successfully"),[2]}}))}))},n.prototype.buildKeyRec=function(t,e,r){var i=n.schemaKey[e],s={};for(var o in i){i[o];t.isAssert()&&t.assert(t.getName(this),void 0!==r[o],"Rec missing PK",o,r),s[o]=r[o]}return s},n.prototype.buildFullRec=function(t,e,r){var i=n.schemaField[e],s=this.buildKeyRec(t,e,r);for(var o in i){var a=i[o],c=r[o];t.isAssert()&&t.assert(t.getName(this),a.optional&&void 0===c||this.validateType(a.type,c),"Invalid value for field",o,r),s[o]=r[o]}return s},n.prototype.validateType=function(t,e){switch(t){case"string":case"number":case"boolean":return typeof e===t;case"array":return Array.isArray(e);case"object":return e&&typeof e===t;default:return!1}},n.prototype.bulkDelete=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r,i=this;return _.__generator(this,(function(s){switch(s.label){case 0:return r=this.getTable(t,e),[4,this.transaction("rw",r,(function(){return _.__awaiter(i,void 0,void 0,(function(){var i,s,o,a,c,l,u,p;return _.__generator(this,(function(d){switch(d.label){case 0:i=function(n){var i;return _.__generator(this,(function(o){switch(o.label){case 0:return i=s.buildKeyRec(t,e,n),t.isDebug()&&t.debug(t.getName(s),"bulkDelete",e,i),[4,r.delete(Object.keys(i).map((function(t){return i[t]})))];case 1:return o.sent(),[2]}}))},s=this,d.label=1;case 1:d.trys.push([1,6,7,8]),o=_.__values(n),a=o.next(),d.label=2;case 2:return a.done?[3,5]:(c=a.value,[5,i(c)]);case 3:d.sent(),d.label=4;case 4:return a=o.next(),[3,2];case 5:return[3,8];case 6:return l=d.sent(),u={error:l},[3,8];case 7:try{a&&!a.done&&(p=o.return)&&p.call(o)}finally{if(u)throw u.error}return[7];case 8:return[2]}}))}))}))];case 1:return s.sent(),[2]}}))}))},n.prototype.getTable=function(t,e){var n=this[e+"Table"];return t.isAssert()&&t.assert(t.getName(this),n,"unknown model",e),n},n.prototype.$all=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n;return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.getTable(t,e).toArray()];case 1:return n=r.sent(),console.info(n),[2]}}))}))},n}(L.default);rn.schemaKey={},rn.schemaField={},rn.classMap=new Map;var sn=function(){function t(){}return t.field=function(e){return function(n,r){var i=Reflect.getMetadata("design:type",n,r),s=rn.getModelName(n.constructor);rn.registerSchema(s,r,!1,t.getType(i),!!e)}},t.key=function(e){return function(n,r){e&&rn.registerModelClass(e,n.constructor);var i=Reflect.getMetadata("design:type",n,r),s=rn.getModelName(n.constructor);rn.registerSchema(s,r,!0,t.getType(i),!1)}},t.getType=function(t){switch(t){case String:return"string";case Number:return"number";case Boolean:return"boolean";case Array:return"array";case Object:return"object";default:throw new Error("getType: unknown field type - "+t)}},t}(),on=function(){function t(){}return t.prototype.setGlobalKeyValue=function(t,e,n){var r="global."+e;localStorage.setItem(r,n)},t.prototype.getGlobalKeyValue=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(n){return t="global."+e,[2,localStorage.getItem(t)]}))}))},t.prototype.setUserKeyValue=function(t,e,n){localStorage.setItem(e,n)},t.prototype.getUserKeyValue=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2,localStorage.getItem(e)]}))}))},t.prototype.setGcConfig=function(t,e){e.forEach((function(t){var e="config."+t.category+"|"+t.key;localStorage.setItem(e,JSON.stringify(t.value))}))},t.prototype.getGcConfig=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(r){return t="config."+e+"|"+n,[2,localStorage.getItem(t)]}))}))},t}(),an=function(){function t(t,e){this.rc=t,this.storage=e}return t.prototype.setConfig=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.storage.setGcConfig(this.rc,t)];case 1:return e.sent(),[2]}}))}))},t.prototype.getConfig=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n;return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.storage.getGcConfig(this.rc,t,e)];case 1:return(n=r.sent())?[2,JSON.parse(n)]:(this.rc.isWarn()&&this.rc.warn(this.rc.getName(this),"No config found for category "+t+", key "+e),[2,null])}}))}))},t}();var cn=function(){function t(){this.preserveComponents=[],this.myStore={},this.logging=!1}return t.prototype.shouldDetach=function(t){return this.logging&&console.info("RoutingStrategy:shouldDetach",this.logSnapshot(t),t),this.isRemembered(t)},t.prototype.store=function(t,e){this.logging&&console.info("RoutingStrategy:store",this.logSnapshot(t),t);var n=this.getName(t);n&&(this.myStore[n]=e)},t.prototype.shouldAttach=function(t){this.logging&&console.info("RoutingStrategy:shouldAttach",this.logSnapshot(t),t);var e=this.getName(t);return!!e&&!!this.myStore[e]},t.prototype.retrieve=function(t){this.logging&&console.info("RoutingStrategy:retrieve",this.logSnapshot(t),t);var e=this.getName(t);return e?this.myStore[e]:null},t.prototype.shouldReuseRoute=function(t,e){return this.logging&&console.info("RoutingStrategy:shouldReuseRoute",t,this.logSnapshot(t),e,this.logSnapshot(e)),t.routeConfig===e.routeConfig},t.prototype.logSnapshot=function(t){return(this.getName(t)||"null")+":"+(t.url&&t.url.length?t.url[0]:"none")},t.prototype.isRemembered=function(t){var e=this.getName(t);return!!e&&-1!==this.preserveComponents.indexOf(e)},t.prototype.getName=function(t){return t.component?t.component.name:""},t}();var ln=function(t){function e(e){var n=t.call(this)||this;return n.rc=e,e.setupLogger(n,"NcPlatformLocation"),n}return _.__extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"get location()"),location},enumerable:!1,configurable:!0}),e.prototype.getState=function(){},e.prototype.getBaseHrefFromDOM=function(){return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"getBaseHrefFromDOM()"),"."},e.prototype.onPopState=function(t){},e.prototype.onHashChange=function(t){},Object.defineProperty(e.prototype,"hostname",{get:function(){return location.hostname},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return location.port},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"href",{get:function(){return location.href},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return location.protocol},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"get pathname()"),location.pathname},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"get search()"),location.search},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"get hash()"),location.hash},enumerable:!1,configurable:!0}),e.prototype.pushState=function(t,e,n){this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),!1,"pushState","First navigation was not done in root ngInit()")},e.prototype.replaceState=function(t,e,n){this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),!1,"replaceState","First navigation was not done in root ngInit()")},e.prototype.forward=function(){},e.prototype.back=function(){},e}(r.PlatformLocation);ln.decorators=[{type:e.Injectable}],ln.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]};var un=function(t){function e(e){var n=t.call(this,e)||this;return n.rc=e,n}return _.__extends(e,t),e}(gt);var pn=function(t){function e(e){var n=t.call(this)||this;return n.rc=e,n}return _.__extends(e,t),e.prototype.getBaseHref=function(){return"."},e.prototype.path=function(){return location.pathname},e.prototype.prepareExternalUrl=function(){return""},e.prototype.onPopState=function(t){},e.prototype.pushState=function(t,e,n,r){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"ignoring push state \n      "+t+" , "+e+", "+n+", "+r)},e.prototype.replaceState=function(t,e,n,r){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"ignoring replace state\n      "+t+" , "+e+", "+n+", "+r)},e.prototype.forward=function(){},e.prototype.back=function(){},e}(r.LocationStrategy);pn.decorators=[{type:e.Injectable}],pn.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]}]};var dn={PROGRESS:1,ERROR:2,SUCCESS:3};dn[dn.PROGRESS]="PROGRESS",dn[dn.ERROR]="ERROR",dn[dn.SUCCESS]="SUCCESS";var hn=function(t,e){this.rc=t,this.translate=e,this.retryOnFailure=!1,this.loadingText=e.instant("cmn_loading"),this.errorText=e.instant("cmn_toast_err_unknown"),this.retryButtonText=e.instant("cmn_btn_retry")};var mn,gn,fn=function(){function t(t,e){this.rc=t,this.translate=e,this.instance=new hn(t,e)}return t.prototype.setCurrentState=function(t){return this.instance.currentState=t,this},t.prototype.setLoadingText=function(t){return this.instance.loadingText=t,this},t.prototype.setEmptyDataText=function(t){return this.instance.emptyDataText=t,this},t.prototype.setErrorText=function(t){return this.instance.errorText=t,this},t.prototype.setRetryButtonText=function(t){return this.instance.retryButtonText=t,this},t.prototype.retryOnFailure=function(){return this.instance.retryOnFailure=!0,this},t.prototype.setErrorCode=function(t){return this.instance.errorCode=t,this},t.prototype.build=function(){return this.instance},t}();(mn=t.NavTransition||(t.NavTransition={})).ANIM_DURATION=400,mn.PAGE_TRANSITION_DURATION=mn.ANIM_DURATION+"ms",mn.IDLE="idle",mn.FORWARD="forward",mn.BACKWARD="backward",mn.ANIMATION_STYLE="ease-out",mn.pageTransition=C.trigger("pageTransition",[C.transition(mn.IDLE+" => "+mn.FORWARD,[C.query(":enter, :leave",C.style({position:"fixed",width:"100%"}),{optional:!0}),C.group([C.query(":leave",[C.style({transform:"translate3d(0, 0, 0)",zIndex:0})],{optional:!0}),C.query(":enter",[C.style({transform:"translate3d(100%, 0, 0)",zIndex:100}),C.animate(mn.PAGE_TRANSITION_DURATION+" "+mn.ANIMATION_STYLE,C.style({transform:"translate3d(0, 0, 0)",zIndex:100}))],{optional:!0})])]),C.transition(mn.IDLE+" => "+mn.BACKWARD,[C.query(":enter, :leave",C.style({position:"fixed",width:"100%"}),{optional:!0}),C.group([C.query(":leave",[C.style({transform:"translate3d(0, 0, 0)",zIndex:100}),C.animate(mn.PAGE_TRANSITION_DURATION+" "+mn.ANIMATION_STYLE,C.style({transform:"translate3d(100%, 0, 0)",zIndex:100}))],{optional:!0}),C.query(":enter",[C.style({transform:"translate3d(0, 0, 0)",zIndex:0})],{optional:!0})])])]),(gn=t.BottomFlyIn||(t.BottomFlyIn={})).ANIM_DURATION=".4s",gn.STAGGER_DURATION=50,gn.ANIMATION_STYLE="ease-out",gn.FLY_STATE="fly",gn.DONT_FLY_STATE="dontFly",gn.bottomFlyIn=C.trigger("bottomFlyIn",[C.transition("* => "+gn.FLY_STATE,[C.query(".flex-box-child",[C.style({transform:"translate3d(0, 200%, 0)",opacity:0}),C.stagger(gn.STAGGER_DURATION,[C.animate(gn.ANIM_DURATION+" "+gn.ANIMATION_STYLE,C.style({transform:"translate3d(0, 0, 0)",opacity:1}))])],{optional:!0})])]);var vn={Notification:"NOTIFICATION",FeedbackEmail:"FEEDBACK_EMAIL",SmsVerification:"SMS_VERIFICATION",Help:"HELP",Session:"SESSION"},yn={GeneralConfig:"GENERAL_CONFIG",FeedbackEmail:"FEEDBACK_EMAIL"};var bn={LogLevel:"__logLevel",DisableCaptcha:"__disableCaptcha"};var wn,_n,In,Pn={BUSINESS:"business"},En={STORAGE:"android.permission.WRITE_EXTERNAL_STORAGE",CAMERA:"android.permission.CAMERA",LOCATION:"android.permission.ACCESS_FINE_LOCATION",CONTACTS:"android.permission.READ_CONTACTS",SMS:"android.permission.READ_SMS",GALLERY:"android.permission.WRITE_EXTERNAL_STORAGE"},Sn={STORAGE:"STORAGE",CAMERA:"CAMERA",LOCATION:"LOCATION",CONTACTS:"CONTACTS",SMS:"SMS",GALLERY:"PHOTOS"},Cn={STORAGE:"STORAGE",CAMERA:"CAMERA",LOCATION:"LOCATION",CONTACTS:"CONTACTS",SMS:"SMS",GALLERY:"STORAGE"},xn={STORAGE:"STORAGE",CAMERA:"CAMERA",LOCATION:"LOCATION",CONTACTS:"CONTACTS",SMS:"SMS",GALLERY:"GALLERY"};In=t.MobileSdkResponse||(t.MobileSdkResponse={}),_n=In.CollectRequest||(In.CollectRequest={}),(wn=_n.Response||(_n.Response={})).ACKNOWLEDGED="ACKNOWLEDGED",wn.COMPLETED="COMPLETED",wn.DECLINED="DECLINED";var Tn=function(){function t(t){this.rc=t}return t.prototype.hasPermission=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.checkPermission(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.checkPermission=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:switch(t){case Cn.CAMERA:return[3,1];case Cn.GALLERY:return[3,3]}return[3,4];case 1:return[4,navigator.permissions.query({name:"camera"})];case 2:return[2,"granted"===e.sent().state];case 3:return[2,!0];case 4:return this.rc.getGlobalLogLevel()!==P.LOG_LEVEL.NONE&&this.rc.uiRouter.showToast(t+" permission to be implemented"),[2,!0]}}))}))},t.prototype.getPermission=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:switch(t){case Cn.CAMERA:return[3,1];case Cn.GALLERY:return[3,4]}return[3,5];case 1:return e.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({video:!0,audio:!1})];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return[2,!0];case 5:return[2]}}))}))},t.prototype.getPictureFromCamera=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2,{}]}))}))},t}();var An=function(){function t(t){this.rc=t,this.webApi=new Tn(t)}return t.prototype.handleRequest=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return _.__awaiter(this,void 0,void 0,(function(){var r;return _.__generator(this,(function(i){switch(i.label){case 0:if(!this[e])throw new Error("Missing API "+e+" implementation in Web bridge.");return[4,this[e](n[0])];case 1:return r=i.sent(),this.rc.bridge.asyncResponseFromNative(t,r),[2]}}))}))},t.prototype.setUserId=function(t){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Setting userId "+t)},t.prototype.logEvent=function(t,e){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Logging event: "+t+" Data: "+e)},t.prototype.setUserProperty=function(t,e){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Setting userProperty: "+t+" Value: "+e)},t.prototype.fingerprintScan=function(){},t.prototype.scanBarcode=function(){return null},t.prototype.payViaQr=function(){return this.rc.uiRouter.showToast("payViaQr Feature not supported for Browser"),null},t.prototype.openInMobileBrowser=function(t){window.open(t)},t.prototype.getNativeMigrationInfo=function(){return null},t.prototype.getCurrentLocation=function(){return navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){return{lat:t.coords.latitude,lng:t.coords.longitude}}),(function(t){})),null},t.prototype.closeMobileBrowser=function(){},t.prototype.getPhoneContacts=function(){return{contacts:[]}},t.prototype.hasPermission=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n,r;return _.__generator(this,(function(i){switch(i.label){case 0:return e=t[0],n={},r="hasPerm",[4,this.webApi.hasPermission(e)];case 1:return[2,(n[r]=i.sent(),n)]}}))}))},t.prototype.requestMobNumHint=function(){return this.rc.uiRouter.showToast("requestMobNumHint Feature not supported for Browser"),null},t.prototype.takePictureFromCamera=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return this.rc.uiRouter.showToast("takePictureFromCamera Feature not supported for Browser"),[4,this.webApi.getPictureFromCamera()];case 1:return[2,t.sent()]}}))}))},t.prototype.selectDocumentFile=function(){return this.rc.uiRouter.showToast("selectDocumentFile Feature not supported for Browser"),{success:!1}},t.prototype.selectPictureFromGallery=function(){return this.rc.uiRouter.showToast("selectPictureFromGallery Feature not supported for Browser"),{success:!1}},t.prototype.getPermission=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n;return _.__generator(this,(function(r){switch(r.label){case 0:return e=t[0],t[1]||!0,n={},[4,this.webApi.getPermission(e)];case 1:return[2,(n.permissionGiven=r.sent(),n.dialogShown=!0,n)]}}))}))},t.prototype.writeExternalStyles=function(t){return this.rc.uiRouter.showToast("writeExternalStyles Feature not supported for Browser"),!0},t.prototype.saveBinaryFile=function(t,e,n){return this.rc.uiRouter.showToast("saveBinaryFile Feature not supported for Browser"),!0},t.prototype.setNotificationConfig=function(t){},t.prototype.closeApp=function(){window.location.reload()},t.prototype.launchAppMarket=function(t){window.open("https://play.google.com/store/apps/details?id="+t)},t.prototype.sendMail=function(t,e,n){this.rc.uiRouter.showToast("SendMail Feature not supported for Browser")},t.prototype.placeCall=function(t){this.rc.uiRouter.showToast("PlaceCall Feature not supported for Browser")},t.prototype.checkIfPkgInstalled=function(t){return this.rc.uiRouter.showToast("checkIfPkgInstalled Feature not supported for Browser"),!1},t.prototype.listenForSmsCode=function(){},t.prototype.setVerStringToken=function(t){},t.prototype.copyToClipBoard=function(t){return this.rc.uiRouter.showToast("copyToClipBoard Feature not supported for Browser"),!1},t.prototype.openSoftInputKeyboard=function(){},t.prototype.hideSoftInputKeyboard=function(){},t.prototype.canAuthWithFingerprint=function(){return{canAuth:!1}},t.prototype.logOutCurrentUser=function(){window.location.reload()},t.prototype.resetApp=function(){localStorage.clear(),window.location.reload()},t.prototype.getDeviceInfo=function(){return"{}"},t.prototype.setDebuggable=function(){},t}();var Dn={LOADING:0,INITIALIZED:1,SHOWN:2};Dn[Dn.LOADING]="LOADING",Dn[Dn.INITIALIZED]="INITIALIZED",Dn[Dn.SHOWN]="SHOWN";var kn={MOBILE:"MOBILE",WEB:"WEB",CORDOVA:"CORDOVA"},Rn={BROWSER:"BROWSER",ANDROID:"ANDROID",IOS:"IOS"};var Nn=function(t){this.appVersion="",this.localStoragePath="",this.appChannel="WEB",this.pseudoId="",this.fcmId="",this.adId="",this.deviceId="",this.appInstallTs=Date.now(),this.remoteUrl=t};var On=function(){this.referrerParams={},this.isUpgrade=!1};var Ln=function(){function t(t,e){this.rc=t,this.ngZone=e,this.runningInBrowser=!1,this.nextRequestId=1,this.requestMap={},this.launchContext=new On,this.mobileSdkParams={}}return t.prototype.preInit=function(t){this.initConfig=new Nn(t),window.webkit&&window.webkit.messageHandlers.cordova?(this.userAgent=Rn.IOS,this.permObj=Sn):window.cordova?(this.userAgent=Rn.ANDROID,this.permObj=En):(this.userAgent=Rn.BROWSER,this.webBridge=new An(this.rc),this.permObj=Cn),this.runningInBrowser=this.userAgent===Rn.BROWSER,this.state=Dn.INITIALIZED},t.prototype.init=function(){return _.__awaiter(this,void 0,void 0,(function(){var t,e;return _.__generator(this,(function(n){switch(n.label){case 0:return this.userAgent!==Rn.BROWSER?[3,1]:(this.onConnectionAttr(navigator.onLine?P.NetworkType.wifi:null,null),[3,3]);case 1:return[4,this.sendAsyncRequest("getInitData")];case 2:t=n.sent(),this.initConfig=t.initConfig,this.launchContext=t.launchContext,e=t.connAttr,this.onConnectionAttr(e.netType,e.location),n.label=3;case 3:return this.launchContext.referrerParams&&this.launchContext.referrerParams.mode===Pn.BUSINESS&&(this.sdkType=kn.MOBILE),[2]}}))}))},t.prototype.isRunningInDev=function(){return"http://localhost"==this.initConfig.remoteUrl},t.prototype.isRunningInBrowser=function(){return this.runningInBrowser},t.prototype.isRunningInMWeb=function(){return window.navigator.userAgent.includes("Android")&&this.isRunningInBrowser()},t.prototype.isRunningInIPad=function(){return window.navigator.userAgent.includes("iPad")},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.userAgent!==Rn.BROWSER&&this.sendAsyncRequest("setStateFromJs",Dn[this._state])},enumerable:!1,configurable:!0}),t.prototype.setStateShown=function(){this.state=Dn.SHOWN},t.prototype.getDirectLink=function(){return this.launchContext.directLink},t.prototype.setWebDirectLink=function(t){this.launchContext.directLink=t},t.prototype.resetDirectLink=function(){this.launchContext.directLink=null},t.prototype.getReferrerParams=function(){return this.launchContext.referrerParams},t.prototype.isUpgrade=function(){return this.launchContext.isUpgrade},t.prototype.getUserAgent=function(){return this.userAgent},t.prototype.getRemoteUrl=function(){return this.initConfig.remoteUrl},t.prototype.getAppVersion=function(){return this.initConfig.appVersion},t.prototype.getAppChannel=function(){return this.initConfig.appChannel},t.prototype.getPseudoId=function(){return this.initConfig.pseudoId},t.prototype.getFcmId=function(){return this.initConfig.fcmId},t.prototype.getAdId=function(){return this.initConfig.adId},t.prototype.getAppInstallTime=function(){return this.initConfig.appInstallTs},t.prototype.getDeviceId=function(){return""},t.prototype.getLocation=function(){return JSON.stringify(this.location)},t.prototype.getCordovaNetworkType=function(){return this.netType},t.prototype.getLocalStoragePath=function(){return this.initConfig.localStoragePath},t.prototype.setUserId=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("setUserId",String(t))];case 1:return e.sent(),[2]}}))}))},t.prototype.logEvent=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.sendAsyncRequest("logEvent",t,e)];case 1:return n.sent(),[2]}}))}))},t.prototype.setUserProperty=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.sendAsyncRequest("setUserProperty",t,e)];case 1:return n.sent(),[2]}}))}))},t.prototype.isWebSdkInvocation=function(){return this.sdkType===kn.WEB||this.sdkType===kn.CORDOVA},t.prototype.isMobileSdkInvocation=function(){return this.sdkType===kn.MOBILE},t.prototype.isSdkInvocation=function(){return!!this.sdkType},t.prototype.getSdkType=function(){return this.sdkType},t.prototype.setMobileSdkParams=function(t,e){this.mobileSdkParams.source=t,this.mobileSdkParams.requestId=Number(e)},t.prototype.getMobileSdkSource=function(){return this.mobileSdkParams.source},t.prototype.getMobileSdkRequestId=function(){return this.mobileSdkParams.requestId},t.prototype.onSdkSuccessResponse=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!0),_.__awaiter(this,void 0,void 0,(function(){var r;return _.__generator(this,(function(i){switch(i.label){case 0:return this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),t,"RequestId is not defined"),this.sdkType!==kn.MOBILE?(this.rc.isWarn()&&this.rc.warn(this.rc.getName(this),"Came to Bridge SDK response for inv other than SDK Type Mobile, returning..."),[2]):(r=Object.assign({code:"SUCCESS"},e),[4,this.onMobileSdkResponse(t,r,n)]);case 1:return i.sent(),[2]}}))}))},t.prototype.onSdkFailureResponse=function(t,e,n,r){return void 0===r&&(r=!0),_.__awaiter(this,void 0,void 0,(function(){var i;return _.__generator(this,(function(s){switch(s.label){case 0:return this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),t,"RequestId is not defined"),this.sdkType!==kn.MOBILE?(this.rc.isWarn()&&this.rc.warn(this.rc.getName(this),"Came to Bridge SDK response for inv other than SDK Type Mobile, returning..."),[2]):(i=Object.assign({code:"FAILURE"},e),i=Object.assign(n,i),[4,this.onMobileSdkResponse(t,i,r)]);case 1:return s.sent(),[2]}}))}))},t.prototype.onMobileSdkResponse=function(t,e,n){return void 0===n&&(n=!0),_.__awaiter(this,void 0,void 0,(function(){var r;return _.__generator(this,(function(i){switch(i.label){case 0:return r=Object.assign({requestId:t,source:this.getMobileSdkSource()},e),[4,this.sendAsyncRequest("onMobileSdkResponse",JSON.stringify(r),n)];case 1:return i.sent(),[2]}}))}))},t.prototype.setGlobalKeyValue=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.sendAsyncRequest("setGlobalKeyValue",t,e)];case 1:return n.sent(),[2]}}))}))},t.prototype.getGlobalKeyValue=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("getGlobalKeyValue",t)];case 1:return[2,e.sent().value]}}))}))},t.prototype.setUserKeyValue=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.sendAsyncRequest("setUserKeyValue",t,e)];case 1:return n.sent(),[2]}}))}))},t.prototype.getUserKeyValue=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("getUserKeyValue",t)];case 1:return[2,e.sent().value]}}))}))},t.prototype.setGcConfig=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("setGcConfig",t)];case 1:return e.sent(),[2]}}))}))},t.prototype.getGcConfig=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.sendAsyncRequest("getGcConfig",t,e)];case 1:return[2,n.sent().value]}}))}))},t.prototype.prepareConnection=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("prepareConnection")];case 1:return t.sent(),[2]}}))}))},t.prototype.sendRouterRequest=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(n){switch(n.label){case 0:return[4,this.sendAsyncRequest("sendRequest",t,JSON.stringify(e))];case 1:return[2,n.sent()]}}))}))},t.prototype.sendRouterEvent=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.sendAsyncRequest("sendEvent",t,JSON.stringify(e),n)];case 1:return r.sent(),[2]}}))}))},t.prototype.isAndroid=function(){return this.userAgent===Rn.ANDROID},t.prototype.isIos=function(){return this.userAgent===Rn.IOS},t.prototype.getUserProfilePicUrl=function(t,e){if(!this.rc.userKeyVal.getWebProfilePicBase64(t))return null;if(this.runningInBrowser)return"data:image/jpeg;base64,"+this.rc.userKeyVal.getWebProfilePicBase64(t);var n=e;this.getLocalStoragePath(),String(t),Math.random();return""},t.prototype.getDeviceInfo=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("getDeviceInfo")];case 1:return[2,t.sent()]}}))}))},t.prototype.getSessionInfo=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("getSessionInfo")];case 1:return[2,t.sent()]}}))}))},t.prototype.recreateSession=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("recreateSession")];case 1:return[2,t.sent()]}}))}))},t.prototype.getCurrentLocation=function(){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("getCurrentLocation")];case 1:return[2,{lat:(t=e.sent()).lat,lng:t.lng}]}}))}))},t.prototype.requestMobNumHint=function(){return _.__awaiter(this,void 0,void 0,(function(){var t;return _.__generator(this,(function(e){switch(e.label){case 0:return this.userAgent!==Rn.ANDROID?[2,null]:[4,this.sendAsyncRequest("requestMobNumHint")];case 1:return[2,(t=e.sent())?t.selectedId:null]}}))}))},t.prototype.getPhoneContacts=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("getPhoneContacts")];case 1:return[2,t.sent().contacts]}}))}))},t.prototype.takePictureFromCamera=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("takePictureFromCamera")];case 1:return[2,t.sent()]}}))}))},t.prototype.selectPictureFromGallery=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("selectPictureFromGallery")];case 1:return[2,t.sent()]}}))}))},t.prototype.selectDocumentFile=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("selectDocumentFile")];case 1:return[2,t.sent()]}}))}))},t.prototype.getPermission=function(t,e){return void 0===e&&(e=!0),_.__awaiter(this,void 0,void 0,(function(){var n;return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.sendAsyncRequest("getPermission",this.permObj[t],e)];case 1:return[2,{permGiven:(n=r.sent()).permissionGiven,dialogShown:n.dialogShown}]}}))}))},t.prototype.writeExternalStyles=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("writeExternalStyles",t)];case 1:return[2,e.sent().success]}}))}))},t.prototype.saveBinaryFile=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.sendAsyncRequest("saveBinaryFile",t,e,n)];case 1:return[2,r.sent().success]}}))}))},t.prototype.payViaQr=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("payViaQr",t)];case 1:return[2,e.sent()]}}))}))},t.prototype.scanQrCode=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n;return _.__generator(this,(function(r){switch(r.label){case 0:return[4,this.sendAsyncRequest("scanQrCode",t,e)];case 1:return n=r.sent(),[2,{result:n.result,action:n.action}]}}))}))},t.prototype.scanBarcode=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.hasPermission(xn.CAMERA)];case 1:return e.sent()?[3,3]:[4,this.getPermission(xn.CAMERA)];case 2:if(!e.sent().permGiven)return this.rc.uiRouter.showToast("Can't scan Barcode without Camera permission"),[2,null];e.label=3;case 3:return[4,this.sendAsyncRequest("scanBarcode",t)];case 4:return[2,e.sent()]}}))}))},t.prototype.openInMobileBrowser=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("openInMobileBrowser",t)];case 1:return e.sent(),[2]}}))}))},t.prototype.closeMobileBrowser=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("closeMobileBrowser")];case 1:return t.sent(),[2]}}))}))},t.prototype.enableDebug=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return this.rc.setGlobalLogLevel(P.LOG_LEVEL.DEBUG),this.rc.globalKeyVal.logLevel=P.LOG_LEVEL.DEBUG,[4,this.sendAsyncRequest("setDebuggable")];case 1:return t.sent(),this.rc.uiRouter.showToast("Log level changed to debug"),[2]}}))}))},t.prototype.updateGcConfig=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return this.userAgent===Rn.BROWSER?[3,2]:[4,this.sendAsyncRequest("updateGcConfig")];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.closeApp=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("closeApp")];case 1:return t.sent(),[2]}}))}))},t.prototype.logoutUser=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("logoutUser")];case 1:return t.sent(),[2]}}))}))},t.prototype.forgetUser=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("forgetUser")];case 1:return t.sent(),[2]}}))}))},t.prototype.launchAppMarket=function(t){return void 0===t&&(t=""),_.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("launchAppMarket",t)];case 1:return e.sent(),[2]}}))}))},t.prototype.sendMail=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(r){switch(r.label){case 0:return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),{email:t,subject:e}),[4,this.sendAsyncRequest("sendMail",t||"",e||"",n||"")];case 1:return[2,r.sent()]}}))}))},t.prototype.placeCall=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Placing call with number "+t),[4,this.sendAsyncRequest("placeCall",t)];case 1:return e.sent(),[2]}}))}))},t.prototype.checkIfPkgInstalled=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("checkIfPkgInstalled",t)];case 1:return[2,e.sent().installed]}}))}))},t.prototype.hasPermission=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("hasPermission",this.permObj[t])];case 1:return[2,e.sent().hasPerm]}}))}))},t.prototype.listenForSmsCode=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("listenForSmsCode")];case 1:return t.sent(),[2]}}))}))},t.prototype.setVerStringToken=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("setVerStringToken",t)];case 1:return e.sent(),[2]}}))}))},t.prototype.copyToClipBoard=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(e){switch(e.label){case 0:return[4,this.sendAsyncRequest("copyToClipBoard",t)];case 1:return[2,e.sent()]}}))}))},t.prototype.openSoftInputKeyboard=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return this.userAgent!==Rn.ANDROID?[3,2]:[4,this.sendAsyncRequest("openSoftInputKeyboard")];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hideSoftInputKeyboard=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return this.userAgent!==Rn.ANDROID?[3,2]:[4,this.sendAsyncRequest("hideSoftInputKeyboard")];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.logOutCurrentUser=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.rc.userKeyVal.logOutCurrentUser()];case 1:return t.sent(),[4,this.sendAsyncRequest("logoutUser")];case 2:return t.sent(),[2]}}))}))},t.prototype.resetApp=function(){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,this.sendAsyncRequest("resetApp")];case 1:return t.sent(),[2]}}))}))},t.prototype.asyncRequestFromNative=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return _.__awaiter(this,void 0,void 0,(function(){var r=this;return _.__generator(this,(function(i){return this.ngZone.run((function(){r.asyncRequestFromNativeInternal(t,e,n)})),[2]}))}))},t.prototype.asyncRequestFromNativeInternal=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return _.__awaiter(this,void 0,void 0,(function(){var r,i;return _.__generator(this,(function(s){switch(s.label){case 0:return r=this[t],this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),"function"==typeof r,t),[4,r.apply(this,n)];case 1:return i=s.sent(),this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),i&&"object"==typeof i,i),this.userAgent!==Rn.BROWSER&&this.sendAsyncRequest("asyncRequestResponseFromJs",e,JSON.stringify(i)),[2]}}))}))},t.prototype.eventFromNative=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ngZone.run((function(){var r="on"+t,i=e[r];e.rc.isAssert()&&e.rc.assert(e.rc.getName(e),"function"==typeof i,r),i.apply(e,n)}))},t.prototype.onUpdateCustomData=function(t){this.rc.router.updateCustomData(this.rc,t)},t.prototype.onEphEvent=function(t){this.rc.router.providerMessage(this.rc,[t])},t.prototype.onVerSmsCode=function(t){},t.prototype.onVerSmsTimeout=function(){},t.prototype.onMobileBrowserClosed=function(){},t.prototype.onAdjustPan=function(t){this.currKeyboardHt=t},t.prototype.onFingerprintScanResult=function(t){},t.prototype.onConnectionAttr=function(t,e){if(t&&(this.netType=t),e){var n=e.lat,r=e.lng;n&&r&&(this.location=e)}},t.prototype.onScreenPause=function(){},t.prototype.onScreenResume=function(){},t.prototype.setDirectLink=function(t){t&&(this.launchContext.directLink=t)},t.prototype.sendAsyncRequest=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return _.__awaiter(this,void 0,void 0,(function(){var n,r;return _.__generator(this,(function(i){switch(i.label){case 0:switch(n=new Mn(this.nextRequestId++,t),this.requestMap[n.requestId]=n,this.userAgent){case Rn.ANDROID:(r=window.cordova)[t].apply(r,_.__spread([n.requestId],e));break;case Rn.IOS:window.webkit.messageHandlers.cordova.postMessage({requestId:n.requestId,method:t,args:e});break;case Rn.BROWSER:this.webBridge.handleRequest(n.requestId,t,e)}return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Response received for sendAsyncRequest: requestid: "+n.requestId+", \n      apiName: "+t),[4,n.promise];case 1:return[2,i.sent()]}}))}))},t.prototype.asyncResponseFromNative=function(t,e){this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"asyncResponseFromNative requestId:"+t+" Response:"+JSON.stringify(e));var n=this.requestMap[t];n?(delete this.requestMap[t],n.resolve(e)):this.rc.isError()&&this.rc.error(this.rc.getName(this),"Request id",t,"is missing in request map")},t}();var Mn=function(t,e){var n=this;this.requestId=t,this.apiName=e,this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))};var Bn=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.reqMap={},r}return _.__extends(e,t),e.prototype.preInit=function(){window.webkit&&window.webkit.messageHandlers.sdkCordova?(this.userAgent=Rn.IOS,this.permObj=Sn):window.sdkCordova?(this.userAgent=Rn.ANDROID,this.permObj=En):(this.userAgent=Rn.BROWSER,this.webBridge=new An(this.rc),this.permObj=Cn),this.runningInBrowser=this.userAgent===Rn.BROWSER,this.state=Dn.INITIALIZED},e.prototype.init=function(){var e=Object.create(null,{init:{get:function(){return t.prototype.init}}});return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,e.init.call(this)];case 1:return t.sent(),this.initSdkType(),window.onmessage=this.onIframeMessage.bind(this),[2]}}))}))},e.prototype.initSdkType=function(){this.sdkType=this.userAgent===Rn.BROWSER?kn.WEB:kn.CORDOVA},e.prototype.onIframeMessage=function(t){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2]}))}))},e.prototype.postMessage=function(t,e,n,r){if(this.sdkType!==kn.CORDOVA){if(window!==parent){var i={requestId:t,messageId:e,response:{code:n,data:r}};this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"postMessage from App "+JSON.stringify(i)),window.parent.postMessage(i,"*")}}else this.postMessageToCordova(t,e,n,r)},e.prototype.onCordovaMessage=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2]}))}))},e.prototype.postMessageToCordova=function(t,e,n,r){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2]}))}))},e.prototype.onSdkSuccessResponse=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!0),_.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2]}))}))},e.prototype.onSdkFailureResponse=function(t,e,n,r){return void 0===r&&(r=!0),_.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2]}))}))},e}(Ln);var Fn=function(t){function e(e,n,r,i,s){var o=t.call(this,e,n,r,i,s)||this;return e.setupLogger(o,"RouterApp",P.LOG_LEVEL.DEBUG),o}return _.__extends(e,t),e.prototype.getNetworkType=function(t){return t.utils.getNetworkType(t)},e.prototype.getLocation=function(t){return t.utils.getLocation(t)},e.prototype.getMaxOpenSecs=function(){return 100},e.prototype.getCustomData=function(t){return{}},e.prototype.canStrtLastReqTimer=function(){return this.userLoggedIn},e.prototype.runAlwaysAsSecure=function(t){return!1},e.prototype.getSessionTimeOutSecs=function(t){return _.__awaiter(this,void 0,void 0,(function(){var e,n;return _.__generator(this,(function(r){switch(r.label){case 0:return[4,t.gcConfigKeyVal.getConfig(vn.Session,yn.GeneralConfig)];case 1:return e=r.sent(),n=Object.assign({},e),[2,t.getGlobalLogLevel()===P.LOG_LEVEL.DEBUG?2e4:n.fgTimeoutSec]}}))}))},e.prototype.sessionTimedOut=function(t){t.isStatus()&&t.status(t.getName(this),"session timed out."),this.isSessionTimedout=!0},e.prototype.updateCustomData=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){return[2]}))}))},e.prototype.prepareConnection=function(e){var n=Object.create(null,{prepareConnection:{get:function(){return t.prototype.prepareConnection}}});return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return e.bridge.isRunningInBrowser()?(n.prepareConnection.call(this,e),[3,3]):[3,1];case 1:return[4,e.bridge.prepareConnection()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.sendRequest=function(t,e,n){return _.__awaiter(this,void 0,void 0,(function(){var r;return _.__generator(this,(function(i){switch(i.label){case 0:if(!e||!n)throw new Error("Invalid argument for sendRequest api: "+e+" params: "+n);return t.utils.isNetworkUnhealthy(t)?[2,{errorCode:P.XmnError.NetworkNotPresent}]:t.bridge.isRunningInBrowser()?(this.isSessionTimedout&&location.reload(),[4,this.sendBrowserRequest(t,e,n)]):[3,5];case 1:return r=i.sent(),t.utils.isOfTypeUiError(r)&&r.errorCode===P.XmnError._ConnectionExpired?[4,this.sendRequest(t,e,n)]:[3,3];case 2:return[2,i.sent()];case 3:return[2,r];case 4:return[3,9];case 5:return[4,t.bridge.sendRouterRequest(e,n)];case 6:return(r=i.sent()).errorCode?[2,{errorCode:r.errorCode,errorMessage:r.errorMessage}]:r.events?[4,this.handleCordovaRouterEvents(t,r.events)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[2,r.data];case 9:return[2]}}))}))},e.prototype.sendEvent=function(t,e,n,r){t.bridge.isRunningInBrowser()?r?this.sendEphemeralEvent(t,e,n):this.sendPersistentEvent(t,e,n):t.bridge.sendRouterEvent(e,n,r)},e.prototype.handleCordovaRouterEvents=function(t,e){return _.__awaiter(this,void 0,void 0,(function(){var n;return _.__generator(this,(function(r){switch(r.label){case 0:return e.length?(n=e.shift()).type!==P.WIRE_TYPE.SYS_EVENT?[3,1]:(t.isAssert()&&t.assert(t.getName(this),"Platform should handle SysEvents on its own"),[3,3]):[3,4];case 1:return[4,this.providerMessage(t,[P.WireObject.getWireObject(n)])];case 2:r.sent(),r.label=3;case 3:return[3,0];case 4:return[2]}}))}))},e.prototype.sendBrowserRequest=function(e,n,r){var i=Object.create(null,{sendRequest:{get:function(){return t.prototype.sendRequest}}});return _.__awaiter(this,void 0,void 0,(function(){return _.__generator(this,(function(t){switch(t.label){case 0:return[4,i.sendRequest.call(this,e,n,r).catch((function(t){return{errorCode:t.code||t.message,errorMessage:t.message||""}}))];case 1:return[2,t.sent()]}}))}))},e}(Ge);var Yn={APP_LAUNCH:"appLaunch",APP_SHARE:"appShare"},Un={SCREEN:"screen",ACTION:"action",SCREEN_STATE:"screenState",SCREEN_STATE_ERROR:"error",SCREEN_STATE_SUCCESS:"success",SCREEN_STATE_NO_DATA:"noData",BTN_RETRY_ERR:"retryErr"},Vn=function(){function t(t,e,n,r,i){this.rc=t,this.screenName=e,this.invocationSource=n,this.modal=!1,this.eventData={},t.setupLogger(this,"AnalyticsScreenInfo"),this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Creating new AnalyticsScreen State:",e,"Invocation:",n),this.invocationTs=Date.now(),this.navMode=void 0!==r?r:"unknown",this.modal=i}return t.prototype.getInvocationSource=function(){return this.invocationSource},t.prototype.getScreenName=function(){return this.screenName},t.prototype.onScreenDestroy=function(){var t=this.modal?"mod_":"";t+=this.screenName+"_screen",this.eventData.from=this.invocationSource,this.eventData.inv_ts=this.invocationTs,this.eventData.stay_time=Date.now()-this.invocationTs,this.eventData.nav_mode=this.navMode,this.rc.userEvent.logEvent(t,this.eventData)},t.prototype.setScreenState=function(t,e){this.eventData[t]=e,this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Screen state: "+t+", value: "+e)},t.prototype.setScreenAction=function(t){if(this.eventData.hasOwnProperty(t)){var e=this.eventData[t];this.eventData[t]=++e}else this.eventData[t]=1;this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Screen Action:",t,"Count: ",this.eventData[t])},t.prototype.setScreenActionScroll=function(t){switch(t){case tt.LEFT:this.eventData.scrollLeft=1;break;case tt.UP:this.eventData.scrollUp=1;break;case tt.RIGHT:this.eventData.scrollRight=1;break;case tt.DOWN:this.eventData.scrollDown=1}this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Screen Scroll:",t)},t}();var qn="user_link_id",jn=function(){function t(t){this.rc=t,this.allowLogging=!1,this.rc.userKeyVal.clientId&&this.initLogging()}return t.prototype.initLogging=function(){this.allowLogging=!0,this.setUserId(this.rc.userKeyVal.clientId),this.setAllUserProperties(),this.sendSessionEvents()},t.prototype.handleEvent=function(t){t},t.prototype.setAllUserProperties=function(){this.rc.userKeyVal.userLinkId&&this.setUserProperty(qn,this.rc.userKeyVal.userLinkId)},t.prototype.sendSessionEvents=function(){this.logEvent(Yn.APP_LAUNCH,null)},t.prototype.setUserId=function(t){this.allowLogging&&t&&(this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Firebase userId: ",t),this.rc.bridge.setUserId(t))},t.prototype.setUserProperty=function(t,e){this.allowLogging&&(null!=t&&t.length>0&&t.length<=24&&null!=e&&e.length>0&&e.length<=36?(this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Firebase userProperty:: Name: ",t,"Value: ",e),this.rc.bridge.setUserProperty(t,e)):this.rc.isWarn()&&this.rc.warn("NcFirebase","Invalid Firebase User Property:",t,e))},t.prototype.logAppShare=function(t,e){var n={};n[Un.SCREEN]=t,this.logEvent(Yn.APP_SHARE,n)},t.prototype.logEvent=function(t,e){this.allowLogging?this.logPublicEvent(t,e):this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Cannot send Firebase event, Allow logging false")},t.prototype.logPublicEvent=function(t,e){null==t||0===t.length||t.length>=32?this.rc.isWarn()&&this.rc.warn("NcFirebase","Firebase eventName invalid: empty OR length > 32 characters, exiting..."):(e=this.checkNValidateBundle(e),this.rc.isStatus()&&this.rc.status("NcFirebase","Logging Firebase event:",t,JSON.stringify(e)),this.rc.bridge.logEvent(t,JSON.stringify(e)))},t.prototype.checkNValidateBundle=function(t){if(null===t)return{};var e={};for(var n in t){var r=t[n],i=n!==this.validKey(n),s="string"==typeof r&&r!==this.validStringValue(String(r)),o=!("string"==typeof r||"number"==typeof r);if(i||s||o){var a=i?n:String(r);this.rc.isWarn()&&this.rc.warn("NcFirebase","Invalid key : value pair inside event:",a,s,o)}else e[n]=t[n]}return e},t.prototype.validKey=function(t){return t.length>0&&t.length<=24?t:(this.rc.isWarn()&&this.rc.warn("NcFirebase","FireBase Key length is 0 || > 24 Characters..."),t.substring(0,24))},t.prototype.validStringValue=function(t){return t.length>0&&t.length<=36?t:(this.rc.isWarn()&&this.rc.warn("NcFirebase","FireBase Value length is 0 || > 36 Characters..."),t.substring(0,36))},t}();var Hn="page_launch",Gn="page_next",Wn="page_back",Kn="page_dialog",Xn="launch",$n="relaunch",zn=function(){function t(t){this.rc=t,this.pendingTabActions={},this.pendingTabStates={},t.setupLogger(this,"AnalyticsScreenManager"),this.lastScreenName="",this.currModalState=null,t.getGlobalLogLevel()===P.LOG_LEVEL.DEBUG&&(window.screenmanager=this)}return t.prototype.getCurrentScreenName=function(){return null!=this.currModalState?this.currModalState.getScreenName():this.currScreenState.getScreenName()},t.prototype.onNavEnd=function(t,e,n){var r,i,s;if(this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Inside onNavEnd",t,n),t.startsWith("/")&&(r=this.getFbaseScreenName(t.substring(1)),this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Found screenName: ",r)),this.lastScreenName===r)return this.rc.isDebug()&&this.rc.debug(this.rc.getName(this),"Same page invoked, Ignoring..."),void(this.currModalState&&(this.currModalState.onScreenDestroy(),this.currModalState=null));if(e===Pt){this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),null===this.currModalState,"Already tracking a modal...");var o=t.match(/.*=\((.*)\)/)[1];return o=this.getFbaseScreenName(o),this.currModalState=new Vn(this.rc,o,this.currScreenState.getScreenName(),Kn,!0),void(this.lastModalName=t)}this.currModalState&&(this.currModalState.onScreenDestroy(),this.currModalState=null),this.currScreenState?(this.currScreenState.onScreenDestroy(),i=n===St.POP?Wn:Gn,s=this.currTabScreenState?this.currTabScreenState.getScreenName():this.currScreenState.getScreenName()):(i=Hn,s=Xn),this.currScreenState=new Vn(this.rc,r,s,i),this.lastScreenName=r},t.prototype.setCurrentTabRoutes=function(t){this.currTabRoutes=t},t.prototype.onTabNavEnd=function(t,e){var n=this.getFbaseScreenName(t);this.currTabScreenState&&this.currTabScreenState.onScreenDestroy(),this.lastTabSceenName=this.currTabRoutes[e];var r=this.currTabScreenState?this.currTabScreenState.getScreenName():Xn;this.currTabScreenState=new Vn(this.rc,n,r),this.digestPendingTabScreen(e)},t.prototype.onTabDestroy=function(){this.currTabScreenState.onScreenDestroy(),this.currTabScreenState=null},t.prototype.logScreenActionScroll=function(t,e){t=this.getFbaseScreenName(t),this.currModalState&&this.currModalState.getScreenName()===t?this.currModalState.setScreenActionScroll(e):this.currScreenState.setScreenActionScroll(e)},t.prototype.logScreenAction=function(t,e){t=this.getFbaseScreenName(t),this.currModalState&&this.currModalState.getScreenName()===t?this.currModalState.setScreenAction(e):this.currScreenState.getScreenName()===t?this.currScreenState.setScreenAction(e):this.currTabRoutes?this.onTabScreenAction(t,e):this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),!1,"Invalid screen action",t,e,"Expected screen",this.currScreenState.getScreenName())},t.prototype.logScreenState=function(t,e,n){t=this.getFbaseScreenName(t),this.currModalState&&this.currModalState.getScreenName()===t?this.currModalState.setScreenState(e,n):this.currScreenState.getScreenName()===t?this.currScreenState.setScreenState(e,n):this.currTabRoutes?this.onTabScreenState(t,e,n):this.rc.isError()&&this.rc.error(this.rc.getName(this),"Invalid screen state', "+t+", "+e+", 'Expected screen name ', "+this.currScreenState.getScreenName())},t.prototype.onTabScreenAction=function(t,e){if(this.lastTabSceenName===t&&this.currTabScreenState)this.currTabScreenState.setScreenAction(e);else{this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),-1!==this.currTabRoutes.indexOf(t),"invalid tab screen name "+t+" "+e);var n=this.pendingTabActions[t];n||(n=[]),n.push(e),this.pendingTabActions[t]=n}},t.prototype.onTabScreenState=function(t,e,n){if(this.lastTabSceenName===t&&this.currTabScreenState)this.currTabScreenState.setScreenState(e,n);else{this.rc.isAssert()&&this.rc.assert(this.rc.getName(this),-1!==this.currTabRoutes.indexOf(t),"invalid tab screen name "+t+" "+e);var r=this.pendingTabStates[t];r||(r={}),r[e]=n,this.pendingTabStates[t]=r}},t.prototype.digestPendingTabScreen=function(t){var e=this,n=this.currTabRoutes[t],r=this.pendingTabActions[n];r&&(r.forEach((function(t){e.currTabScreenState.setScreenAction(t)})),this.pendingTabActions[n]=[]);var i=this.pendingTabStates[n];if(i){for(var s in i)this.currTabScreenState.setScreenState(s,i[s]);this.pendingTabStates[n]={}}},t.prototype.onScreenPause=function(){this.currModalState&&this.currModalState.onScreenDestroy(),this.currTabScreenState&&this.currTabScreenState.onScreenDestroy(),this.currScreenState.onScreenDestroy()},t.prototype.onScreenResume=function(){this.currModalState&&(this.currModalState=new Vn(this.rc,this.currModalState.getScreenName(),this.currModalState.getInvocationSource(),$n,!0)),this.currTabScreenState&&(this.currTabScreenState=new Vn(this.rc,this.currTabScreenState.getScreenName(),this.currTabScreenState.getInvocationSource(),$n)),this.currScreenState=new Vn(this.rc,this.currScreenState.getScreenName(),this.currScreenState.getInvocationSource(),$n)},t.prototype.getFbaseScreenName=function(t){var e,n=t.indexOf("?"),r=(e=t.substring(0,n>0?n:t.length).replace("%2F","/")).indexOf("/");return-1!==r&&(e=e.substring(r+1,e.length)),e},t}();var Jn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.rc=e,i.translate=r,e.setupLogger(i,"AppUiRouter",P.LOG_LEVEL.DEBUG),e.getGlobalLogLevel()===P.LOG_LEVEL.DEBUG&&(window.uiRouter=i),e.uiRouter=i,i.analyticsScreenMgr=new zn(e),i}return _.__extends(e,t),e.prototype.setAppProtoAndHost=function(t,e){this.appHost=e,this.appProtocol=t},e.prototype.showToast=function(t,e,n){},e.prototype.showOverlay=function(t){void 0===t&&(t=this.translate.instant("cmn_loading"))},e.prototype.removeOverlay=function(){},e.prototype.getRoutingInfoForNavUrl=function(t){return t=this.appProtocol+"://"+this.appHost+"/"+t,this.getRoutingInfo(t)},e.prototype.getRoutingInfo=function(t){var e=this.rc.utils.parseURLForRouter(t),n={routeTo:e.pathname,queryParams:e.searchObject||{},hostName:e.hostname};if(n.queryParams[bn.LogLevel]){var r=Number(n.queryParams[bn.LogLevel]);this.rc.globalKeyVal.logLevel!==r&&r===P.LOG_LEVEL.DEBUG&&this.rc.bridge.enableDebug()}return n},e.prototype.navigateByDirectLink=function(t,e){var n=this.getRoutingInfoForNavUrl(t);e=e||{};var r={queryParams:n.queryParams};for(var i in e)r[i]||(r[i]=e[i]);this.navigate(n.routeTo,r)},e.prototype.onDeviceBack=function(){var t=this;this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Device back"),window.setTimeout((function(){1===t.urlStack.length?t.warnedUser?(t.analyticsScreenMgr.logScreenAction(t.analyticsScreenMgr.getCurrentScreenName(),"close_app"),t.notifyAppClose()):(t.showToast(t.translate.instant("cmn_press_back")),t.warnedUser=!0):(t.analyticsScreenMgr.logScreenAction(t.analyticsScreenMgr.getCurrentScreenName(),"sys_back"),t.goBack())}),0)},e.prototype.setCurrentTabRoutes=function(t){this.analyticsScreenMgr.setCurrentTabRoutes(t)},e.prototype.onTabNavEnd=function(t,e){this.analyticsScreenMgr.onTabNavEnd(t,e)},e.prototype.onTabDestroy=function(){this.analyticsScreenMgr.onTabDestroy()},e.prototype.logScreenActionScroll=function(t,e){this.analyticsScreenMgr.logScreenActionScroll(t.getRouteName(),e)},e.prototype.logScreenAction=function(t,e){this.analyticsScreenMgr.logScreenAction(t.getRouteName(),e)},e.prototype.logScreenState=function(t,e,n){this.analyticsScreenMgr.logScreenState(t.getRouteName(),e,n)},e.prototype.getRoot=function(){return{getBusinessId:function(){return""},onPayUResponse:function(t){},handleError:function(t){this.rc.isStatus()&&this.rc.status(this.rc.getName(this),"Came to handleError inside library: "+t)}}},e}(Tt);Jn.decorators=[{type:e.Injectable}],Jn.ctorParameters=function(){return[{type:ot,decorators:[{type:e.Inject,args:["RunContext"]}]},{type:w.Router},{type:jt}]};var Zn=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return _.__extends(e,t),e.prototype.copyConstruct=function(t,n){var r=new e(this.initConfig,this.runState,t,n);return this.clone(r),r},e}(ot);Object.defineProperty(t,"LOG_LEVEL",{enumerable:!0,get:function(){return P.LOG_LEVEL}}),Object.defineProperty(t,"RUN_MODE",{enumerable:!0,get:function(){return P.RUN_MODE}}),t.ANALYTICS_EVENT=Yn,t.ANALYTICS_EVENT_PARAMS=Un,t.ANDROID_PERM=En,t.API_STATE=dn,t.APP_UI_EVENT={USER_CARD_ACTIVATED:"user-card-activated",YSE_RESPONSE:"yse-response"},t.AXIS=et,t.AdjustElementsDirective=ne,t.AlertDialogComponent=yt,t.AnalyticsEventLogger=jn,t.AnalyticsScreenInfo=Vn,t.AnalyticsScreenManager=zn,t.ApiState=hn,t.ApiStateBuilder=fn,t.AppLocationStrategy=pn,t.AudioPlayer=j,t.BROWSER_PERM=Cn,t.BottomInComponent=Ot,t.BoundedValue=H,t.ComponentRoutes=ft,t.ConfigKeyVal=an,t.CurrencyPipe=me,t.CustomBreakPointsProvider=zt,t.DIALOG_RESULT=vt,t.DIRECTION=tt,t.DialerComponent=Ee,t.DomHelper=U,t.DropDownMultiSelectComponent=ge,t.EVENT_PREFIX=Y,t.EncryptionBrowser=Ye,t.ExtractMobileNoPipe=he,t.FcCategory={Help:"HELP",Session:"SESSION"},t.FcKey={GeneralConfig:"GENERAL_CONFIG",UiConfig:"UI_CONFIG"},t.FileUploadComponent=Ie,t.FilterComponent=Gt,t.GUTTER_WIDTH=10,t.GcCategory=vn,t.GcKey=yn,t.GcValue={FeedbackEmail:{email:"email",topics:"topics",topicsValue:{privacy:"privacy",default:"default",notification:"notification",settings:"settings",createStance:"createStance"}},Help:{customerCareNo:"custCareNo"}},t.GenericPipe=de,t.GlobalKeyValue=Qe,t.HashidConverter=V,t.HashidParams=bn,t.IMAGE_TYPE=ce,t.INJECTION_PARAM=mt,t.IOS_PERM=Sn,t.InfiniteScrollComponent=be,t.InitConfigBrowser=rt,t.InjectionParentBase=Dt,t.InputContainerComponent=Pe,t.InputValidator=we,t.KEYBOARD_MODE=xe,t.KEY_TYPE=Te,t.KeyboardDirective=ie,t.KeypadComponent=Ae,t.LANG_EN_TRANS=Ft,t.LAUNCH_CONTEXT={TYPE:"type",MODE:"mode",DATA:"data"},t.LaunchContextMode=Pn,t.LoadingComponent=fe,t.LoadingErrorComponent=ve,t.LoadingOverlayComponent=Mt,t.LongPressDirective=te,t.MODAL_OUTLET=Pt,t.MaskingValueDirective=ke,t.Master=sn,t.MasterDb=rn,t.ModalPopupComponent=Lt,t.MuBridge=Ln,t.MuBrowser=B,t.MuBrowserModule=Re,t.MuComponentsRoutingModule=Kt,t.MuDataTableComponent=Ce,t.MuFormContainerComponent=Se,t.MuRouterApp=Fn,t.MuSdkBridge=Bn,t.MuUiRouter=Jn,t.MuUtility=K,t.MuWebApi=Tn,t.MuWebBridge=An,t.MultiStepValue=G,t.Nail=ht,t.NavMethod=St,t.NcAllowSingleClickDirective=ae,t.NcAutoFocusDirective=Jt,t.NcFallbackCharDirective=re,t.NcImgFallbackDirective=ue,t.NcMaxLengthDirective=Qt,t.NcPlatformLocation=ln,t.NcStyleClassDirective=ee,t.NextInpFocusDirective=se,t.PERMISSION=_e,t.PRIMARY_OUTLET=It,t.PageNotFoundComponent=De,t.PerformanceMetrics=$,t.Permission=xn,t.RCBrowserLogger=st,t.RoutableScreen=un,t.RoutingStrategy=cn,t.RunContextBrowser=ot,t.RunContextJest=Zn,t.RunStateBrowser=it,t.SDK_TYPE=kn,t.STATE=kt,t.Segment=tn,t.State=Dn,t.StorageProvider=on,t.THRESHOLD=.8,t.TIME={MILL_IN_SEC:1e3,MILL_IN_MINUTE:6e4,MILL_IN_HOUR:36e5,MILL_IN_DAY:864e5},t.TOAST_DURATION=5e3,t.TOAST_DURATION_DEBUG=1e4,t.TOAST_POSITION=Et,t.TRANSLATIONS=Ut,t.TRANSLATION_PROVIDERS=Vt,t.TYPEOF={STRING:"string",NUMBER:"number"},t.TableDataManager=X,t.TextEncDec=Be,t.ToastComponent=ye,t.TrackableScreen=gt,t.TranslatePipe=Xt,t.TranslateService=jt,t.USERS=$e,t.UiRouter=Tt,t.UrlHelper=W,t.UserAgent=Rn,t.UserKeyValue=ze,t.ValidateImgDirective=pe,t.VerificationError={ERR_INTERNET:"ERR_INTERNET",ERR_INVALID_NUM:"ERR_INVALID_NUM",ERR_NUM_LIMIT:"ERR_NUM_LIMIT",ERR_ATTEMPTS_LIMIT:"ERR_ATTEMPTS_LIMIT",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_NONE:"ERR_NONE",ERR_MSISDN_FAIL:"ERR_MSISDN_FAIL"},t.VerificationSettingsExp={TIME_DEBUG:3e5,TIME_PROD:36e5},t.WsBrowser=qe,t.XmnRouterBrowser=Ge,t.getTranslations=function(t){return qt(Yt,t)},t.mergeDictionaries=qt,t.muDictionary=Yt,t.ɵa=Ge,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=mubble-browser.umd.min.js.map