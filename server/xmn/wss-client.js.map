{"version":3,"file":"wss-client.js","sourceRoot":"","sources":["../../packages/server/src/xmn/wss-client.ts"],"names":[],"mappings":"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"}