{"version":3,"file":"nudi-convert.js","sourceRoot":"","sources":["../../packages/server/src/util/nudi-convert.ts"],"names":[],"mappings":"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"}