{"version":3,"file":"pg-client.js","sourceRoot":"","sources":["../../../../packages/server/src/db/obmop/obmop-clients/pg-client.ts"],"names":[],"mappings":"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"}