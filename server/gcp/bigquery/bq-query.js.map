{"version":3,"file":"bq-query.js","sourceRoot":"","sources":["../../../packages/server/src/gcp/bigquery/bq-query.ts"],"names":[],"mappings":"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"}