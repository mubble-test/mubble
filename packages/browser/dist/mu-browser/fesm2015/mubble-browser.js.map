{"version":3,"file":"mubble-browser.js","sources":["../../../projects/mu-browser/src/lib/mu-browser.service.ts","../../../projects/mu-browser/src/lib/util/event-broadcast.ts","../../../projects/mu-browser/src/lib/util/dom-helper.ts","../../../projects/mu-browser/src/lib/util/hashid-converter.ts","../../../projects/mu-browser/src/lib/util/audio-player.ts","../../../projects/mu-browser/src/lib/util/bounded-value.ts","../../../projects/mu-browser/src/lib/util/multi-step-value.ts","../../../projects/mu-browser/src/lib/util/url-helper.ts","../../../projects/mu-browser/src/lib/util/utility.ts","../../../projects/mu-browser/src/lib/util/table-data-manager.ts","../../../projects/mu-browser/src/lib/util/performance-metrics.ts","../../../projects/mu-browser/src/lib/ui/nail/nail-interface.ts","../../../projects/mu-browser/src/lib/rc-browser.ts","../../../projects/mu-browser/src/lib/ui/nail/nail.ts","../../../projects/mu-browser/src/lib/ui/mu-components/injection-interface.ts","../../../projects/mu-browser/src/lib/ui/router/trackable-screen.ts","../../../projects/mu-browser/src/lib/ui/router/shared-router-constants.ts","../../../projects/mu-browser/src/lib/ui/mu-components/alert-dialog/alert-dialog.component.ts","../../../projects/mu-browser/src/lib/ui/router/ui-router.ts","../../../projects/mu-browser/src/lib/ui/mu-components/injection-base.ts","../../../projects/mu-browser/src/lib/ui/mu-components/bottom-in/bottom-in.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/modal-popup/modal-popup.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/loading/loading-overlay/loading-overlay.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/translate/mu-lang-en.ts","../../../projects/mu-browser/src/lib/ui/mu-components/translate/mu-dictionary.ts","../../../projects/mu-browser/src/lib/ui/mu-components/translate/translations.ts","../../../projects/mu-browser/src/lib/ui/mu-components/translate/translate.service.ts","../../../projects/mu-browser/src/lib/ui/mu-components/filter/filter.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/mu-components-routing.module.ts","../../../projects/mu-browser/src/lib/ui/mu-components/translate/translate.pipe.ts","../../../projects/mu-browser/src/lib/ui/mu-components/custom-breakpoints.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/nc-autofocus.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/nc-maxlength.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/longpress.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/nc-style-class.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/adjust-elements.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/nc-fallback-char.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/keyboard.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/next-inp-focus.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/nc-allow-single-click.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/nc-img-fallback.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/validate-img.directive.ts","../../../projects/mu-browser/src/lib/ui/mu-components/pipes/generic.pipe.ts","../../../projects/mu-browser/src/lib/ui/mu-components/pipes/extract-mobile-no.pipe.ts","../../../projects/mu-browser/src/lib/ui/mu-components/pipes/currency.pipe.ts","../../../projects/mu-browser/src/lib/ui/mu-components/drop-down-multi-select/drop-down-multi-select.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/loading/loading.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/loading/loading-error/loading-error.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/toast/toast.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/infinite-scroll/infinite-scroll.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/input-container/input-validator.ts","../../../projects/mu-browser/src/lib/ui/mu-components/file-upload/file-upload.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/input-container/input-container.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/dialer/dialer.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/mu-form-container/mu-form-container.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/mu-data-table/mu-data-table.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/keypad/keypad.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/page-not-found/page-not-found.component.ts","../../../projects/mu-browser/src/lib/ui/mu-components/directives/masking-value.directive.ts","../../../projects/mu-browser/src/lib/mu-browser.module.ts","../../../projects/mu-browser/src/lib/xmn/text-enc-dec.ts","../../../projects/mu-browser/src/lib/xmn/enc-provider-browser.ts","../../../projects/mu-browser/src/lib/xmn/ws-browser.ts","../../../projects/mu-browser/src/lib/xmn/xmn-router-browser.ts","../../../projects/mu-browser/src/lib/storage/user-key-value.ts","../../../projects/mu-browser/src/lib/storage/global-key-value.ts","../../../projects/mu-browser/src/lib/master/master-db.ts","../../../projects/mu-browser/src/lib/master/master.ts","../../../projects/mu-browser/src/lib/storage/storage-provider.ts","../../../projects/mu-browser/src/lib/storage/config-key-value.ts","../../../projects/mu-browser/src/lib/ui/router/routing-strategy.ts","../../../projects/mu-browser/src/lib/ui/router/location-nc.ts","../../../projects/mu-browser/src/lib/ui/router/routable-screen.ts","../../../projects/mu-browser/src/lib/ui/router/location-strategy.ts","../../../projects/mu-browser/src/lib/ui/mu-components/loading/api-state.ts","../../../projects/mu-browser/src/lib/ui/mu-components/cmn-inp-cont/cmn-inp-cont-interfaces.ts","../../../projects/mu-browser/src/lib/animations/nav-transition.ts","../../../projects/mu-browser/src/lib/animations/bottom-fly-in.ts","../../../projects/mu-browser/src/lib/xmn/xmn-router-base.ts","../../../projects/mu-browser/src/lib/framework/constants.ts","../../../projects/mu-browser/src/lib/framework/bridge/native-constants.ts","../../../projects/mu-browser/src/lib/framework/bridge/web-api.ts","../../../projects/mu-browser/src/lib/framework/bridge/web-bridge.ts","../../../projects/mu-browser/src/lib/framework/bridge/mu-bridge.ts","../../../projects/mu-browser/src/lib/framework/bridge/sdk-bridge.ts","../../../projects/mu-browser/src/lib/framework/router-app.ts","../../../projects/mu-browser/src/lib/framework/analytics/analytics-event.ts","../../../projects/mu-browser/src/lib/framework/analytics/analytics-screen-info.ts","../../../projects/mu-browser/src/lib/framework/analytics/analytics-event-logger.ts","../../../projects/mu-browser/src/lib/framework/analytics/analytics-screen-manager.ts","../../../projects/mu-browser/src/lib/framework/ui-router/mu-ui-router.ts","../../../projects/mu-browser/src/lib/framework/app-ui-event.ts","../../../projects/mu-browser/src/lib/jest-rc-browser.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MuBrowser {\n\n  constructor() { }\n}\n","/*------------------------------------------------------------------------------\n   About        : <Write about the file here>\n   \n   Created on   : Sat Jul 15 2017\n   Author       : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { RunContextBrowser, \n         LOG_LEVEL }          from '../rc-browser'\n\nexport const EVENT_PREFIX = 'mui-event'\n\nexport namespace EventSystem {\n\n  export function broadcast(rc: RunContextBrowser, eventName: string, data ?: object) {\n\n    data = data || {}\n\n    const fullName = eventName.startsWith(EVENT_PREFIX) ? `${eventName}` : `${EVENT_PREFIX}-${eventName}`,\n          nodeList = document.querySelectorAll('.' + fullName),\n          event    = new CustomEvent(fullName, {detail: {data, rc}})\n\n    for (let index = 0; index < nodeList.length; index++) {\n      const element = nodeList[index]\n      element.dispatchEvent(event)\n    }\n\n    window.dispatchEvent(event)\n\n    rc.isStatus() && rc.status('EventSystem.broadcast', 'Completed broadcast of', \n      fullName, 'to', nodeList.length, 'dom element(s) and to global components via window')\n  }\n\n  export function eventToElements(rc: RunContextBrowser, eventName: string, \n                    elementClassName: string, data : object) {\n\n    const fullName = eventName.startsWith(EVENT_PREFIX) ? `${eventName}` : `${EVENT_PREFIX}-${eventName}`,\n          nodeList = document.querySelectorAll('.' + elementClassName),\n          event    = new CustomEvent(fullName, {detail: {data, rc}})\n\n    for (let index = 0; index < nodeList.length; index++) {\n      const element = nodeList[index]\n      element.dispatchEvent(event)\n    }\n\n    rc.isStatus() && rc.status('EventSystem.eventToElement', 'Completed event dispatch of', \n      fullName, 'to', nodeList.length, 'dom element(s)')\n  }\n\n  // Allows subscription of event for an element (when Angular syntax cannot be used)\n  // UnSubscribe is automatic on element destroy\n  export function elementSubscribe(element: HTMLElement, eventName: string, cb: any) {\n    if (!eventName.startsWith(EVENT_PREFIX)) eventName = `${EVENT_PREFIX}-${eventName}`\n\n    const classes = element.className.split(' ')\n    if (classes.indexOf(eventName) === -1) {\n      classes.push(eventName)\n      element.className = classes.join(' ')\n    } else {\n      element.removeEventListener(eventName, cb)\n    }\n    element.addEventListener(eventName, cb)\n  }\n\n  // Any class whose object is globally alive in the app should use this \n  // since it does not unsubscribe for the events\n  // UnSubscribe is ********* NEVER *********\n  export function subscribe(eventName: string, cb: any, options ?: AddEventListenerOptions) {\n    if (!eventName.startsWith(EVENT_PREFIX)) eventName = `${EVENT_PREFIX}-${eventName}`\n    window.addEventListener(eventName, cb,options)\n  }\n\n  export function subscribeAll(eventNames : string[], cb : any) {\n    eventNames.forEach((eventName) => {\n      if (!eventName.startsWith(EVENT_PREFIX)) eventName = `${EVENT_PREFIX}-${eventName}`\n        window.addEventListener(eventName, cb.bind(null , eventName))\n    })\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Tue Jul 25 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport {\n  Mubble\n} from '@mubble/core'\n\nconst QUICK_ANIM_MS     = 'none' // (1000/60) + 'ms'\n\nexport class DomHelper {\n\n  static addClass(className: string): void {\n\n  }\n\n  static getTransform(xPixel: number, yPixel: number, zPixel: number): Mubble.uObject<string> {\n    return {transform: `translate3d(${xPixel}px, ${yPixel}px, ${zPixel}px)`}\n  }\n\n  static getPercentTransform(xPercent: number, yPercent: number): Mubble.uObject<string> {\n    return {transform: `translate3d(${xPercent}%, ${yPercent}%, 0)`}\n  }\n  \n  static setTransform(elem, xPixel, yPixel, zPixel): void {\n    elem.style.transform = DomHelper.getTransform(xPixel, yPixel, zPixel).transform\n  }\n\n  static setPercentTransform(elem, xPercent: number, yPercent: number): void {\n    elem.style.transform = DomHelper.getPercentTransform(xPercent, yPercent).transform\n  }\n  \n  static getQuickAnim(): string {\n    return QUICK_ANIM_MS\n  }\n}","import Hashids from 'hashids'\n\n/*------------------------------------------------------------------------------\n   About      : Utility class which makes use of HashIds for encrypting strings\n                to hashes using a pre determined key. https://hashids.org/\n   \n   Created on : Thur May 24 2018\n   Author     : Siddharth Garg\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nexport class HashidConverter {\n\n  static encodeString(key: string, str: string): string {\n\n    const hashids = new Hashids(key)\n    const charCodes = []\n    for (let i = 0; i < str.length; i++) {\n      const code = str.charCodeAt(i)\n      charCodes.push(code)\n    }\n\n    return hashids.encode(charCodes)\n  }\n\n  static decodeHashids(key: string, hashid: string): string {\n\n    const hashids = new Hashids(key)\n    const charCodes = hashids.decode(hashid)\n\n    let str = ''\n    charCodes.forEach((charCode) => {\n      str += String.fromCharCode(charCode)\n    })\n\n    return str\n  }\n}","/*------------------------------------------------------------------------------\n   About      : Class responsible for playing audio files in the app.\n   \n   Created on : Sat Sep 02 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Mubble }                     from '@mubble/core'\nimport { RunContextBrowser }          from '../rc-browser'\n\nclass AudioFile {\n\n  constructor(public fileName: string, public volume ?: number) {\n    this.fileName = 'sounds/' + fileName\n    this.volume   = volume || .8\n  }\n}\n\nexport class AudioPlayer {\n\n  readonly SELECT = new AudioFile('select.mp3', 0.4)\n  \n  private audioMap: Mubble.uObject<HTMLAudioElement> = {}\n\n  constructor(private rc : RunContextBrowser) {\n    this.rc.setupLogger(this, 'AudioFile')\n  }\n\n  play(file: AudioFile) {\n\n    let control: HTMLAudioElement = this.audioMap[file.fileName] \n    if (!control) {\n      control = this.audioMap[file.fileName] = new Audio(file.fileName)\n      control.load()\n      control.volume = file.volume\n    } else {\n      const isPlaying = control.currentTime > 0 && !control.paused && !control.ended && control.readyState > 2\n      if (isPlaying) {\n        control.pause()\n        control.currentTime = 0\n      }\n    }\n\n    try {\n      control.play()\n    } catch (err) {\n      this.rc.isError() && this.rc.error(this.rc.getName(this), {fileName: file.fileName}, err)\n    }\n  }\n}","export class BoundedValue {\n\n  public  value     : number\n  private elemDirUp : boolean\n  private contDirUp : boolean\n\n  private elemLow   : number\n  private elemHigh  : number\n  private contLow   : number\n  private contHigh  : number\n\n  constructor(initState       : number,\n              finalState      : number,\n\n              contInitState   : number,\n              contFinalState  : number) {\n \n    // for the element\n    this.value        = initState\n    this.elemDirUp    = (initState < finalState)\n\n    this.elemLow      = this.elemDirUp ? initState : finalState\n    this.elemHigh     = this.elemDirUp ? finalState : initState\n\n    // for the controller\n    this.contDirUp    = (contInitState < contFinalState)\n    this.contLow      = this.contDirUp ? contInitState  : contFinalState\n    this.contHigh     = this.contDirUp ? contFinalState : contInitState\n\n  }\n\n  compute(contValue): boolean {\n\n    const oldValue = this.value\n\n    if (contValue <= this.contLow) {\n      this.value = this.elemDirUp ? this.elemLow : this.elemHigh\n    } else if (contValue >= this.contHigh) {\n      this.value = this.elemDirUp ? this.elemHigh : this.elemLow\n    } else {\n        \n      const totalDiff = this.contHigh - this.contLow,\n            thisDiff  = contValue - this.contLow,\n            elemDiff  = this.elemHigh - this.elemLow \n\n      if (this.elemDirUp) {\n        this.value = this.elemLow + elemDiff * thisDiff / totalDiff\n      } else {\n        this.value = this.elemHigh - elemDiff * thisDiff / totalDiff\n      }\n    }\n\n    return this.value !== oldValue\n  }\n\n  getDecimalValue(digitsAfterDecimal ?: number) {\n    return Number(this.value.toFixed(digitsAfterDecimal || 0))\n  }\n\n  isCloserToInit() {\n    const lowDiff   = this.value - this.elemLow,\n          highDiff  = this.elemHigh - this.value\n\n    if (lowDiff < highDiff) {\n      return this.elemDirUp\n    } else {\n      return !this.elemDirUp\n    }\n  }\n\n}","export class MultiStepValue {\n\n  public currentIndex : number = 0\n  public currentValue : number = 0\n\n  private maxVal      : number\n  private tolerance   : number = 0\n\n  constructor(private minVal    : number, \n              private viewSize  : number, \n              private count     : number ,\n              private applyTol  ?: boolean,\n              private quickMove ?: boolean) {\n\n    this.maxVal   = minVal + viewSize * ( count - 1 ) // -1 is done so that last item is displayed in view\n    if (applyTol) this.tolerance = viewSize * .25\n  }\n\n  transition(delta: number): number {\n    \n    const newValue = this.currentValue - delta\n\n      if (newValue < this.minVal - this.tolerance) return this.minVal - this.tolerance\n      if (newValue > this.maxVal + this.tolerance) return this.maxVal + this.tolerance\n\n    return newValue\n  }\n\n  updateViewSize(viewSize : number) {\n    this.viewSize     = viewSize\n    const maxVal      = this.minVal + this.viewSize * ( this.count - 1 )\n    this.currentValue = (this.currentValue * maxVal) / this.maxVal\n    this.maxVal       = maxVal\n\n  }\n\n  updateCount(count : number) {\n    this.count  = count\n    this.maxVal = this.minVal + this.viewSize * ( count - 1 )\n  }\n\n  final(delta: number, speed: number, quickRatio ?: number): void {\n   \n    const newValue    = this.transition(delta),\n          chgNeeded   = (speed >= .2 ? .1 : .25) * this.viewSize,\n          lowerBound  = this.currentIndex * this.viewSize + this.minVal\n\n    let newIndex\n    \n\n    if (delta > 0) { // trying to reduce index\n\n      if (this.quickMove) {\n        newIndex = (quickRatio && quickRatio > 0) ? Math.round(quickRatio * this.count) : Math.ceil((lowerBound- newValue)/this.viewSize)\n      }\n      \n      if ((lowerBound  - newValue) >= chgNeeded) {\n\n        this.currentIndex -= this.quickMove ? newIndex : Math.abs(Math.ceil((lowerBound  - newValue)/this.viewSize))\n\n        if (this.currentIndex < 0) {\n          this.currentIndex = 0\n        }\n        this.currentValue = this.currentIndex * this.viewSize + this.minVal\n      }\n\n    } else {\n      if (this.quickMove) {\n        newIndex = (quickRatio && quickRatio > 0) ? Math.round(quickRatio * this.count) : Math.ceil((newValue - lowerBound)/this.viewSize)\n      }\n      if ((newValue - lowerBound) >= chgNeeded) {\n        \n        this.currentIndex += this.quickMove ? newIndex : Math.ceil((newValue - lowerBound)/this.viewSize)\n        if (this.currentIndex >= this.count) {\n          this.currentIndex = this.count - 1\n        }\n        this.currentValue = this.currentIndex  * this.viewSize + this.minVal\n      } \n    }\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : Url sanitizer\n   \n   Created on : Sat Nov 03 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\nimport { HashidConverter } from './hashid-converter'\n\n\n\nexport class UrlHelper {\n\n  static getUrlParams(genericUrl: string) {\n\n    const idx = genericUrl.indexOf('?')\n    if (idx === -1) return null\n\n    const url = genericUrl.substring(idx+1)\n    const queries = url.split('&')\n    const params = {}\n\n    for (let i = 0; i < queries.length; i++) {\n      const split = queries[i].split('=')\n      params[split[0]] = split[1]\n    }\n\n    return params\n  }\n\n  static decodeStringFromHashids(key: string, hashids: string): string {\n    return HashidConverter.decodeHashids(key, hashids)\n  }\n\n  static encodeStringAsHashids(key: string, hashids: string): string {\n    return HashidConverter.encodeString(key, hashids)\n  }\n\n\n}","import { Mubble, \n         expandTemplate,\n         expandTemplateObj,\n         XmnError,\n         NetworkType\n       }                        from '@mubble/core'\nimport { UrlHelper }            from './url-helper'\nimport { RunContextBrowser }    from '../rc-browser'\nimport { TranslateService } from '../ui'\n\nexport class MuUtility {\n\n\n  isOfTypeUiError(errObj : Object) : errObj is {errorCode  : string, errorMessage ?: string} {\n    return errObj.hasOwnProperty('errorCode')\n  }\n\n  isNetworkUnhealthy(rc: RunContextBrowser) {\n\n    if (rc.bridge.isRunningInBrowser()) {\n      return !navigator.onLine \n    } else {\n      const netType = rc.bridge.getCordovaNetworkType()\n      return netType === NetworkType.absent || \n            (netType === NetworkType.unknown && !navigator.onLine)\n    }\n  }\n\n  isValidIndianMobNum(number: string): boolean {\n\n    number = this.sanitizeNumber(number) \n    return new RegExp('^\\\\+91[9876]\\\\d{9}$').test(number)\n  }\n\n  \n  get10digitMobNumber(number: string) {\n\n    const num = this.sanitizeNumber(number)\n\n    if (num.startsWith('+91')) return num.substring(3)\n    if (num.startsWith('91')) return num.substring(2)\n    else if (num.startsWith('0')) return num.substring(1)\n    else return num\n  }\n\n  sanitizeNumber(number: string): string {\n\n    let temp: string = number\n    if (!temp) return null\n\n    const startsWithPlus = temp.startsWith('+91')\n    if (startsWithPlus) return temp\n\n    // check for indian or international i.e. 0 or 00\n    if (temp.startsWith('0')) {\n      temp = temp.substring(1)\n\n      if (temp.startsWith('0')) {\n        return '+' + temp.substring(1)\n      } else if (temp.length === 10) {\n        return '+91' + temp\n      } else {\n        return '0' + temp\n      }\n\n      // 10 digit mobile/landline number case return with +91\n    } else if (temp.length == 10) {\n      return '+91' + temp\n    }\n\n    return temp\n  }\n\n\n  getNetworkType(rc: RunContextBrowser) {\n    return rc.bridge.isRunningInBrowser() \n      ? navigator.onLine ? NetworkType.wifi : NetworkType.absent \n      : rc.bridge.getCordovaNetworkType() \n  }\n\n  getErrorText(rc: RunContextBrowser, transServ: TranslateService, errorMessage: string): string {\n\n    let errorText: string\n    switch(errorMessage) {\n\n      case XmnError.NetworkNotPresent:\n        errorText = transServ.instant('cmn_toast_err_net_off')\n        break\n\n      case XmnError.ConnectionFailed:\n        if (this.isNetworkUnhealthy(rc)) {\n          errorText = transServ.instant('cmn_toast_err_net_off')\n        } else {\n          errorText = transServ.instant('cmn_toast_err_con_failed')\n        }\n        break\n\n      case XmnError.RequestTimedOut:\n      case XmnError.SendTimedOut:\n        errorText = transServ.instant('cmn_toast_err_timeout')\n        break\n      \n      default:\n        errorText = transServ.instant('cmn_toast_err_unknown')\n    }\n    return errorText\n  }  \n\n\n  getLocation(rc: RunContextBrowser) {\n\n    if (rc.bridge.isRunningInBrowser()) {\n\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          return JSON.stringify({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          })\n        })\n      } else {\n        return '{}'\n      }\n\n    } else {\n      return rc.bridge.getLocation()\n    }\n  }\n\n\n  expandTemplate(template: string, data: Mubble.uObject<any>): string {\n    return expandTemplate(template, data)\n  }\n\n  expandTemplateObj(templateObj: any, data: Mubble.uObject<any>): any {\n    return expandTemplateObj(templateObj, data)\n  }\n  \n  parseURLForRouter(parser: any) {\n\n    if (parser.protocol !== 'http' || parser.protocol !== 'https') {\n      parser.href = parser.href.replace(/.*\\:\\/\\//, 'http://')\n    }\n\n    const searchObject = {},\n          queries      = parser.search.replace(/^\\?/, '').split('&')\n    \n    for(let i = 0; i < queries.length; i++ ) {\n      if (!queries[i]) continue\n      const split = queries[i].split('=');\n      searchObject[split[0]] = decodeURIComponent(split[1])  \n    }\n\n    const pathname = parser.pathname.startsWith('/') \n      ? parser.pathname.substring(1) \n      : parser.pathname\n\n    return {\n        protocol      : parser.protocol,\n        host          : parser.host,\n        hostname      : parser.hostname,\n        port          : parser.port,\n        pathname      : pathname,\n        search        : parser.search,\n        searchObject  : searchObject,\n        hash          : parser.hash\n    }\n  }\n\n  getUrlParams(genericUrl: string) {\n    return UrlHelper.getUrlParams(genericUrl)\n  }\n  \n  getErrorScreenState(errorMessage: string): string {\n    \n    let errorCode: string\n    switch(errorMessage) {\n\n      case XmnError.NetworkNotPresent:\n        errorCode = 'NoNet'\n        break\n\n      case XmnError.ConnectionFailed:\n        errorCode = 'ConnFail'\n        break\n\n      case XmnError.RequestTimedOut:\n      case XmnError.SendTimedOut:\n        errorCode = 'TimedOut'\n        break\n\n      case XmnError.UnAuthorized:\n        errorCode = 'UnAuthorized'\n\n      default:\n        errorCode = errorMessage.substring(0, Math.min(32, errorMessage.length))\n    }\n    return errorCode\n  }\n\n  async getBase64(file : any) {\n    \n    return new Promise((resolve, reject) => {\n\n      const reader = new FileReader()\n      reader.readAsDataURL(file)\n      reader.onload = () => resolve(reader.result as string)\n      reader.onerror = error => reject(error)\n    })\n\n  }\n\n  async getCheckSum(message : string)  {\n\n    const encoder   = new TextEncoder(),\n          data      = encoder.encode(message),\n          buffer    = await window.crypto.subtle.digest('SHA-256', data),\n          hexString = this.hexString(buffer)\n    \n    return hexString\n  }\n\n  hexString(buffer : ArrayBuffer) {\n\n    const byteArray = new Uint8Array(buffer)\n\n    let hexCode = '',\n        value\n\n    for (let i = 0; i < byteArray.length; i++) {\n      value    = byteArray[i].toString(16),\n      hexCode += (value.length === 1 ? '0' + value : value)\n    }\n    return hexCode\n  }\n\n  async getCompressedImage(file : any, changeOrientation : boolean  = false) {\n\n    return new Promise((resolve, reject) => {\n      \n      const reader = new FileReader()\n      reader.readAsDataURL(file)\n      reader.onload = (readerEvent : any) => {\n\n        const image = new Image()\n        image.src = readerEvent.target.result\n      \n        image.onload = (imageEvent : any) => {\n          \n          const exif  = window['EXIF']\n\n          if (exif) {\n            exif.getData(file, () =>  {\n              const orientation = changeOrientation ? file.exifdata.Orientation : undefined\n              return resolve(this.getCanvasImage(image, orientation))\n            })\n          } else {\n            return resolve(this.getCanvasImage(image))\n          }\n        }\n      }\n      reader.onerror = error => reject(error)\n    })\n  }\n\n  getCanvasImage(image : any, orientation ?: number) {\n\n    const canvas  = document.createElement('canvas'),\n          ctx     = canvas.getContext('2d'),\n          maxSize = 800\n                  \n    let width = image.width,\n        height = image.height;\n\n    if (width > height) {\n      if (width > maxSize) {\n        height *= maxSize / width\n        width   = maxSize\n      }\n    } else if (height > maxSize) {\n      width *= maxSize / height\n      height = maxSize\n    }\n              \n    canvas.width  = width\n    canvas.height = height\n\n    if (orientation) {\n      if (orientation > 4) {\n        canvas.width  = height; \n        canvas.height = width;\n      }\n      switch (orientation) {\n        case 2: ctx.translate(width, 0);     ctx.scale(-1,1); break;\n        case 3: ctx.translate(width,height); ctx.rotate(Math.PI); break;\n        case 4: ctx.translate(0,height);     ctx.scale(1,-1); break;\n        case 5: ctx.rotate(0.5 * Math.PI);   ctx.scale(1,-1); break;\n        case 6: ctx.rotate(0.5 * Math.PI);   ctx.translate(0,-height); break;\n        case 7: ctx.rotate(0.5 * Math.PI);   ctx.translate(width,-height); ctx.scale(-1,1); break;\n        case 8: ctx.rotate(-0.5 * Math.PI);  ctx.translate(-width,0); break;\n      }\n\n    }\n    \n    ctx.drawImage(image, 0, 0, width, height)\n    ctx.restore()\n\n    const backgroundColor     = 'white'\n    const compositeOperation  = ctx.globalCompositeOperation\n    \n\t\tctx.globalCompositeOperation = \"destination-over\"\n\n\t\tctx.fillStyle = backgroundColor\n    ctx.fillRect(0,0,width,height)\n    ctx.globalCompositeOperation = compositeOperation\n\n\n    const resizedImage = canvas.toDataURL('image/jpeg', 0.7)\n    return resizedImage\n  \n  }\n \n  //base64 without mime type\n  getBase64Size(base64 : string) {\n\n    const slicedBase64  = base64.includes('base64') ? base64.split(',')[1] : base64\n\n    let padding = 0\n    if (slicedBase64.endsWith('==')) {\n      padding = 2\n    } else if (slicedBase64.endsWith('=')) {\n      padding = 1\n    }\n\n    const size  = (slicedBase64.length * (0.75)) - padding\n    return (size/1024)\n\n  }\n\n  // used to create a url with params\n  createNavUrl(url : string, object : Mubble.uObject<any>) : string {\n\n    const navUrl  = url.split('?')[0],\n          tempUrl = url.split('?')[1],\n          urlObj  = JSON.parse('{\"' + decodeURI(tempUrl).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g,'\":\"') + '\"}')\n\n    for (let key of Object.keys(urlObj)) {\n      if(key in object){\n        urlObj[key] = object[key]\n      }\n    }\n\n    const completeUrl = navUrl + '?' + Object.keys(urlObj).map(key => key + '=' + urlObj[key]).join('&')\n    return completeUrl\n  }\n}","/*------------------------------------------------------------------------------\n   About      : Class to manage the data of the mu-data table durig lazy load\n   \n   Created on : Thu Nov 07 2019\n   Author     : Pulkit Chaturvedi\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Mubble }                   from '@mubble/core'\nimport { MuDataTableComponent, \n         TableConfig \n       }                            from '../ui/mu-components/mu-data-table/mu-data-table.component'\n\nexport interface TableDataMgrListener {\n  loadMore(lastIndex : number) : void\n}\n\nexport interface TableDataManagerParams {\n  data      : Array<Object>\n  lastIndex : number\n} \n\nexport class TableDataManager {\n\n  private dataParams      : TableDataManagerParams = { } as TableDataManagerParams\n  private dispRows        : number\n  private totalDataCount  : number\n  private currentKeyIndex : number = 0\n  private lastKeyIndex    : number\n  private pendingRequest  : boolean\n  private dataObject      : Mubble.uObject<any> = { }\n\n  constructor (private parentInst  : TableDataMgrListener,\n               public  tableInst   : MuDataTableComponent) { }\n\n  /**\n  * Method to get the table config and get the dispRows and totalDataCount and data\n  * @param tableConfig : To set the table config in the data table\n  */\n  init(tableConfig : TableConfig, lastIndex : number) {\n    this.dataParams.data = []\n    this.dispRows        = tableConfig.dispRows || 0\n    this.totalDataCount  = tableConfig.totalRecords || 0\n\n    const params : TableDataManagerParams = {\n      lastIndex     : lastIndex,\n      data          : tableConfig.data\n    }\n\n    const data : Array<Object> = tableConfig.data.slice(0, this.dispRows)\n    tableConfig.data = data\n\n    // this.tableInst.setTableConfig(tableConfig)\n    this.updateData(params)\n  }\n\n  /**\n  * parent will populate the data, moreAvailable and lastIndex in this method\n  * @param params : Updating the params by the parent so  that the data can be populated into the manager\n  */\n  updateData(params : TableDataManagerParams) {\n\n    this.dataParams.data = params.data\n    this.dataParams.lastIndex = params.lastIndex\n\n    this.mapData(0)\n  }\n\n  /**\n  * mapping the data into the data object\n  * @param index : Index to set as key in the data object\n  */\n  private mapData(index : number) {\n    let addingIndex : number = this.currentKeyIndex \n    while (addingIndex < this.dataParams.lastIndex) {\n      if (this.dataObject[addingIndex] && this.dataObject[addingIndex].length === this.dispRows) {\n        addingIndex += this.dispRows \n        continue\n      }\n\n      this.dataObject[addingIndex] = this.dataParams.data.slice(index, (this.dispRows + index))\n      index       += this.dispRows \n      addingIndex += this.dispRows\n    }\n\n    if (this.pendingRequest) this.setTableData()\n  }\n\n  /**\n  * Calls table instance function to set table data\n  * (calls TableDataMgrListener's loadMore if data is not present)\n  */\n  setTableData(index ?: number) {\n\n    if (index >= 0) this.currentKeyIndex = index\n\n    const keys = Object.keys(this.dataObject)\n\n    const dataKey = keys.find((key) => {\n      return Number(key) === this.currentKeyIndex\n    })\n\n    if (dataKey) {\n      const data : Array<Object> = this.dataObject[dataKey]\n\n      if (data.length === this.dispRows || (this.totalDataCount - this.currentKeyIndex) < this.dispRows) {\n        // this.tableInst.setDisplayData(data)\n        this.lastKeyIndex = Number(dataKey)\n      } else {\n        const index : number = this.currentKeyIndex + data.length\n        this.parentInst.loadMore(index)\n        this.pendingRequest = true\n      }\n\n      return\n    }\n\n    this.parentInst.loadMore(this.currentKeyIndex)\n    this.pendingRequest = true\n  }\n\n  /**\n  * Call from parent, clears all the data inside the manager\n  */\n  clearData() {\n    this.totalDataCount   = 0\n    this.dispRows         = 0\n    this.currentKeyIndex  = 0\n    this.dataParams       = {} as TableDataManagerParams\n    this.dataObject       = {}\n    this.pendingRequest   = false\n  }\n\n  /**\n  * Method to update the data if parent wants to change any particular data in the data table\n  * @param data : data on which the action should be done\n  * @param index : index where the data is present\n  */\n  updateDataStatus(data : Mubble.uObject<any>, index : number) {\n    const dataIndex : number = index - this.currentKeyIndex\n    this.dataObject[this.currentKeyIndex][dataIndex] = data\n    this.setTableData()\n  }\n\n  /**\n  * Method called by parent when error occur in parent\n  */\n  errorOccur() {\n    this.pendingRequest   = false\n    this.currentKeyIndex  = this.lastKeyIndex\n    // this.tableInst.onUiError()\n    this.setTableData()\n  }\n\n  /**\n  * Method called by parent \n  * user selects different data in the data table to pass whether the data should be selectable or not\n  * @param data : To select the data in the data table\n  */\n  setSelectableData(data : Array<Object>) {\n    // this.tableInst.setSelectedItems(data)\n  }\n}","/*------------------------------------------------------------------------------\n   About      : Performance measurement for multi-step tasks\n   \n   Created on : Thu Jul 27 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { format,\n         Mubble \n       }          from '@mubble/core'\nimport { sortBy } from 'lodash'\nconst CYCLE_STEP = '_cycle_'\n\nexport class PerformanceMetrics {\n\n  private startTs: number\n\n  private cycles: Cycle[] = []\n  private cycle: Cycle\n\n  constructor(private taskName: string) {\n    this.startTs = this.now()\n  }\n\n  public startStep(stepName: string) {\n\n    const now = this.now()\n\n    if (!this.cycle || this.cycle.stepMap[stepName]) {\n\n      if (this.cycle) {\n        this.cycle.endTs = now\n        this.cycles.push(this.cycle)\n      }\n\n      this.cycle = new Cycle(this.cycles.length, now, stepName)\n\n    } else {\n      this.cycle.stepMap[stepName] = new Step(now)\n    }\n  }\n\n  public endStep(stepName: string) {\n\n    const step = this.cycle.stepMap[stepName]\n\n    if (!step) {\n      console.error(stepName, 'ended without start for', this.taskName)\n      return\n    }\n\n    step.endTs = this.now()\n  }\n\n  public finish() {\n\n    const now     = this.now(),\n          output  = {\n            task        : this.taskName, \n            totalMs     : now - this.startTs,\n            cycleCount  : this.cycles.length,\n            cyclePerf   : new ResultEntry(),\n            stepPerf    : {} as Mubble.uObject<ResultEntry>\n          }\n\n    if (this.cycle) {\n      this.cycle.endTs = now\n      this.cycles.push(this.cycle)\n    }\n\n    for (let index = 0; index < this.cycles.length; index++) {\n      \n      const cycle = this.cycles[index]\n      output.cyclePerf = this.markEntry(cycle.endTs - cycle.startTs, index, output.cyclePerf)\n\n      for (const stepName in cycle.stepMap) {\n        const step = cycle.stepMap[stepName],\n              perf = output.stepPerf[stepName]\n\n        if (!step.endTs) {\n          console.error('You forgot to call endStep for ' + stepName + ' for cycle index:' + index)\n          continue\n        }\n        output.stepPerf[stepName] = this.markEntry(step.endTs - step.startTs, index, perf)\n      }\n    }\n    \n    console.info('Result summary ', output)\n    \n    let marks: Cycle[]  = []\n    this.logEntry('all cycles', output.cyclePerf, marks)\n\n    for (const stepName in output.stepPerf) {\n      this.logEntry(stepName, output.stepPerf[stepName], marks)\n    }\n    \n    marks = sortBy(marks, 'startTs')\n    console.info('Highlighted cycles (having min/max cycle/step time) >>')\n    for (const mark of marks) {\n      console.info(mark.toString())\n    }\n    console.info('all cycles to deep dive >>', this.cycles)\n  }\n\n  private markEntry(ts: number, index: number, entry: ResultEntry): ResultEntry {\n\n    entry = entry || new ResultEntry()\n\n    if (entry.min > ts) {\n      entry.min     = ts\n      entry.minIdx  = index\n    }\n    \n    if (entry.count && entry.max < ts) {\n      entry.max     = ts\n      entry.maxIdx  = index\n    }\n\n    entry.total += ts \n    entry.count++\n\n    return entry\n  }\n\n  private now() {\n    return performance ? performance.timing.navigationStart + performance.now() : Date.now()\n  }\n\n  private logEntry(name: string, entry: ResultEntry, insertInto: Cycle[]) {\n\n    console.info(name + ' performance >> ' + entry)\n\n    if (entry.minIdx !== -1) {\n      const cycle = this.cycles[entry.minIdx]\n      if (insertInto.indexOf(cycle) === -1) insertInto.push(cycle)\n    }\n\n    if (entry.maxIdx !== -1) {\n      const cycle = this.cycles[entry.maxIdx]\n      if (insertInto.indexOf(cycle) === -1) insertInto.push(cycle)\n    }\n\n  }\n\n}\n\nclass BaseTime {\n\n  startTs : number\n  endTs   : number\n\n  constructor(startTs: number) {\n    this.startTs = startTs\n  }\n}\n\nclass Step extends BaseTime {\n\n}\n\nclass Cycle extends BaseTime {\n  index    : number\n  stepMap  : Mubble.uObject<Step>\n\n  constructor(index: number, now: number, step: string) {\n    super(now)\n    this.index = index\n    this.stepMap = {[step]: new Step(now)}\n  }\n\n  toString() {\n    const ts = this.endTs - this.startTs\n    return `Cycle(${this.index}) @ ${format(this.startTs, '%hh%:%mm%:%ss% %ms%')} timeTaken: ${ts.toFixed(3)}ms`\n  }\n}\n\nclass ResultEntry {\n\n  count   : number = 0\n  min     : number =  Number.MAX_SAFE_INTEGER\n  max     : number = -1\n  total   : number = 0\n  minIdx  : number = -1\n  maxIdx  : number = -1\n\n  toString() {\n\n    const average = this.count ? this.total / this.count : 0\n    return `minMs: ${this.min.toFixed(3)\n      } ${this.max !== -1 ? 'maxMs: ' + this.max.toFixed(3) : ''\n      } avgMs: ${average.toFixed(3)} count: ${this.count\n      } ${this.minIdx !== -1 ? 'minIdx: ' + this.minIdx : ''\n      } ${this.maxIdx !== -1 ? 'maxIdx: ' + this.maxIdx : ''}`\n  }\n}\n\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Mon Jun 19 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\n// To lock panning on axis, this threshold should be met, example if user moves 5 pixel in x, his movement\n// should be 1 pixel or below on y axis\nexport const THRESHOLD = .8\n\n// Gutter width: we support gutters on x axis. Gutter touches are reported as a separate callback\n// Gutter is always configured wrt to page dimensions, not component dimensions\nexport const GUTTER_WIDTH = 10\n\nexport interface NailConfig {\n  axisX          : boolean   // If you wish to support panning in horizontal axis\n  axisY          : boolean   // If you wish to support panning in vertical axis\n  threshold     ?: number    // default: THRESHOLD\n  gutterWidth   ?: number    // default: GUTTER_WIDTH\n  gutterLeft    ?: NailInterface\n  gutterRight   ?: NailInterface\n\n  // Dynamically settable values even at later stage via API\n  disallowLeft  ?: boolean\n  disallowRight ?: boolean\n}\n\n/*---------------------------------------------------------------------------------------------------\nAny component that uses nail must implement this interface\nEvent object passed here is actual DOM event. You should not try to see the event type as it may be \ntouch / pointer event. Also touchStart may actually be touchMove (after ascertaining the axis)\n\nAll events have\n  axis: AXIS\n\nThe Move Event also has\n  direction: DIRECTION\n  deltaX\n  deltaY\n\npanEnd/gutterEnd event also has:\n  speed\n----------------------------------------------------------------------------------------------------*/\n\n// Reported back along with change (delta) in panning event\nexport enum DIRECTION {\n  UP    = 1, // absolute direction wrt touch start, would mean that we are deltaY is negative\n  RIGHT = 2, // absolute direction wrt touch start, would mean that we are deltaX is positive\n  DOWN  = 4, // absolute direction wrt touch start, would mean that we are deltaY is positive\n  LEFT  = 8  // absolute direction wrt touch start, would mean that we are deltaX is negative\n}\n\n// Reported along with the event\nexport enum AXIS {\n  X     = 1,\n  Y     = 2\n}\n\nexport interface NailInterface {\n\n  // Rarely used callback to know when touchStart begins, this is different from panStart\n  // as onPanStart is fired when the movement has been ascertained\n  onTouchStart?(event: any): void\n\n  // This event is sent when touch start is ascertained based on threshold values\n  onPanStart?(event: any): void\n\n  // Notification on pan move. Return false if you did not use the event,\n  // this helps in passing the event further down in system to other components and \n  // may help in scrolling etc.\n  onPanMove(event: any): boolean\n\n  // This event is sent when touch end or touch cancel happens for an started event\n  onPanEnd(event: any): void\n\n  // Used along with onTouchStart, either onTouchEnd or onPanEnd will be called\n  onTouchEnd?(event: any): void\n\n  // This function is just a convenience function for doing css work in requestAnimationFrame\n  // On onPanStart and onPanMove can call nail.requestAnimation, which results into a callback\n  // to this. Please note this is called only when a valid touchSession exists (already ascertained)\n  onPanAnimate?(...animateParam: any[]): void\n}\n\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Mon Apr 17 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\nimport { RunContextBase, \n         RUN_MODE,\n         LOG_LEVEL,\n         InitConfig,\n         RunState,\n         RCLoggerBase\n       }                          from '@mubble/core'\n\nimport { GlobalKeyValue,\n         UserKeyValue,\n         ConfigKeyVal\n       }                          from './storage'\nimport { AudioPlayer }            from './util'\nimport { MuUtility }              from './util/utility'\nimport { MuRouterApp }            from './framework/router-app'\nimport { MuBridge }               from './framework'\nimport { AnalyticsEventLogger }   from './framework/analytics'\nimport { MuUiRouter }             from './framework/ui-router'\n\nconst CONSOLE_FN_MAP : ((message?: any, ...optionalParams: any[]) => void)[] = []\n\nCONSOLE_FN_MAP[LOG_LEVEL.DEBUG]   = console.log\nCONSOLE_FN_MAP[LOG_LEVEL.STATUS]  = console.info || console.log\nCONSOLE_FN_MAP[LOG_LEVEL.WARN]    = console.warn || console.log\nCONSOLE_FN_MAP[LOG_LEVEL.ERROR]   = console.error || console.log\n\nexport {LOG_LEVEL, RUN_MODE} from '@mubble/core'\n\nexport class InitConfigBrowser extends InitConfig {\n\n  constructor(runMode         : RUN_MODE,\n              logLevel        : LOG_LEVEL,\n              tzMin          ?: number | undefined) {\n\n    super(logLevel, logLevel !== LOG_LEVEL.NONE, tzMin)\n\n    if ((runMode === RUN_MODE.PROD || runMode === RUN_MODE.PRE_PROD) && logLevel !== LOG_LEVEL.NONE) {\n      console.log('You must turn off logging in production mode')\n    }\n  }\n\n}\n\nexport class RunStateBrowser extends RunState {\n}\n\nexport class RCBrowserLogger extends RCLoggerBase {\n  \n  constructor(public rc : RunContextBrowser) {\n    super(rc)\n  }\n\n  public logToConsole(level: LOG_LEVEL, logStr: string): void {\n    const fn: any = CONSOLE_FN_MAP[level]\n    fn.call(console, logStr)\n  }\n}\n\nexport abstract class RunContextBrowser extends RunContextBase {\n\n  public lang     : string\n  globalKeyVal    : GlobalKeyValue\n  userKeyVal      : UserKeyValue\n\n  router          : MuRouterApp\n  bridge          : MuBridge\n  gcConfigKeyVal  : ConfigKeyVal\n  userEvent       : AnalyticsEventLogger\n  uiRouter        : MuUiRouter\n  audio           : AudioPlayer\n  utils           : MuUtility\n\n  // Stores the old error handler\n  // private oldOnError    : any\n\n  protected constructor(public initConfig   : InitConfigBrowser,\n                        public runState     : RunStateBrowser,\n                        contextId          ?: string, \n                        contextName        ?: string) {\n    super(initConfig, runState, contextId, contextName)\n  }\n\n  preInit() {\n    super.init()\n    this.logger   = new RCBrowserLogger(this)\n  }\n\n\n\n\n  // Called only once in the lifetime of app during app load\n  // init() {\n  //   super.init()\n  //   this.lang       = Mubble.Lang.English\n  //   this.logger     = new RCBrowserLogger(this)\n\n  //   const storage       = new StorageProvider()\n  //   this.globalKeyVal   = new GlobalKeyValue(this, storage)\n  //   this.userKeyVal     = new UserKeyValue(this, storage)\n  //   this.gcConfigKeyVal = new ConfigKeyVal(this, storage)\n  //   this.audio          = new AudioPlayer(this)\n  //   this.utils          = new Utility()\n  //   // this.oldOnError = window.onerror\n  //   // window.onerror  = this.onError.bind(this)\n  // }\n\n  // clone(newRc : RunContextBrowser) {\n  //   super.clone(newRc)\n  // }\n\n  // This is not getting called as errors are caught by Angular or by core.js\n  // onError(msg: string, src: string, line: number, col: number, obj) {\n\n  //   try {\n  //     const errorObj = { msg, \n  //       source   : src + '[' + line + ':' + col + ']',\n  //       stack    : obj ? obj.stack : ''\n  //     }\n  //     this.isError() && this.error(this.getName(this), 'unhandled exception', errorObj)\n  //     if (this.oldOnError) this.oldOnError.apply(null, arguments)\n  //   } catch (e) {}\n\n  //   return false\n  // }\n}","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Mon Jun 19 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { PerformanceMetrics }       from '../../util'\nimport { Renderer2 }                from '@angular/core'\nimport { DIRECTION, \n         THRESHOLD,\n         GUTTER_WIDTH,\n         AXIS,\n         NailInterface, \n         NailConfig }               from './nail-interface'\nimport { RunContextBrowser, \n         LOG_LEVEL }                from '../../rc-browser'\n\nlet NEXT_SESSION_ID = 1\n\nclass TouchSession {\n\n  ignore        : boolean\n  startX        : number = -1 // indicates a uninitialized TouchSession\n  startY        : number\n  startTs       : number \n\n  lastX         : number\n  lastY         : number\n\n  ifNail        : NailInterface \n\n  axis          : AXIS\n  perf          : PerformanceMetrics\n  id            : number\n  \n  animateParam  : any[]\n  animHandle    : number\n  animSessionId : number\n\n  constructor() {\n    this.id = NEXT_SESSION_ID++\n  }\n}\n\n// later these will be configured by looking at dom capabilities\n\nconst TOUCH_EVENT = {\n  START   : 'touchstart',\n  MOVE    : 'touchmove',\n  END     : 'touchend',\n  CANCEL  : 'touchcancel'\n}\n\n// const TOUCH_EVENT = {\n//   START   : 'pointerdown',\n//   MOVE    : 'pointermove',\n//   END     : 'pointerup',\n//   CANCEL  : 'pointercancel'\n// }\n\nconst THRESHOLD_PIXELS      = 1\nconst MAX_THRESHOLD_PIXELS  = 10\nconst FAST_MIN_SPEED        = 2\nconst FAST_MAX_SPEED        = 8\n\nexport class Nail  {\n\n  private config        : NailConfig\n  private session       : TouchSession\n  private pageWidth     : number\n  private compName      : string\n  private measure       : boolean = false\n  private animateFn     : () => void\n  \n  private handlers: (()=>void)[] = []\n\n  constructor(private rc            : RunContextBrowser,\n              private element       : HTMLElement, \n              private appComponent  : NailInterface, \n              private renderer      : Renderer2, \n                      config        : NailConfig) {\n\n    rc.setupLogger(this, 'Nail', LOG_LEVEL.STATUS)\n    this.compName = appComponent.constructor ? appComponent.constructor.name : '?'\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), config.axisX || config.axisY, \n      'Nail needs to be configured for at least one axes')\n    \n    this.setConfig(config)\n    this.pageWidth = document.body.clientWidth\n\n    const panEventHandler = this.onNailEvent.bind(this)\n\n    this.handlers.push(renderer.listen(element, TOUCH_EVENT.START, panEventHandler),\n      renderer.listen(element, TOUCH_EVENT.MOVE, panEventHandler),\n      renderer.listen(element, TOUCH_EVENT.END, panEventHandler),\n      renderer.listen(element, TOUCH_EVENT.CANCEL, panEventHandler))\n\n    this.animateFn = this.onRunAnimation.bind(this)\n      \n    rc.isStatus() && rc.status(rc.getName(this), 'Nail events are being monitored for', \n      this.compName, 'with config', config)\n  }\n\n  public changeConfig(config) {\n    this.setConfig(config)\n    // See if we can create a DOM Event object ???? TODO\n    if (this.session) this.panEndEvent({type: 'simulatedPanEnd'})\n  }\n\n  public requestAnimate(...animateParam: any[]) {\n    if (this.session) {\n      this.session.animateParam = animateParam\n      if (this.session.animHandle) window.cancelAnimationFrame(this.session.animHandle)\n      this.session.animHandle     = window.requestAnimationFrame(this.animateFn)\n      this.session.animSessionId  = this.session.id\n    }\n  }\n\n  public setDirections(disallowLeft: boolean, disallowRight: boolean) {\n    this.config.disallowLeft  = disallowLeft\n    this.config.disallowRight = disallowRight\n  }\n\n  private setConfig(config) {\n\n    config.threshold   = config.threshold || THRESHOLD\n    config.gutterWidth = config.gutterWidth || GUTTER_WIDTH\n    \n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), config.threshold <= 1, \n      'Threshold cannot be more than 1')\n\n    this.config = config\n  }\n\n  onNailEvent(event:any) {\n\n    const session = this.session,\n          config = this.config\n\n    // console.log(event.type, 'with',  event.touches.length, 'touches')\n    // no axis is being monitored\n    if (!(this.config.axisX || this.config.axisY)) return\n\n    if (event.type === TOUCH_EVENT.START) {\n\n      if (event.touches && event.touches.length !== 1) return\n      if (this.session) this.panEndEvent({type: 'simulatedPanEnd'})\n        \n      this.session        = new TouchSession()\n      this.extractEventAttr(event)\n      \n      if (this.measure) {\n        this.session.perf = new PerformanceMetrics('nail-' + this.compName)\n      }\n\n      if (this.appComponent.onTouchStart) this.appComponent.onTouchStart(event)\n\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), this.compName, event.type,\n        'received')\n\n    } else if (event.type === TOUCH_EVENT.MOVE) {\n\n      if (!session || session.ignore) return\n      if (event.touches && event.touches.length !== 1) {\n        session.ignore = true\n        return\n      }\n      this.extractEventAttr(event)\n\n      const deltaX = session.lastX - session.startX,\n            deltaY = session.lastY - session.startY\n\n      if (!session.axis) { // we try to find if we can establish the direction of movement\n        if (this.measure) this.session.perf.startStep('ascertain')\n        const ascertained = this.ascertainDirection(event, deltaX, deltaY)\n        if (this.measure) this.session.perf.endStep('ascertain')\n        if (!ascertained) return\n      }\n\n      if (this.measure) this.session.perf.startStep(TOUCH_EVENT.MOVE)\n      event.axis   = session.axis\n        \n      if (session.axis === AXIS.X) {\n        event.deltaX    = deltaX\n        event.deltaY    = 0\n        event.direction = deltaX > 0 ? DIRECTION.RIGHT : DIRECTION.LEFT\n      } else {\n        event.deltaX    = 0\n        event.deltaY    = deltaY\n        event.direction = deltaY > 0 ? DIRECTION.DOWN : DIRECTION.UP\n      }\n\n      if (this.measure) this.session.perf.startStep('onPanMove')\n      const consumed =  session.ifNail.onPanMove(event)\n      if (this.measure) this.session.perf.endStep('onPanMove')\n\n      if (this.measure) this.session.perf.endStep(TOUCH_EVENT.MOVE)\n      if (consumed) {\n        this.rc.isDebug() && this.rc.debug(this.rc.getName(this), this.compName, event.type,\n          'consumed event', {deltaX, deltaY, eventY: event.deltaY, session})\n          \n        event.preventDefault()\n        event.stopPropagation()\n        \n        return true\n\n      } else {\n        this.rc.isDebug() && this.rc.debug(this.rc.getName(this), this.compName, event.type,\n          'ignored event', {deltaX, deltaY, eventY: event.deltaY, session})\n      }\n\n    } else { // end or cancel event\n\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), this.compName, event.type,\n        'received')\n\n      if (this.session) this.panEndEvent(event)\n    }\n  }\n\n  private panEndEvent(event) {\n\n    if (this.measure) this.session.perf.startStep(event.type)\n\n    const session = this.session\n    // If we have not ascertained\n\n    if (session.axis) {\n\n      event.axis = session.axis\n\n      const deltaMs = Date.now() - session.startTs\n\n      event.deltaY = session.lastY - session.startY\n      event.deltaX = session.lastX - session.startX\n\n      const change = Math.abs(session.axis === AXIS.X ? event.deltaX : event.deltaY),\n            speed  = deltaMs ? (change * 1000 / (deltaMs * deltaMs)) : 0\n\n      let quickRatio    = (speed - FAST_MIN_SPEED) / (FAST_MAX_SPEED - FAST_MIN_SPEED)\n      quickRatio        = quickRatio < 0 ? 0 : (quickRatio > 0.5 ? 0.5 : quickRatio)\n      event.quickRatio  = quickRatio\n      event.speed       = speed\n      event.timeTaken   = deltaMs\n\n      // this.rc.isWarn() && this.rc.warn(this.rc.getName(this), {change, deltaMs, speed, \n      //   quickRatio, FAST_MIN_SPEED, FAST_MAX_SPEED})\n\n      if (this.measure) this.session.perf.startStep('onPanEnd')\n      session.ifNail.onPanEnd(event)\n      if (this.measure) this.session.perf.endStep('onPanEnd')\n    } else if (this.appComponent.onTouchEnd) {\n      this.appComponent.onTouchEnd(event)\n    }\n\n    if (this.measure) this.session.perf.endStep(event.type)\n    if (this.measure) this.session.perf.finish()\n    this.session = null\n  }\n\n  private extractEventAttr(event: any): void {\n\n    const session = this.session\n\n    const touch     = event.touches[0]\n    session.lastX   = touch.pageX\n    session.lastY   = touch.pageY\n\n    if (session.startX === -1) {\n      session.startX  = session.lastX\n      session.startY  = session.lastY\n      session.startTs = Date.now()\n    }\n  }\n\n  // figure out direction of movement\n  private ascertainDirection(event: any, deltaX: number, deltaY: number) {\n\n    const session = this.session,\n          config  = this.config,\n          posDx   = Math.abs(deltaX),\n          posDy   = Math.abs(deltaY)\n\n    let axis = 0\n    if (posDx >= THRESHOLD_PIXELS && (config.threshold > (posDy / posDx))) {\n      axis = AXIS.X\n    } else if (Math.abs(posDy) >= THRESHOLD_PIXELS && (config.threshold > (posDx / posDy))) {\n      axis = AXIS.Y\n    } else if (posDx > MAX_THRESHOLD_PIXELS) {\n      axis = AXIS.X\n    } else if (posDy > MAX_THRESHOLD_PIXELS) {\n      axis = AXIS.Y\n    }\n\n    if (!axis) return false\n\n    if (!((axis === AXIS.X && config.axisX) || (axis === AXIS.Y && config.axisY))) {\n      this.rc.isStatus() && this.rc.status(this.rc.getName(this), this.compName, \n        'Cancelling ascertain as we locked incorrect axis')\n      session.ignore = true\n      return\n    }\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), this.compName, event.type,\n    'Ascertained', axis, {deltaX, deltaY})\n    session.axis   = axis\n    \n    if (((session.startX < config.gutterWidth) || (deltaX > 0 && config.disallowRight)) && config.gutterLeft) {\n      session.ifNail = config.gutterLeft\n    } else if (((session.startX > (this.pageWidth - config.gutterWidth)) || (deltaX < 0 && config.disallowLeft)) && config.gutterRight) {\n      session.ifNail = config.gutterRight\n    } else {\n      session.ifNail = this.appComponent\n    }\n\n    event.axis    = session.axis\n    event.deltaX  = deltaX\n    event.deltaY  = deltaY\n    if (this.session.ifNail.onPanStart) {\n      if (this.measure) this.session.perf.startStep('onPanStart')\n      this.session.ifNail.onPanStart(event)\n      if (this.measure) this.session.perf.endStep('onPanStart')\n    }\n\n    return true\n  }\n\n  private onRunAnimation() {\n    \n    const session = this.session\n    if (!session) return\n\n    this.session.animHandle = null\n\n    if (session.ignore || session.animSessionId !== session.id) return\n    session.ifNail.onPanAnimate(...session.animateParam)\n  }\n  \n  public destroy() {\n\n    for (const handler of this.handlers) {\n      handler()\n    }\n    this.handlers = []\n    this.config   = null\n    this.session  = null\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Fri Jun 23 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\nexport const INJECTION_PARAM = {\n  CALLER  : 'caller',\n  INJECT  : 'inject'\n}\n\nexport interface InjectionCaller {\n  setResult(calleeId: string, result: any)\n}\n\nexport interface InjectionParent {\n  close(): void\n}\n\nexport interface InjectedChild {\n  initFromParent?(ip: InjectionParent, showTitle: boolean): void\n  setCaller?(caller: InjectionCaller): void\n  setParam?(params: object) : void \n  closeFromParent?()        : void\n  ngOnDestroy?()            : void\n  canGoBack?()              : boolean\n  onBackPressed?()          : void\n\n}\n\nexport interface BottomInInterface extends InjectedChild {\n  getHalfHeight()     : number\n  getTitle()          : string\n  getDefaultState?()  : any\n}\n\nexport interface ModalInterface extends InjectedChild {\n  getWidth()          : string\n  getCssClassName?()  : string  \n  isNotDismissable?() : boolean\n  isNotScrollable?()  : boolean\n}","/*------------------------------------------------------------------------------\n   About      : Any component be it routable or not which needs to be tracked \n                for analytics must extent this class. All actions performed \n                on sub components / HTML elements in this kind of component \n                will be logged under the trackable screen name.\n\n   Created on : Sat Nov 03 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { RunContextBrowser } from '../../rc-browser'\n \nexport abstract class TrackableScreen  {\n  \n  abstract getRouteName(): string\n  \n  constructor(protected rc : RunContextBrowser) {\n\n  }\n\n  onApiComplete(success: boolean) { \n    \n  }\n\n  ngOnDestroy() {\n\n    // if (this.rc.userKeyVal.clientId && this.isUserVisited()) {\n    //   const key = Object.keys(ComponentRoute)\n    //     .find(key => ComponentRoute[key] === this.getRouteName())\n\n    //    this.rc.userKeyVal.setScreenVisited(key)\n    // }\n  }\n\n}","export const ComponentRoutes = {\n  Modal                         : 'modal',\n  BottomIn                      : 'bottomIn',\n  LoadingOverlay                : 'loadingOvr',\n  Alert                         : 'alert',\n  Filter                        : 'filter'\n}","import { Component,\n         Inject }             from '@angular/core'\nimport { InjectionCaller, \n         InjectionParent, \n         ModalInterface}      from '../injection-interface'\nimport { TrackableScreen }    from '../../../ui/router/trackable-screen'\nimport { ComponentRoutes }    from '../../router/shared-router-constants'\nimport { RunContextBrowser }  from '../../../rc-browser'\n\n \nexport interface AlertDialogParams {\n  message          : string\n  positiveActText  : string\n  title           ?: string\n  negativeActText ?: string\n  contextId       ?: string //If same component is invoking this dialog with different contexts\n  canGoBack       ?: boolean\n  showCloseBtn    ?: boolean\n  positiveLink    ?: string\n}\n\nexport interface AlertDialogResult {\n  result        : DIALOG_RESULT\n  contextId ?   : string\n  positiveLink ?: string\n}\n\nexport enum DIALOG_RESULT {\n  YES = 'YES',\n  NO  = 'NO'\n}\n\n@Component({\n  selector    : 'app-alert-dialog',\n  templateUrl : './alert-dialog.component.html',\n  styleUrls   : ['./alert-dialog.component.scss']\n})\n\n\nexport class AlertDialogComponent extends TrackableScreen implements ModalInterface {\n\n  private caller    : InjectionCaller\n  private myParent  : InjectionParent\n  private result    : DIALOG_RESULT\n  private contextId : string\n  private allowBack : boolean\n\n  showCloseBtn    : boolean\n  title           : string\n  message         : string\n  positiveActText : string\n  negativeActText : string\n  positiveLink    : string\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser) { \n    super(rc)\n    \n  }\n\n  getWidth() {\n    return '80vw'\n  }\n\n  getRouteName() {\n    return ComponentRoutes.Alert\n  }\n\n  isUserVisited() {\n    return true\n  }\n\n\n  /*=====================================================================\n                                  CALLBACKS\n  =====================================================================*/\n  setParam(queryParams : any) {\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), queryParams['message'] &&\n    queryParams['positiveActText'], `missing queryparams ${queryParams}`)\n    this.title            = queryParams['title']\n    this.message          = queryParams['message']\n    this.positiveActText  = queryParams['positiveActText']\n    this.negativeActText  = queryParams['negativeActText'] || ''\n    this.contextId        = queryParams['contextId'] || ''\n    this.allowBack        = queryParams['canGoBack']\n    this.showCloseBtn     = queryParams['showCloseBtn'] || false\n    this.positiveLink     = queryParams['positiveLink']\n  }\n\n  setCaller(caller: InjectionCaller) {\n    this.caller = caller\n  }\n\n  initFromParent(ip: InjectionParent, showTitle: boolean) {\n    this.myParent = ip\n  }\n\n  close() {\n    this.myParent.close()\n  }\n\n  closeFromParent() {\n    const result : AlertDialogResult = {\n      result      : this.result,\n      contextId   : this.contextId,\n      positiveLink: this.positiveLink\n    }\n    this.caller.setResult(this.getRouteName(), result)\n  }\n\n  isNotDismissable() {\n    return true\n  }\n\n  canGoBack() {\n    const canGoBack = this.allowBack !== undefined\n\n    return canGoBack ? this.allowBack : true\n\n  }\n\n  /*=====================================================================\n                              HTML FUNCTIONS\n  =====================================================================*/\n  onCancel() {\n    this.result  = DIALOG_RESULT.NO\n    this.close()\n  }\n\n  onContinue() {\n    this.result     = DIALOG_RESULT.YES\n    this.allowBack  = true\n    this.close()\n  }\n  \n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Fri Jun 16 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\nimport { Router,\n         NavigationExtras,\n         NavigationEnd,\n         UrlSegment,\n         UrlTree\n        }                       from '@angular/router'\nimport { INJECTION_PARAM, \n         InjectionCaller \n       }                        from '../mu-components/injection-interface'\nimport { AlertDialogParams,\n         AlertDialogComponent \n       }                        from '../mu-components/alert-dialog/alert-dialog.component'\n\nimport { RunContextBrowser }    from '../../rc-browser'\nimport { Mubble }               from '@mubble/core'\nimport { ComponentRoutes }      from './shared-router-constants'\nimport isEqual                  from 'lodash/isEqual'\n\nconst ROOT_URL     = '#/?launched=true'\n\nconst hashIndex = location.href.indexOf('#'),\n      baseHref  = hashIndex !== -1 ? location.href.substr(0, hashIndex) : location.href\n\nconst BASE_HREF    = baseHref\n\nexport const PRIMARY_OUTLET = 'primary',\n             MODAL_OUTLET   = 'modal'\n\nexport enum TOAST_POSITION { TOP = 1, MIDDLE, BOTTOM }\n\nexport enum NavMethod {NEXT = 1, CURRENT, POP}\n      \nexport type OUTLET = 'primary' | 'modal'\n\nexport interface NcNavigationExtras extends NavigationExtras {\n  replaceIndex   ?: number\n  paramsId       ?: string,\n  replaceAllUrls ?: boolean\n}\n\nclass StackItem {\n  url         : string\n  qpId        : string\n  queryParam  : Mubble.uObject<any>\n  outlet      : OUTLET\n}\n\nclass OutletEntry {\n  component   : any    = null\n  invCount    : number = 0\n  lastParams  : Mubble.uObject<any>\n\n  constructor(component: any) { this.component = component }\n}\n\nexport class UiRouter {\n\n  // helper for ui framework\n  private historyWrapper  : HistoryWrapper\n\n  private componentRegistry = {}\n\n  // variables for navigation\n  protected urlStack    : StackItem[]  = []\n  protected warnedUser  : boolean   = false\n\n  private firstNavDone  : boolean   = false\n  private browserStack  : string[]  = []\n\n  private lastNavMethod : NavMethod = 0 \n  private lastPopIndex  : number    = -1\n  private lastNavUrl    : string    = ''\n  private lastGoingBack : boolean   = false\n  private curOutlet     : OUTLET\n  private currentQpId   : string    = ''\n  private curQueryParam : Mubble.uObject<any>\n  private curCompMap    : Mubble.uObject<OutletEntry> = {}\n  \n  private codePop           : boolean = false\n  private runningInBrowser  : boolean = false\n  private isSdkApp          : boolean = false \n  private iframeHistLength  : number  = 0\n\n  constructor(private rcBrowser         : RunContextBrowser,\n              protected router          : Router) {\n\n  }\n\n  public init(runningInBrowser: boolean, isSdkApp : boolean = false) {\n\n    this.runningInBrowser = runningInBrowser\n    this.isSdkApp         = isSdkApp\n\n    this.historyWrapper = new HistoryWrapper(this.rcBrowser, this.isSdkApp)\n\n\n    this.urlStack[0]      = new StackItem()\n    this.urlStack[0].url  = (location.hash || '').substr(1)\n\n    this.historyWrapper.replaceState({index: -1}, document.title, baseHref + ROOT_URL)\n    this.historyWrapper.pushState({index: 0}, document.title, baseHref)\n\n    if (!this.isSdkApp) window.addEventListener('popstate', this.onPopState.bind(this))  \n\n    \n    this.browserStack[0]  = this.urlStack[0].url\n    this.router.events.subscribe(this.onNavEnd.bind(this))\n\n    this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), 'initialized with', {\n      url           : this.urlStack[0].url\n    })\n  }\n\n  public async navigate(routeTo: string, extras ?: NcNavigationExtras) {\n\n    if (extras && extras.replaceAllUrls) {\n      if (this.urlStack.length - 1 > 0) {\n        extras.replaceIndex = 1\n      }\n    }\n\n    return await this.navigateByUrl([{ outlets: { primary : routeTo, modal: null } }], extras, PRIMARY_OUTLET)\n  }\n\n  public async rootNavigate(routeTo: string, extras ?: NcNavigationExtras) {\n    \n    this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), \n      'Inside RootNavigate', routeTo)\n    if (!extras) extras = {}\n    extras.replaceIndex = 0\n    \n    return await this.navigateByUrl([{ outlets: { primary : routeTo,modal: null } }], extras, PRIMARY_OUTLET)\n  }\n\n  public areWeGoingBack() {\n    return this.lastGoingBack\n  }\n\n  public isModalActive() {\n    return Object.keys(this.curCompMap).length !== 1\n  }\n\n  public isShowingPopup() {\n    return this.curOutlet !== PRIMARY_OUTLET\n  }\n\n  private async navigateByUrl(urlOrCommand: string | any[], extras ?: NcNavigationExtras, \n          outlet ?: OUTLET) {\n\n    if (!extras) extras = {}\n    if (!extras.queryParams) extras.queryParams = {}\n\n    this.lastNavMethod && this.rcBrowser.isError() && this.rcBrowser.error(this.rcBrowser.getName(this), \n      'Navigating while last navigation not complete, possibly double nav...')\n\n    if (extras.replaceIndex === undefined) {\n      this.lastNavMethod  = extras.replaceUrl ? NavMethod.CURRENT : NavMethod.NEXT\n      this.lastPopIndex   = -1\n      this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), 'Routing to', urlOrCommand, 'with', extras)\n      this.lastGoingBack = false\n    } else {\n      this.lastGoingBack = true\n      if (extras.replaceIndex >= this.urlStack.length) {\n        this.rcBrowser.isError() && this.rcBrowser.error(this.rcBrowser.getName(this),\n        'Ignoring navigation to replaceIndex that is more than number of items in stack', \n        {replaceIndex: extras.replaceIndex, urlStackLength: this.urlStack.length})\n        extras.replaceIndex = this.urlStack.length - 1\n      }\n\n      this.lastNavMethod  = NavMethod.POP\n      this.lastPopIndex   = extras.replaceIndex\n      this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), 'navigateByUrl: Route back by', \n        extras.replaceIndex - this.urlStack.length + 1, 'to url', urlOrCommand)\n    }\n    \n    // prepare extras\n    delete extras.replaceUrl\n    extras.skipLocationChange = true\n\n    const nc_paramsId = extras.paramsId || 'qp' + Date.now()\n\n    let modalRoute: string \n\n    if (extras.queryParams) {\n      modalRoute = extras.queryParams.modalRoute\n    }\n    \n    this.currentQpId    = nc_paramsId\n    this.curQueryParam  = extras.queryParams\n\n    extras.queryParams  = modalRoute ? {nc_paramsId, modalRoute: modalRoute} : {nc_paramsId}\n    \n    this.curOutlet = outlet || PRIMARY_OUTLET\n\n    const url = Array.isArray(urlOrCommand) ? this.router.createUrlTree(urlOrCommand, extras) : urlOrCommand\n    this.lastNavUrl = typeof url === 'string' ? url : this.router.serializeUrl(url)\n\n\n    if (await this.router.navigateByUrl(url, extras)) {\n      return true\n    }\n  }\n\n  public popupBottomIn(component: any, componentRoute: string, queryParams ?: any,\n    replaceUrl?: boolean, caller ?: InjectionCaller) {\n    if (!queryParams) queryParams = {}\n    const repUrl: boolean = replaceUrl || false\n    this.showInModal(component, componentRoute, queryParams, ComponentRoutes.BottomIn, caller, repUrl)\n  }\n\n  public popupModal(component: any, componentRoute: string, queryParams ?: any, \n    replaceUrl?: boolean, caller ?: InjectionCaller) {\n\n    if (!queryParams) queryParams = {}\n    const repUrl: boolean = replaceUrl || false\n    this.showInModal(component, componentRoute, queryParams, ComponentRoutes.Modal, caller, repUrl)\n  }\n\n  public showAlertDialog(queryParams : AlertDialogParams, caller : InjectionCaller, replaceUrl ?: boolean) {\n    this.popupModal(AlertDialogComponent, ComponentRoutes.Alert, queryParams, replaceUrl, caller)\n  }\n\n  public hasQueryParamsById(params): boolean {\n    return !!params.nc_paramsId\n  }\n\n  public getUrlStackLength() {\n    return this.urlStack.length\n  }\n\n  public getCurrentComponent(outlet = PRIMARY_OUTLET): any {\n    return this.curCompMap[outlet]\n  }\n\n  public getCurrentRouteName(): string {\n\n    const topUrl: string = this.urlStack[this.urlStack.length-1].url\n    return this.getRouteName(topUrl)\n  }\n\n  public onNavCancel() {\n    this.lastNavMethod  = 0\n  }\n\n  public getCurQueryParams() {\n    return this.curQueryParam\n  }\n\n  public getRouteName(url : string): string {\n\n    const urlTree: UrlTree        = this.router.parseUrl(url)\n    const segments: UrlSegment[]  = urlTree.root.children.primary ? urlTree.root.children.primary.segments : undefined\n    \n    if (!segments) {\n      //we are adding dummy url (#/?launched=true) in the beginning.\n      this.rcBrowser.isWarn() && this.rcBrowser.warn(this.rcBrowser.getName(this), \n      `received invalid url ${url}`)\n      return ''\n    }\n\n    if (segments.length > 1) {\n      let path = ''\n\n      segments.forEach((segment, index) => {\n        path += segment + (index < segments.length-1 ? '/' : '') \n      })\n      return path\n    }\n\n    return segments[0].path\n  }\n\n  public getModuleName(url : string): string {\n\n    const urlTree: UrlTree        = this.router.parseUrl(url)\n    const segments: UrlSegment[]  = urlTree.root.children.primary.segments\n\n    return segments[0].path\n  }\n\n  public getCurrentQueryParams(): any {\n    return this.curQueryParam\n  }\n\n  public getQueryParams(params): any {\n\n    const nc_paramsId = params.nc_paramsId\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), nc_paramsId && nc_paramsId === this.currentQpId, \n      'Trying to retrieve non-existent params', params, this.currentQpId)\n\n    return this.curQueryParam\n  }\n\n  public clearHisory() {\n    const distanceFromRoot  = -1 * this.historyWrapper.getState().index - 1\n    this.historyWrapper.go(distanceFromRoot)\n  }\n\n  public setIframeHistLength(length  : number) {\n    this.iframeHistLength = length\n  }\n\n  public updateQueryParam(name: string, value: any) {\n\n    const stackItem = this.urlStack[this.urlStack.length - 1],\n          queryParam = stackItem.queryParam\n\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), \n      queryParam, 'Your component does not get params by id')\n    queryParam[name] = value\n  }\n\n  public setComponentForOutlet(component: any, outlet ?: OUTLET) {\n    outlet = outlet || PRIMARY_OUTLET\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), component)\n    const oldEntry = this.curCompMap[outlet]\n\n    if (oldEntry && oldEntry.component === component) return\n    this.curCompMap[outlet] = new OutletEntry(component)\n  }\n\n  public removeComponentForOutlet(component: any, outlet ?: string) {\n    outlet = outlet || PRIMARY_OUTLET\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), this.curCompMap[outlet].component === component)\n    delete this.curCompMap[outlet]\n  }\n\n  private showInModal(component: any, componentRoute: string, queryParams: any, \n    type: string, caller ?: InjectionCaller, replaceUrl?: boolean) {\n\n    const compName = component.name\n    this.registerComponent(compName, component)\n\n    queryParams[INJECTION_PARAM.INJECT] = compName\n    if (caller) queryParams[INJECTION_PARAM.CALLER] = caller\n    \n    queryParams.modalRoute = '(' + componentRoute + ')'\n    const repUrl: boolean = replaceUrl || false\n    \n    this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), `Popping up ${type} for ${compName}`)\n    this.navigateByUrl([{outlets: { modal: type}}], {replaceUrl: repUrl, \n      queryParams: queryParams}, MODAL_OUTLET)\n  }\n\n  public showModalPage(componentRoute: string, queryParams: any, replaceUrl?: boolean) {\n    \n    queryParams.modalRoute = '(' + componentRoute + ')'\n    const repUrl: boolean = replaceUrl || false\n\n    this.navigateByUrl([{outlets: { modal: componentRoute}}], \n      {replaceUrl: repUrl, queryParams: queryParams}, MODAL_OUTLET)\n  }\n\n  public goBack(whereOrByHowMuch ?: string | number) {\n\n    if (!this.canGoBack()) return\n    if (this.isModalActive()) {\n      this.onPopUpClosed()\n    }\n    return this.goBackInternal(whereOrByHowMuch)\n  }\n\n  public goBackInternal(whereOrByHowMuch ?: string | number) {\n    const stackLen = this.urlStack.length\n\n    let index = typeof whereOrByHowMuch === 'number' ? stackLen + whereOrByHowMuch - 1 : stackLen - 2,\n        where = typeof whereOrByHowMuch === 'string' ? whereOrByHowMuch : ''\n\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), \n      index >= 0 && index < stackLen, {stackLen, whereOrByHowMuch, where, index})\n\n    if (where) {\n      if (!where.startsWith('/')) where = '/' + where\n      for (; index >= 0; index--) {\n        if (this.urlStack[index].url.startsWith(where)) break\n      }\n      if (index === - 1) {\n        this.rcBrowser.isError() && this.rcBrowser.error(this.rcBrowser.getName(this), \n          'Could not find the desired url:', where, this.urlStack)\n        throw(new Error('Could not find the desired url: ' + where))\n      }\n    }\n\n    const urlStack = this.urlStack[index],\n          ne: NcNavigationExtras  = {replaceUrl: true}\n\n    if (urlStack.qpId) {\n      ne.paramsId     = urlStack.qpId\n      ne.queryParams  = urlStack.queryParam\n    }\n\n    ne.replaceIndex = index\n    this.navigateByUrl(urlStack.url, ne, urlStack.outlet)\n  }\n\n  /*--------------------------------------------------------------------------------------------------------------\n    History Stack management\n  --------------------------------------------------------------------------------------------------------------*/\n  \n  private onPopState(e) {\n\n    const index     = this.historyWrapper.getState().index,\n          stackLen  = this.urlStack.length\n    \n    this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), 'onPopState', {stackLen, index})\n\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), typeof index === 'number' && \n      index < (stackLen - 1), {stackLen, index})\n\n    if (index === -1) {\n      \n      if (!this.codePop) {\n\n        if (!this.canCompGoBack()) {\n          return\n        }\n\n        if (this.warnedUser || this.runningInBrowser) {\n          this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this),\n            'onPopState: Exiting the app', this.historyWrapper.getLength())\n          this.notifyAppClose()\n          \n          if (!this.runningInBrowser) this.notifyAppClose() \n          else location.reload()\n\n          return\n        } else {\n          this.warnedUser = this.notifyUserBackPress()\n        }\n      } else {\n        this.codePop = false\n      }\n\n      this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), \n        'onPopState: Winding up stack on back to first item')\n\n      for (let i = 0; i < stackLen; i++) {\n        this.browserStack[i] = this.urlStack[i].url\n        this.historyWrapper.pushState({index: i}, '', BASE_HREF + '#' + this.urlStack[i].url)\n      }\n      this.browserStack.length = stackLen\n\n    } else {\n\n      if (!this.canCompGoBack()) {\n        return\n      }\n\n      if (this.isModalActive()) {\n        this.onPopUpClosed()\n      }\n\n      const goBackBy = index - stackLen + 1\n      this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), \n        'onPopState: Going back by', {index, goBackBy})\n\n      this.goBackInternal(goBackBy)\n    }\n  }\n\n  private canCompGoBack() {\n    if (!this.canGoBack() || this.isToolTipShown()) {\n      const lastIdx  = this.urlStack.length - 1,\n      lastItem = this.urlStack[lastIdx]\n      this.historyWrapper.pushState({index: lastIdx}, '', BASE_HREF + '#' + lastItem.url)\n      this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), 'not going back')\n      return false\n    }\n\n    return true\n  }\n\n  private onPopUpClosed() {\n    const lastIdx  = this.urlStack.length - 1,\n    lastItem = this.urlStack[lastIdx]\n\n    if (!lastItem) return \n    const comp = this.curCompMap[lastItem.outlet]\n    if (!comp || !comp.component.onBackPressed) return\n    comp.component.onBackPressed()\n  }\n\n  protected canGoBack() {\n\n    const lastIdx  = this.urlStack.length - 1,\n          lastItem = this.urlStack[lastIdx]\n   \n    if (!lastItem) return true\n    const comp = this.curCompMap[lastItem.outlet]\n    if (!comp || !comp.component.canGoBack) {\n      this.removeOverlayIfExists()\n      return true\n    }\n    if (!comp.component.canGoBack()) {\n      this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), \n        'Skipping back as component dis-allowed back press')\n      return false\n    } else {\n      this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), \n        'Going back as component allowed back press')\n      return true\n    }\n  }\n\n  private onNavEnd(event ?: any) {\n\n\n\n    if (!(event instanceof NavigationEnd)) {\n      return\n    }\n\n    if (!this.firstNavDone) {\n      \n      this.firstNavDone   = true\n\n      if (!this.lastNavMethod) {\n        this.lastNavMethod  = NavMethod.CURRENT\n        this.lastNavUrl     = event.url\n        this.curOutlet      = PRIMARY_OUTLET\n      }\n\n      const url     = location.href,\n            hashPtr = url.indexOf('#')\n\n      const urlPrefix   = hashPtr === -1 ? url : url.substr(0, hashPtr)\n    }\n\n    this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), 'NavigationEnd', {\n      url           : event.url, \n      lastNavMethod : NavMethod[this.lastNavMethod],\n      lastPopIndex  : this.lastPopIndex,\n      lastNavUrl    : this.lastNavUrl,\n      stackLength   : this.urlStack.length\n    })\n\n    this.lastNavUrl !== event.url && this.rcBrowser.isError() && this.rcBrowser.error(this.rcBrowser.getName(this), \n      'onNavEnd without matching url desired:' + this.lastNavUrl + ' actual:' + event.url)\n\n    let refIndex\n\n    if (this.lastNavMethod === NavMethod.POP) {\n      refIndex = this.lastPopIndex\n    } else if (this.lastNavMethod === NavMethod.NEXT) {\n      refIndex = this.urlStack.length\n    } else if (this.lastNavMethod === NavMethod.CURRENT) {\n      refIndex = this.urlStack.length - 1\n    } else {\n      this.rcBrowser.isError() && this.rcBrowser.error(this.rcBrowser.getName(this), 'Got a navigation without navMethod', \n        this.urlStack, location.href)\n      throw('Got a navigation without navMethod')\n    }\n\n    const outletEntry = this.curCompMap[this.curOutlet]\n\n    if (!outletEntry) {\n      this.rcBrowser.isError() && this.rcBrowser.error(this.rcBrowser.getName(this), 'Current component is not known', {\n        url           : event.url, \n        lastNavMethod : NavMethod[this.lastNavMethod],\n        lastPopIndex  : this.lastPopIndex,\n        stackLength   : this.urlStack.length\n      })\n    } \n    \n    this.onMubbleScreenChange(event.url, this.curOutlet, this.lastNavMethod)\n  \n    if (this.urlStack.length === refIndex) this.urlStack[refIndex] = new StackItem()\n    const urlStack = this.urlStack[refIndex]\n\n    urlStack.url          = event.url\n    urlStack.qpId         = this.currentQpId\n    urlStack.queryParam   = this.curQueryParam\n    urlStack.outlet       = this.curOutlet\n    this.urlStack.length  = refIndex + 1\n\n    this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), \n    'Current Url stack', this.urlStack[refIndex].url)\n\n    this.lastNavMethod  = 0\n    this.lastPopIndex   = -1\n    this.lastNavUrl     = ''\n    this.curOutlet      = null\n\n    this.setComponentParams(outletEntry)\n  \n    // When we remove the getParamsById function\n    // this.currentQpId    = ''\n    // this.curQueryParam  = null\n\n    if (this.warnedUser) this.warnedUser = false\n    if (!this.isSdkApp) this.syncBrowserHistory()\n\n    this.onMubbleScreenNavEnd(event.url, this.lastNavMethod)\n  }\n\n  private setComponentParams(outletEntry: OutletEntry) {\n\n    if (!outletEntry.component.onRouterInit) return\n\n    const params = this.router.routerState.root.snapshot.queryParams,\n          qp     = params.nc_paramsId ? this.curQueryParam : params\n\n    if (isEqual(qp, outletEntry.lastParams)) {\n      this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), 'Skipping onRouterInit as parameters are same')\n      return \n    }\n\n    outletEntry.component.onRouterInit(qp, !outletEntry.invCount)\n    outletEntry.invCount++\n    outletEntry.lastParams = qp\n  }\n\n  private syncBrowserHistory() {\n\n    const browserStack  = this.browserStack, \n          urlStack      = this.urlStack,\n          stackLen      = urlStack.length\n\n    let fromIndex = -1\n\n    // sync browserStack\n    for (let index = 0; index < stackLen; index++) {\n      if (fromIndex === -1 &&\n         (browserStack.length === index || browserStack[index] !== urlStack[index].url)) {\n        fromIndex = index\n        break\n      }\n    }\n\n    this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), \n      'syncBrowserHistory', {fromIndex, stackLen, browserStackLen: browserStack.length})\n\n    if (fromIndex === -1) {\n      if (urlStack.length !== browserStack.length) this.browserGotoRoot()\n\n    } else if (fromIndex === (stackLen - 1)) {\n\n      if (browserStack.length === urlStack.length) {\n        this.historyWrapper.replaceState({index: fromIndex}, '', BASE_HREF + '#' + urlStack[fromIndex])\n        browserStack[fromIndex] = urlStack[fromIndex].url\n      } else if (browserStack.length + 1 === urlStack.length) {\n        this.historyWrapper.pushState({index: fromIndex}, '', BASE_HREF + '#' + urlStack[fromIndex])\n        browserStack[fromIndex] = urlStack[fromIndex].url\n      } else {\n        this.browserGotoRoot()\n      }\n    } else {\n      this.browserGotoRoot()\n    }\n  }\n\n  private browserGotoRoot() {\n\n    this.rcBrowser.isAssert() && this.rcBrowser.assert(this.rcBrowser.getName(this), this.historyWrapper.getState().index >= 0)\n\n    const totalDistance = this.historyWrapper.getState().index\n\n    const distanceFromRoot = -1 * totalDistance - 1\n    this.rcBrowser.isDebug() && this.rcBrowser.debug(this.rcBrowser.getName(this), 'browserGotoRoot', { \n      distanceFromRoot, \n      stackLen        : this.urlStack.length, \n      browserStackLen : this.browserStack.length\n    })\n\n    this.codePop = true\n    this.historyWrapper.go(distanceFromRoot)\n    if (this.iframeHistLength) this.iframeHistLength = 0\n  }\n\n  /*--------------------------------------------------------------------------------------------------------------\n    Register components for reference by rest of the system\n  --------------------------------------------------------------------------------------------------------------*/\n\n  public registerComponent(compName: string, component) {\n\n    const oldComponent = this.componentRegistry[compName]\n    if (oldComponent === component) return\n\n    this.componentRegistry[compName] = component\n    this.rcBrowser.isStatus() && this.rcBrowser.status(this.rcBrowser.getName(this), \n      'Registered component with name', compName)\n  }\n\n  public getComponent(compName: string) {\n    return this.componentRegistry[compName]\n  }\n\n  public onMubbleScreenChange(url: string, outlet: OUTLET, lastNavMethod: NavMethod) {\n  \n  }\n\n  public onMubbleScreenNavEnd(url: string, lastNavMethod: NavMethod) {\n\n  }\n\n  public notifyUserBackPress() : boolean {\n    return true\n  }\n  \n  public notifyAppClose() {\n\n  }\n\n  public isToolTipShown() : boolean {\n    return true\n  }\n\n  public removeOverlayIfExists() {\n\n  }\n\n}\n\nclass HistoryWrapper {\n\n  constructor(private rc, private isSdkApp : boolean) {\n    rc.setupLogger(this, 'HistoryWrapper')\n  }\n\n  pushState(state: Mubble.uObject<any>, title: string, url: string) {\n    if (this.isSdkApp) return\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'before pushState', {\n      historyLength : history.length, \n      historyState  : history.state,\n      newState      : state\n    })\n    history.pushState(state, title, url)\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'after pushState', {\n      historyLength : history.length, \n      historyState  : history.state\n    })\n  }\n\n  replaceState(state: Mubble.uObject<any>, title: string, url: string) {\n    if (this.isSdkApp) return\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'before replaceState', {\n      historyLength : history.length, \n      historyState  : history.state,\n      title         : title,\n      url           : url,\n      newState      : state\n    })\n    history.replaceState(state, title, url)\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'after replaceState', {\n      historyLength : history.length, \n      historyState  : history.state\n    })\n  }\n\n  go(delta: number) {\n    if (this.isSdkApp) return\n    history.go(delta)\n  }\n\n  getState() {\n    if (this.isSdkApp) return\n    return history.state\n  }\n\n  getLength() {\n    if (this.isSdkApp) return\n    return history.length\n  }\n\n}","import {  Component, \n          OnInit, \n          OnDestroy,\n          AfterViewInit,\n          Inject, \n          Input,\n          SkipSelf,\n          HostBinding,\n          HostListener,\n          Renderer2,\n          ElementRef,\n          ComponentFactoryResolver, \n          ComponentFactory,\n          ViewContainerRef,\n          ComponentRef,\n          ChangeDetectorRef,\n          ViewChild }                 from '@angular/core'\n\nimport { ActivatedRoute }             from '@angular/router'\nimport { InjectionCaller,\n         InjectionParent, \n         InjectedChild, \n         INJECTION_PARAM }            from './injection-interface'\n\nimport { UiRouter }                   from '../router/ui-router'\nimport { RunContextBrowser }          from '../../rc-browser'\nimport { Mubble }                     from '@mubble/core'\n\nexport abstract class InjectionParentBase implements OnDestroy, InjectionParent {\n\n  childRequestedClose : boolean\n  injectedComponent   : InjectedChild\n  private icRef       : ComponentRef<any>\n  caller              : InjectionCaller\n  \n  constructor(public  rc: RunContextBrowser,\n              public  router: UiRouter, \n              private componentFactoryResolver: ComponentFactoryResolver,\n              private route: ActivatedRoute) {\n\n  }\n\n  onRouterInit(params: Mubble.uObject<any>, injectAt: ViewContainerRef, showTitle: boolean) {\n\n    this.rc.isStatus() && this.rc.status(this.rc.getName(this), 'onRouterInit called with', params)\n    \n    if (!this.injectedComponent) {\n      this.injectComponent(params.inject, injectAt)\n      this.caller = params[INJECTION_PARAM.CALLER]\n      if (this.injectedComponent.initFromParent) this.injectedComponent.initFromParent(this, showTitle)\n      if (this.caller && this.injectedComponent.setCaller) this.injectedComponent.setCaller(this.caller)\n    }\n    if (this.injectedComponent.setParam) this.injectedComponent.setParam(params)\n  }\n\n  // onInit(injectAt: ViewContainerRef, showTitle: boolean) {\n\n  //   this.querySub = this.route.queryParams.subscribe(inParams => {\n\n  //     const params = this.router.getQueryParams(inParams)\n  //     this.rc.isStatus() && this.rc.status(this.rc.getName(this), 'ngOnInit called with', params)\n\n  //     if (!this.injectedComponent) {\n  //       this.injectComponent(params.inject, injectAt)\n  //       this.caller = params[INJECTION_PARAM.CALLER]\n  //       if (this.injectedComponent.initFromParent) this.injectedComponent.initFromParent(this, showTitle)\n  //       if (this.caller && this.injectedComponent.setCaller) this.injectedComponent.setCaller(this.caller)\n  //     }\n  //     if (this.injectedComponent.setParam) this.injectedComponent.setParam(params)\n  //   })\n  // }\n\n  private injectComponent(compName, injectAt: ViewContainerRef) {\n    \n      const component = this.router.getComponent(compName)\n      \n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), component)\n\n      const factory:ComponentFactory<any>  = this.componentFactoryResolver.resolveComponentFactory(component)\n      this.icRef = injectAt.createComponent(factory)\n\n      this.icRef.changeDetectorRef.detectChanges()\n      this.injectedComponent = this.icRef.instance\n\n      this.rc.isStatus() && this.rc.status(this.rc.getName(this), 'Injected component with', \n        {injected: !!this.injectedComponent, factory: !!factory})\n  }\n\n  close() {\n    this.childRequestedClose = true\n    this.router.goBack()\n  }\n\n  ngOnDestroy() {\n    if (this.icRef) this.icRef.destroy()\n  }\n}","import {  Component, \n          OnInit, \n          OnDestroy,\n          AfterViewInit,\n          Inject, \n          Input,\n          HostBinding,\n          HostListener,\n          Renderer2,\n          ElementRef,\n          ComponentFactoryResolver, \n          ComponentFactory,\n          ViewContainerRef,\n          ComponentRef,\n          ChangeDetectorRef,\n          ViewChild }           from '@angular/core'\n\nimport {  ActivatedRoute }      from '@angular/router'\n\nimport { Nail,\n         NailInterface,\n         AXIS }                 from '../../nail'\n\nimport { UiRouter }             from '../../router/ui-router'\n\nimport { DomHelper }            from '../../../util/dom-helper'\n\nimport {  query, \n          style, \n          state,\n          trigger,\n          transition, \n          group,\n          animate }             from \"@angular/animations\"\n\nimport { Mubble, LOG_LEVEL }    from '@mubble/core'\n\nimport { InjectionParentBase }  from '../injection-base'\n\nimport { RunContextBrowser }    from '../../../rc-browser'\n\nimport { BottomInInterface }    from '../injection-interface'\n\nexport const STATE      = {HALF: 'HALF', FULL: 'FULL'}\n\nconst ROUTE_ANIM_MS     = 400,\n      PAN_ANIM_MS       = '300ms',\n      QUICK_ANIM_MS     = DomHelper.getQuickAnim(),\n      COMMIT_RATIO      = 1 / 3,\n      FAST_COMMIT_RATIO = COMMIT_RATIO / 2,\n      QUICK_SPEED       = .3\n\n@Component({\n  selector   : 'bottom-in',\n  templateUrl: './bottom-in.component.html',\n  styleUrls: ['./bottom-in.component.scss'],\n  animations: [\n    trigger('routeAnimation', [\n      \n      transition(':enter', [\n        group([\n          query(':self', [\n            style({\n              opacity: 0\n            }),\n            animate(ROUTE_ANIM_MS, style({\n              opacity: 1\n            }))\n          ]),\n          query('div.main', [\n            style(DomHelper.getPercentTransform(0, 100)),\n            animate(ROUTE_ANIM_MS, style('*'))\n          ])\n        ])\n      ]),\n      transition(':leave', [\n        group([\n          animate(ROUTE_ANIM_MS, style({\n            opacity: 0\n          })),\n          query('div.main', [\n            animate(ROUTE_ANIM_MS, style({\n              transform: 'translate3d(0, 100%, 0)'\n            }))\n          ])\n        ])\n      ])\n    ])\n  ]\n})\n\nexport class BottomInComponent extends InjectionParentBase implements  \n    AfterViewInit, NailInterface, OnDestroy {\n\n  @HostBinding('@routeAnimation') __routeAnimation  = null\n  @HostBinding('class.glb-animated-element') animElem   = true\n  // @HostBinding('style.z-index')   zIndex   = 2000\n \n  @HostListener('click', ['$event.target']) onHostClick(event) {\n    if (this.state === STATE.HALF) {\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'Dismissing bottom-in due to host click')\n      this.animateClose()\n    }\n  }\n\n  @HostListener('@routeAnimation.start', ['$event']) onRouteAnimationStart(event) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onRouteAnimation-start', event)\n    // console.log(event)\n  }\n\n  @HostListener('@routeAnimation.done', ['$event']) onRouteAnimationDone(event) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onRouteAnimation-end', event)\n    // console.log(event)\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onRouteAnimation-end', event)\n    if (this.childRequestedClose &&  this.injectedComponent.closeFromParent) {\n      if (this.routeEndProcessed) return\n      this.routeEndProcessed  = true\n      this.injectedComponent.closeFromParent()\n    } else if (this.backPressed && this.injectedComponent.onBackPressed) {\n      if (this.routeEndProcessed) return\n      this.routeEndProcessed  = true\n      this.injectedComponent.onBackPressed()\n    }\n  }\n\n  @ViewChild('main', { static: true })                                main          : ElementRef\n  @ViewChild('header', { static: true })                              header        : ElementRef\n  @ViewChild('compContainer', { static: true })                       compContainer : ElementRef\n\n  @ViewChild('injectAt', { read: ViewContainerRef, static: true })  injectAt;\n\n  injectedComponent       : BottomInInterface\n\n  private top             : number\n  @Input() title          : string  = ''\n  @Input() state          : string = STATE.HALF\n  @Input() allowFullPage  : boolean = true\n\n  private panY        : number\n  private animValue   : string\n\n  private panYMin     : number\n  private panYMax     : number\n  private nail        : Nail\n  private routeName   : string\n  private startTop    : number \n\n  private backPressed       : boolean\n  private routeEndProcessed : boolean = false\n\n  constructor(@Inject('RunContext') rc: RunContextBrowser,\n              router: UiRouter,\n              route: ActivatedRoute,\n              componentFactoryResolver: ComponentFactoryResolver,\n              private renderer: Renderer2,\n              private ref: ChangeDetectorRef) {\n\n    super(rc, router, componentFactoryResolver, route)\n    rc.setupLogger(this, 'BottomIn', LOG_LEVEL.DEBUG)\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'constructor')\n\n    if (rc.getGlobalLogLevel() === LOG_LEVEL.DEBUG) {\n      window['bi'] = this\n    }\n  }\n\n  onRouterInit(params: Mubble.uObject<any>) {\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onRouterInit')\n\n    super.onRouterInit(params, this.injectAt, false)\n\n    this.title     = this.injectedComponent.getTitle()\n    let halfHeight = this.injectedComponent.getHalfHeight()\n\n    if (this.injectedComponent.getDefaultState) {\n      this.state = this.injectedComponent.getDefaultState()\n    }\n\n    if (this.state === STATE.FULL) {\n      halfHeight = document.body.clientHeight\n\n    } else if (halfHeight) {\n      if (halfHeight > document.body.clientHeight) {\n        this.rc.isError() && this.rc.error(this.rc.getName(this), 'Half height passed is incorrect', \n          {halfHeight, clientHeight: document.body.clientHeight})\n          halfHeight = 0.8 * document.body.clientHeight\n      }\n\n      this.top = document.body.clientHeight - halfHeight\n\n    } else {\n      this.allowFullPage = false\n    }\n  }\n  \n  ngAfterViewInit() {\n\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'ngAfterViewInit')\n\n    this.panYMax    = document.body.clientHeight\n\n    const $compCont    = this.compContainer.nativeElement,\n          compHeight   = $compCont.clientHeight,\n          headerHeight = this.header.nativeElement.getBoundingClientRect().height\n\n    if (this.allowFullPage) {\n      \n      this.panYMin    = 0\n      $compCont.style.height = document.body.clientHeight - headerHeight\n\n    } else {\n      this.top      = document.body.clientHeight - (compHeight + headerHeight)\n      this.panYMin  = this.top\n    }\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n    'ngAfterViewInit: Component container', {\n      clientHeight: document.body.clientHeight,\n      compHeight, headerHeight, \n      top: this.top\n    })\n    \n    this.main.nativeElement.style.transform = DomHelper.getTransform(0, this.top, 0).transform\n    \n    this.nail       = new Nail( this.rc, \n                                this.main.nativeElement, \n                                this, \n                                this.renderer,\n                                {axisX: false, axisY: true})\n\n    this.ref.detectChanges()\n  }\n\n  onPanStart() {\n\n    this.startTop = this.compContainer.nativeElement.scrollTop\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onPanStart', {\n    //   panY: this.panY, state: this.state})\n  }\n\n  onPanMove(event: any): boolean {\n\n    let deltaY = event.deltaY\n    if (this.compContainer.nativeElement.scrollTop) {\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'cancelling panMove',\n        {scrollTop: this.compContainer.nativeElement.scrollTop} )\n      return false\n    }\n    if (deltaY > 0) deltaY -= this.startTop\n  \n    let y = (this.state === STATE.HALF ? this.top : this.panYMin) + deltaY\n\n    if (y < this.panYMin) {\n      y = this.panYMin\n    } else if (y > this.panYMax) {\n      y = this.panYMax\n    }\n\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onPanMove', {\n    //   type: event.type, deltaY, y, panY: this.panY, state: this.state\n    // })\n\n    const needAnimate = this.panY !== y\n\n    if (needAnimate) this.nail.requestAnimate(y)\n    return needAnimate\n  }\n\n  onPanAnimate(y: number) {\n    this.animateChange(y, false)\n  }\n\n  onPanEnd(event: any) {\n\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onPanEnd', {\n    //   type: event.type, panY: this.panY, top: this.top, speed: event.speed\n    // })\n\n    if (this.state === STATE.HALF) {\n\n      if (this.panY > this.top) {\n        this.animateClose()\n      } else if (this.panY < this.top) {\n        this.onFull(true)\n      } else {\n        this.onHalf(true)\n      }\n\n    } else { // full\n\n      if (this.panY > this.panYMin) {\n        this.animateClose()\n      } else {\n        this.onFull(true)\n      }\n\n    }\n  }\n\n  onClick(event: any) {\n    event.preventDefault()\n    event.stopPropagation()\n  }\n\n  ngOnDestroy() {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'ngOnDestroy')\n    super.ngOnDestroy()\n    if (this.nail)      this.nail.destroy()\n  }\n\n  onHalf(runAnimation: boolean) {\n    this.state = STATE.HALF\n    this.animateChange(this.top, runAnimation)\n  }\n\n  onFull(runAnimation: boolean) {\n    this.state = STATE.FULL\n    this.animateChange(this.panYMin, runAnimation)\n  }\n\n  animateChange(y: number, runAnimation: boolean) {\n\n    if (this.panY !== y) {\n\n      this.panY = y\n\n      const animValue = runAnimation ? PAN_ANIM_MS : QUICK_ANIM_MS\n\n      if (this.animValue !== animValue) {\n        this.animValue = animValue\n        this.main.nativeElement.style.transition = animValue\n      }\n      \n      DomHelper.setTransform(this.main.nativeElement, 0, y, 0)\n    }\n  }\n\n  animateClose() {\n    this.injectedComponent.closeFromParent()\n    this.router.goBack()\n  }\n\n  onBackPressed() {\n    this.backPressed = true\n  }\n}   \n","import {  Component, \n          OnInit, \n          OnDestroy,\n          AfterViewInit,\n          Inject, \n          Input,\n          SkipSelf,\n          HostBinding,\n          HostListener,\n          Renderer2,\n          ElementRef,\n          ComponentFactoryResolver, \n          ViewContainerRef,\n          ComponentRef,\n          ChangeDetectorRef,\n          ViewChild }                 from '@angular/core'\n          \nimport { Router, ActivatedRoute }     from '@angular/router'\n\nimport { query, \n         style, \n         state,\n         trigger,\n         transition, \n         group,\n         animate }                    from \"@angular/animations\"\n\nimport { Mubble, LOG_LEVEL }          from '@mubble/core'\n\nimport { InjectionParentBase }        from '../injection-base'\n\nimport { RunContextBrowser }          from '../../../rc-browser'\n\nimport { ModalInterface }             from '../injection-interface'\n\nimport { UiRouter }                   from '../../router/ui-router'\n\nconst ROUTE_ANIM_MS     = 400\n\n@Component({\n  selector    : 'modal-popup',\n  templateUrl: './modal-popup.component.html',\n  styleUrls: ['./modal-popup.component.scss'],\n  animations: [\n    // trigger('routeAnimation', [\n    //   state('*', \n    //     style({\n    //       'background-color': 'rgba(31,30,76, 0.6)', //primary color's 900 shade\n    //       opacity: 1\n    //     })\n    //   ),\n\n    //   transition(':enter', [\n    //     style({\n    //       'background-color': 'rgba(0,0,0,0)',\n    //       opacity: 1\n    //     }),\n    //     animate('1500ms')\n    //   ]),\n      \n    //   transition(':leave', [\n    //     animate('500ms', style({\n    //       'background-color': 'rgba(0,0,0,0)',\n    //       opacity: 0\n    //     }))\n    //   ])\n    // ]),\n\n    // trigger('ccAnimate', [\n    //   state('*',\n    //     style({\n    //       'transform': 'rotateX(0deg)',\n    //     })\n    //   ),\n\n    //   transition(':enter', [\n    //     style({\n    //       'transform': 'rotateX(90deg)',\n    //     }),\n    //     animate('300ms cubic-bezier(0.55, 0.055, 0.675, 0.19)')\n    //   ])\n      \n    // ])    \n\n    trigger('routeAnimation', [\n      \n      transition(':enter', [\n        group([\n          query(':self', [\n            style({\n              opacity: 0\n            }),\n            animate(ROUTE_ANIM_MS, style({\n              opacity: 1\n            }))\n          ]),\n          query('div.modal-root-div', [\n            style({\n              transform: 'rotateX(90deg)'\n            }),\n            animate(ROUTE_ANIM_MS, style('*'))\n          ])\n        ])\n      ]),\n      transition(':leave', [\n        group([\n          animate(ROUTE_ANIM_MS, style({\n            opacity: 0\n          }))\n        ])\n      ])\n    ])\n  ]\n})\n\nexport class ModalPopupComponent extends InjectionParentBase implements AfterViewInit, OnDestroy {\n\n  @HostBinding('class.glb-flex-centered') true\n  @HostBinding('@routeAnimation') __routeAnimation = true\n  @HostBinding('class.glb-animated-element') animElem   = true\n  // @HostBinding('style.z-index')   zIndex   = 3000;\n  // @HostBinding('style.background-color') bg   = 'rgba(0,0,0,.5)'\n \n  @HostListener('click', ['$event.target']) onHostClick(event) {\n    this.animateClose()\n  }\n  @HostListener('@routeAnimation.start', ['$event']) onRouteAnimationStart(event) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onRouteAnimation-start', event)\n  }\n\n  @HostListener('@routeAnimation.done', ['$event']) onRouteAnimationDone(event) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onRouteAnimation-end', event)\n    if (this.childRequestedClose &&  this.injectedComponent.closeFromParent) {\n      if (this.routeEndProcessed) return\n      this.routeEndProcessed  = true\n      this.injectedComponent.closeFromParent()\n    } else if (this.backPressed && this.injectedComponent.onBackPressed) {\n      if (this.routeEndProcessed) return\n      this.routeEndProcessed  = true\n      this.injectedComponent.onBackPressed()\n    }\n  }\n\n  @ViewChild('componentContainer', { static: true }) componentContainer: ElementRef\n  @ViewChild('injectAt', { read: ViewContainerRef, static: true }) injectAt;\n\n  injectedComponent : ModalInterface\n  private backPressed : boolean\n  private routeEndProcessed : boolean = false\n  \n  @Input() width:string = \"75vw\"\n  @Input() className : string \n\n  constructor(@Inject('RunContext') rc: RunContextBrowser, \n              router: UiRouter,\n              route: ActivatedRoute,\n              componentFactoryResolver: ComponentFactoryResolver,\n              private renderer: Renderer2,\n              private ref: ChangeDetectorRef) {\n\n    super(rc, router, componentFactoryResolver, route)\n    \n    rc.setupLogger(this, 'ModalPopup', LOG_LEVEL.DEBUG)\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'constructor')\n  }\n\n  onRouterInit(params: Mubble.uObject<any>) {\n    \n    super.onRouterInit(params, this.injectAt, true)\n    this.width      = this.injectedComponent.getWidth()\n\n    if (this.injectedComponent.getCssClassName) {\n      this.className  = this.injectedComponent.getCssClassName()\n    }\n  }\n\n  ngAfterViewInit() {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'ngAfterViewInit')\n  }\n\n  onClick(event: any) {\n    event.preventDefault()\n    event.stopPropagation()\n  }\n\n  ignoreScroll(event : any) {\n    const notScrollable = this.injectedComponent.isNotScrollable \n                            && this.injectedComponent.isNotScrollable()\n    if (notScrollable) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy()\n    this.rc.isStatus() && this.rc.status(this.rc.getName(this), 'ngOnDestroy')\n  }\n\n  animateClose() {\n\n    if (this.injectedComponent.isNotDismissable && \n        this.injectedComponent.isNotDismissable()) {\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      'Wont dismiss popup')\n    } else {\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      'Dismissing modal popup in due to host click')\n      this.router.goBack()\n    }\n  }\n\n  onBackPressed() {\n    this.backPressed = true\n  }\n\n  canGoBack() {\n    const childComponent  = this.injectedComponent\n    return childComponent.canGoBack ? childComponent.canGoBack() : true\n  }\n\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Aug 30 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Component, OnInit, \n         OnDestroy, Input, \n         AfterViewInit, Inject }            from '@angular/core'\n\n@Component({\n  selector    : 'loading-overlay',\n  templateUrl : './loading-overlay.component.html',\n  styleUrls : ['./loading-overlay.component.scss']\n})\nexport class LoadingOverlayComponent {\n  \n  @Input() loadingText  : string\n\n  constructor() {\n  }\n}","/*------------------------------------------------------------------------------\n   About      : Contains English translations. Before writing any translation, \n                make sure you append mu to the key.\n                Do not hard code any strings in component that are shown to the user.\n   \n   Created on : Fri Jun 28 2019\n   Author     : Sid\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nexport const LANG_EN_TRANS = {\n\n  //Input Container Component\n  'mu_inpt_cont_futr_date_err'    : 'Future dates are invalid',\n  'mu_inpt_cont_min_amnt_err'     : 'Minimum amount should be greater than 0',\n  'mu_inpt_cont_strt_date_err'    : 'Provide a start date',\n  'mu_inpt_cont_end_date_err'     : 'Provide an end date',\n  'mu_inpt_cont_date_err'         : 'Start date should not exceed end date',\n  'mu_inpt_cont_amnt_err'         : 'Minimum amount should not exceed maximum amount',\n  'mu_inpt_cont_val_err'          : 'Please enter valid value',\n  'mu_fil_upl_retake_photo'       : 'Retake Photo',\n  'mu_fil_upl_take_photo'         : 'Take Photo',\n  'mu_fil_upl_change_text'        : 'Change photo',\n  'mu_fil_upl_upload_photo'       : 'Upload Photo',\n  'mu_fil_upl_upload_err'         : 'Please upload valid photo',\n  'mu_fil_upl_unknow_err'         : 'Could not capture photo',\n  'mu_inpt_cont_sel_err'          : 'Please select valid value',\n\n\n  //Filter Component\n  'mu_fltr_sub_titl'              : 'Filter By :',\n  'mu_fltr_aply_fltr'             : 'Apply Filters',\n  'mu_fltr_clr_fltr'              : 'Clear Filters',\n  'mu_fltr_rqrd'                  : '*',\n  'mu_fltr_clr_all'               : 'Clear all',\n\n  //Data table\n  'mu_dt_tbl_edit'                : 'Edit',\n  'mu_dt_tbl_save'                : 'Save',\n  'mu_dt_tbl_empty_state'         : 'No data to display',\n\n  //Page Not Found\n  'page_not_fond_vist_home'       : 'Visit Home'\n\n}","/*------------------------------------------------------------------------------\n   About      : Dictionary for library components\n   \n   Created on : Fri Jun 28 2019\n   Author     : Sid\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Mubble }        from '@mubble/core'\nimport { LANG_EN_TRANS } from './mu-lang-en'\n\nexport const muDictionary = {\n  [Mubble.Lang.English] : LANG_EN_TRANS\n}","/*------------------------------------------------------------------------------\n   About      : Provider for translations\n   \n   Created on : Tue Jul 04 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { InjectionToken }   from '@angular/core'\nimport { muDictionary }     from './mu-dictionary'\n\n\nexport const TRANSLATIONS = new InjectionToken('translations')\n\nexport const TRANSLATION_PROVIDERS = [\n  { provide: TRANSLATIONS, useValue: muDictionary, multi : true },\n]\n\n\nexport function getTranslations(dictionary) {\n  return mergeDictionaries(muDictionary, dictionary)\n}\n\nexport function mergeDictionaries(muDictionary, dictionary) {\n  Object.keys(muDictionary).forEach((key) => {\n    const value = muDictionary[key]\n    if (dictionary[key]) muDictionary[key] = Object.assign(value, dictionary[key])\n  })\n  \n  return muDictionary\n}","/*------------------------------------------------------------------------------\n   About      : Single instance translation service injected on app level\n   \n   Created on : Tue Jul 04 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { RunContextBrowser }                    from '../../../rc-browser'\nimport { Injectable, \n         Inject \n       }                                        from '@angular/core'\nimport { TRANSLATIONS }                         from './translations'\nimport { Mubble }                               from '@mubble/core'\n\nconst PLACEHOLDER = '%'\n\n@Injectable({\n  providedIn : 'root'\n})\n\nexport class TranslateService {\n\n  constructor(@Inject('RunContext') private rc: RunContextBrowser, \n              @Inject(TRANSLATIONS) private _translations: any) {\n \n    if (Array.isArray(this._translations)) {\n      const obj = {}\n      for (const translate of this._translations) {\n        const keys = Object.keys(translate)\n        for (const key of keys) {\n          if (!obj[key]) {\n            obj[key] = translate[key]\n          } else {\n            Object.assign(obj[key], translate[key])\n          }\n        }\n      }\n      this._translations  = obj\n    } else {\n      throw new Error(`Translations Error. Expected type array. Actual ${typeof this._translations} ${JSON.stringify(this._translations)}`)\n    }\n  }\n  \n  private defaultLang : string = Mubble.Lang.English\n  private currentLang : string\n  private fallback    : boolean = true\n  \n  public getCurrentLanguage() {\n    return this.currentLang || this.defaultLang\n  }\n\n  public setDefaultLanguage(lang: string) {\n    this.defaultLang = lang;\n  }\n\n  public enableFallback(enable: boolean) {\n    this.fallback = enable;\n  }\n  \n  public use(lang: string): void {\n    this.currentLang = lang\n  }\n\n  private translate(key: string): string {\n\n    let translation = key\n\n    // found in current language\n    if (this._translations[this.currentLang] && this._translations[this.currentLang][key]) {\n      return this._translations[this.currentLang][key]\n    }\n\n    // fallback disabled\n    if (!this.fallback) { \n        return translation;\n    }\n\n    // found in default language\n    if (this._translations[this.defaultLang] && this._translations[this.defaultLang][key]) {\n        return this._translations[this.defaultLang][key];\n    }\n\n    return translation\n  }\n\n  public addTranslations(langObj : object, lang : string) {\n    Object.assign(this._translations[lang], langObj)\n  }\n\n  public instant(key: string, words?: string | string[]) { // add optional parameter\n\n    const translation: string = this.translate(key)\n    if (!words) return translation\n    return this.replace(translation, words)\n  }\n\n  public replace(word: string = '', words: string | string[] = '') {\n\n    let translation: string = word\n    const values: string[] = [].concat(words)\n    values.forEach((e, i) => {\n        translation = translation.replace(PLACEHOLDER.concat(<any>i), e)\n    })\n    return translation\n  }\n\n  public addMoreTranslations(langObj : object, lang : string) {\n    this._translations[lang] = {...langObj, ...this._translations[lang]}\n  }\n}","/*------------------------------------------------------------------------------\n   About      : Generic component for filtering which can either be date,\n                date-range, dropdown list, number, number-range or text \n                search\n   \n   Created on : Tue Jun 11 2019\n   Author     : Divya Sinha\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { InputContainerComponent }    from '..'\nimport { Component,\n         ViewChildren,\n         QueryList,\n         Input,\n         Output,\n         Inject,\n         EventEmitter\n       }                              from '@angular/core'\nimport { TrackableScreen }            from '../../../ui/router/trackable-screen'\nimport { RunContextBrowser }          from '../../../rc-browser'\nimport { DISPLAY_TYPE, \n         DISPLAY_MODE, \n         FilterItem,\n         MuSelectedFilter,\n         FILTER_MODE,\n         StepSelectedFilter\n       }                              from '@mubble/core'\nimport { OutputParams }               from '../cmn-inp-cont'\nimport { TranslateService } from '../translate/translate.service'\n\n\nenum CONTEXT {\n  INIT,\n  CLEAR,\n  UPDATE\n}\n\nexport interface SelectedFilter {\n  id           : string\n  mode         : FILTER_MODE\n  value        : any\n  displayType ?: DISPLAY_TYPE\n}\n\nexport interface DateRangeInterface { \n  startDate  : number\n  endDate   ?: number\n}\n\nexport interface NumberRangeInterface {\n  minAmount  : number\n  maxAmount ?: number\n}\n\n@Component({\n  selector    : 'filter',\n  templateUrl : './filter.component.html',\n  styleUrls   : ['./filter.component.scss']\n})\n\nexport class FilterComponent {\n\n  @ViewChildren('inputCont') inputContInstances : QueryList<InputContainerComponent>\n\n  @Input()  filterItems         : FilterItem[]      = []\n  @Input()  screen              : TrackableScreen\n  @Input()  webMode             : boolean           = false   //if we want to use filter component as full page\n  @Input()  displayCount        : number            = 1\n  @Input()  displayMode         : DISPLAY_MODE      = DISPLAY_MODE.HORIZONTAL\n  @Input()  applyBtnTitle       : string\n\n  @Output() selectedFilter      : EventEmitter<MuSelectedFilter[]> = new EventEmitter<MuSelectedFilter[]>()\n  @Output() stepSelectedFilter  : EventEmitter<StepSelectedFilter>  = new EventEmitter<StepSelectedFilter>()\n\n  filters      : MuSelectedFilter[]   = []\n  DISPLAY_MODE : typeof DISPLAY_MODE  = DISPLAY_MODE\n  filterChips  : string[]             = []\n  applyBtnText : string\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n              private translate : TranslateService) { }\n\n  ngOnInit() {\n    this.applyBtnText = this.applyBtnTitle ? this.applyBtnTitle \n                                           : this.translate.instant('mu_fltr_aply_fltr')\n    this.initialize(CONTEXT.INIT)\n  }\n\n  /*=====================================================================\n                              UTILS\n  =====================================================================*/\n\n  public updateLastAppliedFilters(lastFilters : FilterItem[]) {\n    this.filterItems = lastFilters\n    this.initialize(CONTEXT.UPDATE)\n  }\n\n  /*=====================================================================\n                                  HTML\n  =====================================================================*/\n  applyFilters() {\n    \n    this.filterChips = []\n\n    const inputContInstances = this.inputContInstances.toArray()\n    \n    inputContInstances.forEach(inputContInstance => {\n      inputContInstance.onSubmit()\n    })\n\n    if (this.hasError()) return\n\n    if (!this.valueChanged()) {      \n      this.selectedFilter.emit([])  //empty array indicates that the previous filters and current filters are same\n      return\n    }\n    \n    this.selectedFilter.emit(this.filters)\n  }\n\n  clearFilters() {\n    const inputContInstances = this.inputContInstances.toArray()\n\n    inputContInstances.forEach(inputContInstance => {\n      inputContInstance.onSubmit()\n    })\n\n    this.initialize(CONTEXT.CLEAR)\n    this.filterChips = []\n    this.selectedFilter.emit(undefined)   //on clearing, we just return undefined\n  }\n\n  setFilterItems(event : OutputParams) {\n\n    this.setFilterChips(event)\n\n    const index = this.filters.findIndex(element => element.id === event.id)\n    this.filters[index].value = event.value\n  }\n\n  onFilterSelected(event: StepSelectedFilter) {\n    this.stepSelectedFilter.emit(event)\n  }\n\n  resetFilters(filterItems : FilterItem[]) {\n\n    for (const fItem of filterItems) {\n      const currentIdx = this.filterItems.findIndex(val => val.params.id === fItem.params.id)\n      if (currentIdx == -1) continue\n      this.filterItems.splice(currentIdx, 1, fItem)\n    }\n  }\n\n  /*=====================================================================\n                                  PRIVATE\n  =====================================================================*/\n\n  private hasError() {\n    const inputContInstances = this.inputContInstances.toArray()\n\n    return inputContInstances.some(inputContInstance => {\n      return inputContInstance.hasError()\n    })\n  }\n\n  private valueChanged() : boolean {\n\n    // const existingFilterItems = []\n\n    // for (const filterItem of this.filterItems) {\n\n    //   const muSelectedFilter : MuSelectedFilter  = {\n    //     id          : filterItem.params.id,\n    //     mode        : filterItem.mode,\n    //     value       : filterItem.params.value || null,\n    //     displayType : filterItem.params.displayType\n\n    //   }\n    //   existingFilterItems.push(muSelectedFilter)\n\n    // }\n\n    // console.log('isEqual',isEqual(existingFilterItems, this.filters))\n\n\n    for (const fItem of this.filterItems) {\n      const index = this.filters.findIndex(element => element.id === fItem.params.id)\n      let changed : boolean = false\n      \n      //checking if the previous filter value has changed or not according to the display type\n      switch(fItem.params.displayType) {\n\n        case DISPLAY_TYPE.CALENDAR_BOX              :\n        case DISPLAY_TYPE.INPUT_BOX                 :\n        case DISPLAY_TYPE.SELECTION_BOX             :\n        case DISPLAY_TYPE.ROW_INPUT_BOX             :\n        case DISPLAY_TYPE.MULTI_CHECK_BOX           :\n        case DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX  : \n        case DISPLAY_TYPE.RADIO                     :\n        case DISPLAY_TYPE.AUTOCOMPLETE_SELECT       :\n        case DISPLAY_TYPE.SLIDER                    : \n          (!fItem.params.value && !this.filters[index].value)\n          ? changed = false\n          : changed = fItem.params.value !== this.filters[index].value\n          break\n\n        case DISPLAY_TYPE.DATE_RANGE    :\n          const dateRangeKeys  = fItem.params.rangeKeys || ['startDate', 'endDate'];\n          ((!fItem.params.value[dateRangeKeys[0]] && !this.filters[index].value[dateRangeKeys[0]]) &&\n          (!fItem.params.value[dateRangeKeys[1]] && !this.filters[index].value[dateRangeKeys[1]]))\n          ? changed = false\n          : changed = (fItem.params.value[dateRangeKeys[0]] !== this.filters[index].value[dateRangeKeys[0]]) ||\n                      (fItem.params.value[dateRangeKeys[1]] !== this.filters[index].value[dateRangeKeys[1]])\n          break\n\n        case DISPLAY_TYPE.NUMBER_RANGE  :\n          const numRangeKeys  = fItem.params.rangeKeys || ['minAmount', 'maxAmount'];\n\n          ((!fItem.params.value[numRangeKeys[0]] && !this.filters[index].value[numRangeKeys[0]]) &&\n          (!fItem.params.value[numRangeKeys[1]] && !this.filters[index].value[numRangeKeys[1]]))\n          ? changed = false\n          : changed = (fItem.params.value[numRangeKeys[0]] !== this.filters[index].value[numRangeKeys[0]]) ||\n                      (fItem.params.value[numRangeKeys[1]] !== this.filters[index].value[numRangeKeys[1]])\n          break\n      }\n    // isEqual(existingFilterItems, this.filters), changed)\n\n      if (changed)  return changed\n    }\n\n    return false\n  }\n\n  private initialize (context : CONTEXT) {\n\n    if (context === CONTEXT.INIT) {\n      for (const fItem of this.filterItems) {\n        this.filters.push({ id : fItem.params.id, value : fItem.params.value, mode : fItem.mode, displayType : fItem.params.displayType })\n      }\n    } else if (context === CONTEXT.CLEAR) {\n      this.filters      = []\n      const fItems : FilterItem[] = []\n\n      for (const fItem of this.filterItems) {\n        const setNull = fItem.params.displayType === DISPLAY_TYPE.DATE_RANGE\n                        ? { startDate : null, endDate : null }\n                        : fItem.params.displayType === DISPLAY_TYPE.NUMBER_RANGE\n                        ? { minAmount : null, maxAmount : null }\n                        : null\n\n        fItem.params.value  = setNull\n\n        fItems.push({\n          params  : fItem.params,\n          mode    : fItem.mode\n        })\n\n        this.filters.push({ id : fItem.params.id, value : setNull, mode : fItem.mode, displayType : fItem.params.displayType })\n        \n      }\n\n      this.filterItems  = []\n      this.filterItems  = fItems\n    } else {\n      const fItems  : FilterItem[]        = [],\n            filters : MuSelectedFilter[]  = []\n\n      for (const fItem of this.filterItems) {\n\n        const currentValue  = this.filters.find(val => val.id === fItem.params.id && fItem.params.value)\n        fItem.params.value  = currentValue ? currentValue.value : null\n\n        fItems.push({\n          params  : fItem.params,\n          mode    : fItem.mode,\n        })\n\n        filters.push({ id : fItem.params.id, value : fItem.params.value, mode : fItem.mode, displayType : fItem.params.displayType })\n      }\n\n      this.filterItems  = []\n      this.filterItems  = fItems\n      this.filters      = filters\n      \n    }\n  }\n\n  private setFilterChips(event : OutputParams) {\n\n    switch(event.displayType) {\n\n      case DISPLAY_TYPE.CALENDAR_BOX  :\n        //Do we need it?\n        break\n\n      case DISPLAY_TYPE.INPUT_BOX     :\n      case DISPLAY_TYPE.ROW_INPUT_BOX :\n        if (event.value) this.filterChips.push(event.value)\n        break\n\n      case DISPLAY_TYPE.MULTI_CHECK_BOX           :\n      case DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX  : \n\n        if (event.value) {\n\n          const checkboxValues  = event.value\n\n          checkboxValues.forEach(val => {\n            this.filterChips.push(val.value)\n          })\n\n        }\n\n        break\n\n      case DISPLAY_TYPE.SELECTION_BOX       :\n      case DISPLAY_TYPE.RADIO               :\n      case DISPLAY_TYPE.AUTOCOMPLETE_SELECT :\n      case DISPLAY_TYPE.SLIDER              : \n        if (event.value) this.filterChips.push(event.value.value)\n        break\n\n      case DISPLAY_TYPE.DATE_RANGE  :\n        //Do we need it?\n        break\n\n      case DISPLAY_TYPE.NUMBER_RANGE  :\n        //Do we need it?\n        break\n\n\n    }\n\n  }\n\n}","import { NgModule }                     from '@angular/core'\nimport { RouterModule,\n         Routes\n       }                                from '@angular/router'\n\nimport { BottomInComponent }            from './bottom-in/bottom-in.component'\nimport { ModalPopupComponent }          from './modal-popup/modal-popup.component'\nimport { ComponentRoutes }              from '../router/shared-router-constants'\nimport { LoadingOverlayComponent }      from './loading/loading-overlay/loading-overlay.component'\nimport { FilterComponent }              from './filter/filter.component'\n\nconst routes: Routes = [\n  {\n    path      : ComponentRoutes.LoadingOverlay,\n    component : LoadingOverlayComponent\n  },\n  { \n    path      : ComponentRoutes.Modal,\n    component : ModalPopupComponent,\n    outlet    : 'modal'\n  },\n  {\n    path      : ComponentRoutes.BottomIn,\n    component : BottomInComponent,\n    outlet    : 'modal'\n  },\n  {\n    path      : ComponentRoutes.Filter,\n    component : FilterComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class MuComponentsRoutingModule {}","/*------------------------------------------------------------------------------\n   About      : Globally accessible Pipe for translations\n   \n   Created on : Tue Jul 04 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Pipe, PipeTransform } from '@angular/core'\nimport { TranslateService}     from './translate.service'\n\n@Pipe({\n    name: 'translate',\n    pure: false\n})\n\nexport class TranslatePipe implements PipeTransform {\n\n  constructor(private _translate: TranslateService) { }\n\n  transform(value: string, args ?: string | string[]): any { // args can be string or string array\n    if (!value) return;\n    return this._translate.instant(value, args); // pass in args\n  }\n}","import { BREAKPOINT } from \"@angular/flex-layout\";\n\nconst CUSTOM_BREAKPOINTS = [\n  {\n    alias: \"sm\",\n    suffix: \"sm\",\n    mediaQuery: \"screen and (min-width: 780px) and (max-width: 959px)\",\n    overlapping: false\n  }\n]\n\nexport const CustomBreakPointsProvider = {\n  provide: BREAKPOINT,\n  useValue: CUSTOM_BREAKPOINTS,\n  multi: true\n}","/*------------------------------------------------------------------------------\n   About      : <Autofocuses the input element on page load every time>\n   \n   Created on : Thu Aug 10 2017\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\n\nimport { Directive, ElementRef, \n         AfterViewInit, ChangeDetectorRef } from '@angular/core';\n\n@Directive({\n  selector: '[ncAutoFocus]'\n})\n\nexport class NcAutoFocusDirective implements AfterViewInit {\n\n  constructor(private element   : ElementRef,\n              private changeRef : ChangeDetectorRef) {\n  }\n\n  ngAfterViewInit() { \n    this.element.nativeElement.focus()\n    this.changeRef.detectChanges()\n  }\n}","/*------------------------------------------------------------------------------\n   About      : supports maxlength attribute for mobile devices\n   \n   Created on : Mon Mar 05 2018\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2018 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\n\nimport { Directive,\n         ElementRef,  \n         Input, \n         Renderer2,\n         Output, \n         NgZone,\n         EventEmitter\n       }                        from '@angular/core'\n\n\nconst KEY_UP    = 'keyup',\n      PASTE     = 'paste',\n      CUT       = 'cut',\n      NUMERIC   = 'numeric',\n      BACKSPACE = 'Backspace'\n\nconst pattern = /[\\/\\- ]/\n\n@Directive({\n  selector: '[ncMaxLength]'\n})\n\nexport class NcMaxLengthDirective {\n  \n  @Input('ncMaxLength') protected maxLength : number = 0\n  @Input('format') format : string\n\n\n  @Output() updatedValue : EventEmitter<string> = new EventEmitter<string>()\n   \n  private eventHandlers : (()=>void)[] = []\n\n  constructor(protected element   : ElementRef,\n              protected renderer  : Renderer2,\n              protected ngZone    : NgZone) {\n  }\n\n  ngAfterViewInit() {\n    this.maxLength  = Number(this.maxLength) \n    if (typeof this.maxLength !== 'number') return\n    this.eventHandlers.push(this.renderer.listen(this.element.nativeElement, KEY_UP, this.eventHandler.bind(this)),\n    this.renderer.listen(this.element.nativeElement, PASTE, this.clipBoardEventHandler.bind(this)),\n    this.renderer.listen(this.element.nativeElement, CUT, this.clipBoardEventHandler.bind(this)))\n    \n  }\n\n  protected handleEvent(event : any) {\n    this.eventHandler(event)\n  }\n\n  private clipBoardEventHandler(event : any) {\n    \n    setTimeout(() => {\n      this.ngZone.runOutsideAngular(() => {\n        this.eventHandler(event)\n      })\n    }, 0)\n  } \n \n  private eventHandler(event : any) { \n   \n    this.ngZone.runOutsideAngular(() => {\n\n      const element   = event.srcElement\n\n      if (element.inputMode) {\n\n        const validInput : boolean =  element.inputMode === NUMERIC && element.value.trim().length \n                                      && !isNaN(element.value)\n\n        if (validInput === false) {\n          const currentValue  = element.value as string,\n                invalidIndex  = currentValue.indexOf(event.key)\n\n          element.value = (element.value as string).substring(0, invalidIndex)\n          event.srcElement.value  = element.value\n          return\n        }\n      }\n\n      \n      if (event.key === BACKSPACE) {\n        this.emitUpdatedValue(element.value)\n        return\n      }\n\n      if (element.value.length > this.maxLength) { \n        event.preventDefault()\n        element.value = element.value.substring(0, this.maxLength)\n      } \n\n      if (this.format) {\n\n        const formatStr = this.format\n        let val = element.value\n\n        for (let i = 0 ; i < element.value.length; i++) {\n      \n            if (pattern.test(formatStr[i + 1]) && val[i + 1] !== formatStr[i + 1]) {\n              val = val.substr(0,i + 1) + formatStr[i + 1] + val.substr(i + 1)\n            }    \n        }\n        element.value = val\n      }\n\n      const scrollHeight  = element.scrollHeight,\n            clientHeight  = element.clientHeight\n      if ( scrollHeight > clientHeight && element.scrollTop !== scrollHeight - clientHeight ) {\n        element.scrollTop = scrollHeight - clientHeight\n      }\n\n      this.emitUpdatedValue(element.value)\n      event.srcElement.value  = element.value\n      return\n    })\n  }\n\n  private emitUpdatedValue(value: string) {\n    this.ngZone.run(() => {\n      this.updatedValue.emit(value)\n    })\n    \n  }\n\n  ngOnDestroy() {\n    for (const eventHandler of this.eventHandlers) {\n      eventHandler()\n    }\n    this.eventHandlers = []\n  }\n\n}","import { Directive,\n         EventEmitter,\n         HostBinding,\n         HostListener,\n         Input,\n         Output }         from '@angular/core'\n\n@Directive({\n  selector: '[long-press]'\n})\nexport class LongPressDirective {\n\n  private timeoutId   : number = null\n  private intervalId  : number = null\n\n  private isLongPressing: boolean\n  private isPressing: boolean\n\n  @Output() onLongPress     = new EventEmitter()\n  @Output() onLongPressing  = new EventEmitter()\n  @Output() isTouching      = new EventEmitter()\n\n  @Input() timeout: number = 1000\n\n  @HostBinding('class.press')\n  get press() {\n    return this.isPressing\n  }\n\n  @HostBinding('class.long-press')\n  get longPress() {\n    return this.isLongPressing\n  }\n\n  @HostListener('touchstart', ['$event'])\n  public onMouseDown(event) {\n    this.isPressing     = true\n    this.isTouching.emit(true)\n    this.isLongPressing = false\n\n    this.timeoutId = (<any> window).setTimeout(() => {\n      this.isLongPressing = true\n      this.onLongPress.emit(event)\n\n      this.intervalId = (<any> window).setInterval(() => {\n        this.onLongPressing.emit(event)\n      }, 30)\n    }, this.timeout)\n  }\n\n  @HostListener('touchend', ['$event'])\n  public onMouseLeave() {\n    this.endPress()\n  }\n\n  private endPress() {\n    if (this.timeoutId !== null)\n      clearTimeout(this.timeoutId)\n\n    if (this.intervalId !== null)\n      clearInterval(this.intervalId)\n\n    this.isLongPressing = false\n    this.isPressing     = false\n    this.isTouching.emit(false)\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : dynamically adds class to the element\n   \n   Created on : Mon Jul 30 2018\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2018 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Directive,\n         ElementRef,  \n         Input, \n         Renderer2, \n       }                        from '@angular/core'\n\n@Directive({\n  selector: '[ncClass]'\n})\n\nexport class NcStyleClassDirective {\n\n  @Input('ncClass') ncClass : string \n\n  constructor(private element   : ElementRef,\n              private renderer  : Renderer2) {\n  }\n\n  ngAfterViewInit() {\n    this.renderer.addClass(this.element.nativeElement, this.ncClass)\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : Assign width and margin to elements in a single row\n   \n   Created on : Mon Nov 11 2019\n   Author     : Divya Sinha\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Directive,\n         ElementRef,\n         Input\n       }                        from '@angular/core'\n\nexport interface WebModeCss {\n  width         : string\n  marginRight  ?: string\n  maxWidth     ?: string\n}\n\n@Directive({\n  selector: '[adjustElements]'\n})\n\nexport class AdjustElementsDirective {\n  @Input('displayInSingleRow')  displayCount  : number  = 1     //number of elements to be displayed in a single row\n  @Input('elementIndex')        index         : number          //element index\n  @Input('webMode')             webMode       : boolean = false //if implemented in web mode, only then will this adjust otherwise it will take 100% width\n\n  constructor (private element  : ElementRef) { }\n\n  ngAfterViewInit() {\n    const webModeCss  : WebModeCss  = this.calcWidth()\n\n    if ((this.index + 1) % this.displayCount !== 0) {\n      this.element.nativeElement.style.width        = webModeCss.width\n      this.element.nativeElement.style.marginRight  = webModeCss.marginRight\n      this.element.nativeElement.style.maxWidth     = webModeCss.maxWidth\n    } else {\n      this.element.nativeElement.style.width        = webModeCss.width\n      this.element.nativeElement.style.maxWidth     = webModeCss.maxWidth\n    }\n  }\n\n  private calcWidth() : WebModeCss {\n    const webModeCss : WebModeCss = { } as WebModeCss\n\n    if (!this.webMode) {\n      webModeCss.width = '100%'\n      return webModeCss\n    }\n\n    switch(this.displayCount) {\n      /* If the situation says that the parent wants to display 1 or 2 elements per row, we \n      are assigning it manually. Otherwise we are iterating the 100% width in the for loop. */\n\n      case 1  : webModeCss.width    = '60%'\n                webModeCss.maxWidth = '400px'\n                break\n\n      case 2  : webModeCss.width        = '45%'\n                webModeCss.marginRight  = '10%'\n                webModeCss.maxWidth     = '400px'\n                break\n\n      case 3  : webModeCss.width        = '30%'\n                webModeCss.marginRight  = '3%'\n\n      default : let width       : string,\n                    marginRight : string,\n                    index       : number\n\n                /* Considering the full width to be 100%, we are looping from 99 to get the maximum\n                width and minimum margin. The total width of the element container should be a\n                multiple of display count where as the total margin width should be a multiple of\n                (display count - 1).\n\n                This is because we are not providing the margin to the last container but giving a\n                margin right to other divs. If the total width of element container is x% then\n                total margin width becomes (100 - x)%. For eg. say our display count is 4.\n\n                For display count 4, there are 4 elements and 3 empty spaces in one row. Largest \n                number closest to 100 is assigned to total width where are largest number closest\n                to 0 is assigned to total margin. This helps us show the content in the maximum\n                space and give minimum possible space between them.\n\n                Here we are not starting the loop from 100 because if the display count is a factor\n                of 100 then it won't provide any margin hence making it difficult to distinguish\n                between two adjacent divs.\n\n                For display count = 4, we calculate from the loop that maximum width of each element\n                is 19% and margin between any two consecutive elements will be 8%. Hence, (4 * 19) +\n                (3 * 8) = 76 + 24 = 100% width is covered.\n                \n                While checking for margin, we are keeping one more check that margin to be given on \n                right should be more than the total elements to be displayed in single row.*/\n\n                for (index = 99 ; index > 1 ; index--) {\n                  if ((index % this.displayCount === 0) &&\n                    (((100 - index) % (this.displayCount - 1) === 0) &&\n                    ((100 - index) / (this.displayCount - 1) > this.displayCount))) {\n\n                    width       = (index / this.displayCount).toString().concat('%')\n                    marginRight = ((100 - index) / (this.displayCount - 1)).toString().concat('%')\n                    break\n                  }\n                }\n\n                webModeCss.width        = width\n                webModeCss.marginRight  = marginRight\n                break\n    }\n\n    return webModeCss\n  }\n}","/*------------------------------------------------------------------------------\n   About      : Directive to provide colorful box with name initial inside of it\n   \n   Created on : Tue Dec 03 2019\n   Author     : Pulkit Chaturvedi\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Directive,\n         Input,\n         ElementRef \n       }                        from '@angular/core'\n       \n@Directive({\n  selector: '[ncFallbackChar]'\n})\n\nexport class NcFallbackCharDirective {\n\n  private dynamicColorObj : any = {} \n  private initialChar     : string\n\n  @Input('ncFallbackChar') data     :  string\n  @Input('needOneChar') needOneChar : boolean \n\n  constructor(private element : ElementRef) { \n\n  }\n\n  ngAfterViewInit() {\n    this.createDynamicColor()\n    this.initialChar = this.getFirstCharacter(this.data)\n    this.setColor(this.initialChar)\n  }\n\n  createDynamicColor() {\n    const l = '60%'\n  \n    let cac = 64,\n        spH = 0,\n        spL = 0\n\n    for(let i=1; i<=26; i++) {\n      const h = spH + 10\n      spH += 10\n\n      for(let j=0; j<=26; j++) {\n        const s = j ? spL + 3 : 60\n        spL += 3\n        const col = `hsl(${h}, ${s}%, ${l})`\n        if(j) {\n          this.dynamicColorObj[`${String.fromCharCode(cac + i)}${String.fromCharCode(cac + j)}`] = col\n        } else {\n          this.dynamicColorObj[String.fromCharCode(cac + i)] = col\n        }\n        \n      }\n\n      spL = 0\n    }\n  }\n\n  getFirstCharacter(str : string) : string {\n    const strArr : string[] = str.split(' ')\n\n    const regExp = new RegExp('[a-zA-Z][a-zA-Z ]*')\n\n    const charStr = strArr.filter((str) => {\n      return regExp.test(str)\n    })\n\n    let initials : string\n\n    if (this.needOneChar) {\n      return initials = charStr[0].charAt(0).toUpperCase()\n    }\n    \n    if (charStr.length > 1) {\n      initials = (charStr[0].charAt(0) + strArr[1].charAt(0)).toUpperCase()\n    } else {\n      initials = charStr[0].charAt(0).toUpperCase()\n    }\n\n    return initials\n  }\n\n  setColor(key : string) {\n    this.dynamicColorObj[key] as string\n    this.element.nativeElement.innerHTML        = this.initialChar\n    this.element.nativeElement.style.background = this.dynamicColorObj[key] as string\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Autofocuses the input element on page load every time>\n   \n   Created on : Thu Aug 10 2017\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\n\nimport { Directive, \n         ElementRef,\n         Input, \n         Inject,\n         Renderer2\n       }                      from '@angular/core'\nimport debounce               from 'lodash/debounce'\n\n@Directive({\n  selector: '[keyboard]'\n})\n\nexport class KeyboardDirective {\n\n  @Input('keyboard') parentDiv  : HTMLElement\n\n  private originalParentHeight  : number\n  private originalBodyHeight    : number\n\n  private isHeghtAuto   : boolean\n  \n  constructor(@Inject('RunContext') protected rc  : any,\n              private element                     : ElementRef,\n              private renderer                    : Renderer2) {\n  }\n\n  ngAfterViewInit() {\n    \n    if (!this.parentDiv) return\n\n    if (this.isHeghtAuto === undefined) {\n      this.isHeghtAuto  = !this.parentDiv.style.height.length\n    } \n\n    this.renderer.addClass(this.element.nativeElement, 'mui-event-adjust-pan-screen')\n    this.renderer.listen(this.element.nativeElement, 'mui-event-adjust-pan-screen', this.onCustomEvent.bind(this))\n    this.renderer.listen(this.element.nativeElement, 'focus', this.onCustomEvent.bind(this))\n    this.renderer.listen(this.element.nativeElement, 'blur', this.onBlur.bind(this))\n\n    if (this.rc.bridge.isRunningInMWeb()) {\n      this.handleKeyBoardEvents()\n      window.addEventListener('resize', debounce(this.handleKeyBoardEvents.bind(this), 300))\n    }\n  }\n\n  private handleKeyBoardEvents() {\n\n    const bodyHeight  = document.body.getBoundingClientRect().height\n\n    if (!this.originalBodyHeight) this.originalBodyHeight = bodyHeight\n\n    const keyboardHeight          = this.originalBodyHeight - bodyHeight\n    this.rc.bridge.currKeyboardHt = - keyboardHeight\n\n    this.onCustomEvent()\n\n  }\n\n  private onBlur() {\n\n    if (this.rc.bridge.isRunningInBrowser() && !this.rc.bridge.isRunningInMWeb()) return\n\n    if (this.isHeghtAuto) {\n      this.renderer.removeStyle(this.parentDiv, 'height')\n    } else {\n      this.parentDiv.style.height = this.originalParentHeight + 'px'\n    }\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `onBlur original Height ${this.originalParentHeight}`)\n\n    if (this.rc.bridge.isRunningInMWeb()) {\n      window.scrollTo(0,0)\n    }\n  }\n\n  private onCustomEvent() {\n\n    if (this.rc.bridge.isRunningInBrowser() && !this.rc.bridge.isRunningInMWeb()) return\n\n    const keyboardHeight  = this.rc.bridge.currKeyboardHt,\n          parentDiv       = this.parentDiv,\n          parentDivRect   = parentDiv.getBoundingClientRect()\n     \n\n          \n    if (document.activeElement !== this.element.nativeElement) return\n\n    if (keyboardHeight < 0) {\n      \n      this.originalParentHeight = this.parentDiv.getBoundingClientRect().height\n      parentDiv.style.height = (parentDivRect.height - keyboardHeight) + 'px'\n\n      const scrollOptions = {\n        behaviour : 'smooth',\n        block     : 'center',\n        inline    : 'start'\n      }\n\n      this.element.nativeElement.scrollIntoView(scrollOptions)\n\n      if (this.rc.bridge.isRunningInMWeb()) {\n        window.scrollTo(0,0)\n      }\n  \n    } else {\n      this.onBlur()\n    }\n  }\n\n  ngOnDestroy() {\n    this.renderer.removeClass(this.element.nativeElement, 'mui-event-adjust-pan-screen')\n  }\n}","/*------------------------------------------------------------------------------\n   About      : <Autofocuses the input element on page load every time>\n   \n   Created on : Thu Aug 10 2017\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\n\nimport { Directive,\n         Input, \n         Inject,\n         HostListener,\n         Output,\n         EventEmitter\n       }                      from '@angular/core'\nimport { RunContextBrowser }  from '../../../rc-browser'\n\n@Directive({\n  selector: '[nextInpFocus]'\n})\n\nexport class NextInpFocusDirective {\n\n  @HostListener('keydown.enter', ['$event.target']) onHostSubmit(event : any ) {\n    this.onEnter(event)\n  }\n\n  @Input('nextInpFocus') nextInpFocusElem : HTMLElement\n  @Output() onSubmit : EventEmitter<any> = new EventEmitter<any>()\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser) {\n  }\n\n  private onEnter(event : any) {\n    if (this.nextInpFocusElem) {\n      this.nextInpFocusElem.focus()\n    } else {\n      this.onSubmit.emit(event)\n    }\n  }\n}","/*------------------------------------------------------------------------------\n   About      : This directive prevents accidental double clicking on elements.\n                It disables the click events on an element for ALLOW_CLICK_DELAY \n                milliseconds by default or you can pass it a number value in\n                milliseconds.\n   \n   Created on : Thu Nov 06 2017\n   Author     : Pranjal Dubey\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Directive,\n         HostListener,\n         EventEmitter,\n         Input, \n         Output, \n         HostBinding,\n         Inject,\n         ElementRef,\n         Renderer2\n       }                      from '@angular/core'\nimport { RunContextBrowser }  from '../../../rc-browser'\n\nconst ALLOW_CLICK_DELAY  = 1000\nconst BUTTON  = 'BUTTON'\n\n@Directive({\n  selector: '[ncAllowSingleClick]'\n})\nexport class NcAllowSingleClickDirective {\n  \n  @Input('ncPreventDoubleClick') allowClickDelay: number\n  \n  @Output() ncClick : EventEmitter<any> = new EventEmitter<any>()\n\n  private clickEnabled: boolean = true\n  private originialColor  : string  = ''\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n              private element                     : ElementRef,\n              private renderer                    : Renderer2) {\n  \n  }\n\n  onMouseOver() {\n    if (this.element.nativeElement.tagName  === BUTTON || !this.rc.bridge.isRunningInBrowser()) return\n\n    if (!this.originialColor) {\n      this.originialColor = window.getComputedStyle(this.element.nativeElement, null).getPropertyValue('background-color')\n    }\n\n    this.element.nativeElement.style.background = '#f2f5f7'\n  }\n\n  @HostListener ('click', ['$event']) onClick($event) {\n\n    this.applyOriginalBg()\n\n    if (!this.clickEnabled) return\n    \n    this.clickEnabled    = false\n    this.allowClickDelay = this.allowClickDelay || ALLOW_CLICK_DELAY\n\n    setTimeout(this.allowClick.bind(this), this.allowClickDelay)\n\n    this.ncClick.emit($event)\n  }\n\n  ngAfterViewInit() {\n    this.element.nativeElement.style.cursor = 'pointer'\n    this.renderer.listen(this.element.nativeElement, 'mouseover', this.onMouseOver.bind(this))\n    this.renderer.listen(this.element.nativeElement, 'mouseout',  this.applyOriginalBg.bind(this))\n    this.renderer.listen(this.element.nativeElement, 'click',     this.applyOriginalBg.bind(this))\n  }\n\n  allowClick() {\n    this.clickEnabled = true\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n  private applyOriginalBg() {\n    if (this.element.nativeElement.tagName  === BUTTON || !this.rc.bridge.isRunningInBrowser()) return\n    this.element.nativeElement.style.background = this.originialColor || 'initial'\n  }\n}\n","import { Directive,\n         Input,\n         HostListener,\n         ElementRef }       from '@angular/core'\n\nexport enum IMAGE_TYPE {\n  WALLET  = 'WALLET',\n  APP     = 'APP',\n  BANK    = 'BANK',\n  PROFILE = 'PROFILE'\n}\n\nconst APP_ICON     = 'images/app-logo-hoz.jpg',\n      WALLET_ICON  = 'svg-icons/ic-primary-wallet.svg',\n      BANK_ICON    = 'svg-icons/ic-bank-activity-fill.svg',\n      PROFILE_ICON = 'svg-icons/ic-user-gray.svg'\n\n@Directive({\n  selector: '[ncImgFallback]'\n})\n\nexport class NcImgFallbackDirective {\n\n  @Input() data: [IMAGE_TYPE, any] | IMAGE_TYPE\n\n  constructor(private element: ElementRef) { }\n\n  @HostListener ('error') onError() {\n\n    if (!Array.isArray(this.data)) {\n      this.setFallbackImage(this.data)\n      return\n    }\n    \n    if (this.data[1] && this.data[1].r && this.data[1].g && this.data[1].b) {\n      this.element.nativeElement.style.background = this.getColor(this.data[1])\n      return\n    }\n\n    this.setFallbackImage(this.data[0])\n  }\n\n  private setFallbackImage(type: IMAGE_TYPE) {\n\n    switch(type) {\n      \n      case IMAGE_TYPE.WALLET:\n        this.element.nativeElement.src  = WALLET_ICON\n        break\n\n      case IMAGE_TYPE.APP:\n        this.element.nativeElement.src  = APP_ICON\n        break\n\n      case IMAGE_TYPE.BANK  :\n        this.element.nativeElement.src  = BANK_ICON\n        break\n\n      case IMAGE_TYPE.PROFILE:\n        this.element.nativeElement.src  = PROFILE_ICON\n        break\n        \n      default:\n        this.element.nativeElement.src = APP_ICON\n    }\n  }\n\n  private getColor(color: any): string {\n    return `rgb(${color.r}, ${color.g}, ${color.b})`\n  }\n}\n\n\n","import {\n         Directive,\n         Output,\n         HostListener,\n         ElementRef,\n         EventEmitter,\n         Input,\n         Renderer2\n       }                          from '@angular/core'\nimport { Mubble }                 from '@mubble/core'\n\n@Directive({\n  selector: '[validateImg]'\n})\n\nexport class ValidateImgDirective {\n\n  @Input() public payload   : Mubble.uObject<string> // { base64: string, ...args }\n  @Output() public imgLoaded : EventEmitter<Mubble.uObject<string>> = new EventEmitter<Mubble.uObject<string>>()\n  @Output() public imgError  : EventEmitter<Mubble.uObject<string>> = new EventEmitter<Mubble.uObject<string>>()\n\n  constructor(private element   : ElementRef,\n              private renderer  : Renderer2) {}\n\n  ngAfterViewInit() {\n\n    this.renderer.addClass(this.element.nativeElement, 'img-validator')\n    this.element.nativeElement.src = this.payload.base64\n  }\n\n  @HostListener('error') onError() {\n    this.imgError.emit(this.payload)\n  }\n\n  @HostListener('load') onLoad() {\n    this.imgLoaded.emit(this.payload)\n  }\n\n}\n","import { Pipe, \n         PipeTransform,\n         Inject, \n         Injector\n       }                      from '@angular/core'\nimport { RunContextBrowser }  from '../../../rc-browser'\n\n\n@Pipe({ name: 'genericPipe' })\n\nexport class GenericPipe implements PipeTransform {\n\n  constructor (@Inject('RunContext') private rc : RunContextBrowser,\n               private injector                 : Injector) { \n\n  }\n\n  transform(value : any, pipeName : string, pipeParams : any[]) {\n    \n    if (!pipeName) return value\n\n    const pipe = this.injector.get<PipeTransform>(<any>pipeName) \n\n    if (pipe.transform && typeof  pipe.transform === 'function') {\n\n      if (pipeParams) return pipe.transform(value, ...pipeParams)\n\n      return pipe.transform(value)\n    }\n    \n    return value  \n  }\n\n\n}\n","import { Pipe, \n         PipeTransform,\n         Inject \n       }                             from '@angular/core'\nimport { RunContextBrowser }        from '../../../rc-browser'\n\n\n@Pipe({\n  name: 'extractMobileNo'\n})\n\nexport class ExtractMobileNoPipe implements PipeTransform {\n\n  constructor (@Inject('RunContext') private rc : RunContextBrowser) {\n\n  }\n\n  transform(value: string) : string {\n    return this.rc.utils.get10digitMobNumber(value);\n  }\n\n}\n","import { Pipe, \n         PipeTransform,\n         Inject \n       }                      from '@angular/core'\nimport { RunContextBrowser }  from '../../../rc-browser'\n\nconst INR       = 'INR',\n      CURRENCY  = 'currency' \n\n@Pipe({\n  name: 'inrcurrency'\n})\n\nexport class CurrencyPipe implements PipeTransform {\n\n  constructor (@Inject('RunContext') private rc : RunContextBrowser) { }\n\n  transform(value: number, decimalReq : boolean = true) : string {\n\n    if (value === undefined) return\n\n    const options = {\n      currency              : INR,\n      style                 : CURRENCY,\n      maximumFractionDigits : 2\n    } as Intl.NumberFormatOptions\n\n    const formattedNumber = value.toLocaleString('en-IN', options)\n\n    return decimalReq ? formattedNumber : formattedNumber.split('.')[0]\n  }\n\n}\n","import { Component, \n         Inject, \n         Input,\n         Output,\n         EventEmitter,\n         HostListener,\n         ChangeDetectorRef\n       }                            from '@angular/core'\nimport { RunContextBrowser }        from '../../../rc-browser'\nimport { SelectionBoxParams }       from '@mubble/core'\nimport { MatCheckboxChange }        from '@angular/material/checkbox'\n\n@Component({\n  selector    : 'drop-down-multi-select',\n  templateUrl : './drop-down-multi-select.component.html',\n  styleUrls   : ['./drop-down-multi-select.component.scss']\n})\n\nexport class DropDownMultiSelectComponent {\n\n  showDropDown    : boolean\n  isDropDownOpen  : boolean   = false\n  isSelectAll     : boolean   = false\n  showPlaceHolder : boolean   = true\n  listOptions     : SelectionBoxParams[] = []\n\n  @Input() options        : SelectionBoxParams[]\n  @Input() showSelectAll  : boolean\n  @Input() placeholder    : string\n  @Output() selectedItems : EventEmitter<SelectionBoxParams>  = new EventEmitter<SelectionBoxParams>()\n  @Output() selectedAll   : EventEmitter<MatCheckboxChange>   = new EventEmitter<MatCheckboxChange>()\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n    private changeRef                             : ChangeDetectorRef) { }\n\n  ngOnInit() {\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), this.options, `missing options ${this.options}`)\n    this.listOptions = JSON.parse(JSON.stringify(this.options))\n  }\n\n  /*=====================================================================\n                              UTILS\n  =====================================================================*/\n\n    @HostListener('document:click', ['$event']) \n    onHostClick(element : any) {      \n      const calExpStr = ['drop-down-list', 'checkbox-cont']\n      let isMatched : boolean = false\n\n      if (this.showDropDown) {\n        for (let exp of calExpStr) {\n          const calExp = new RegExp(exp)\n          isMatched = calExp.test(element.target.offsetParent.className)\n          if (isMatched) return\n        }\n        if (!this.isDropDownOpen) {\n          this.showDropDown   = false\n        } else {\n          this.isDropDownOpen = false\n        }\n      } \n    }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n\n  private handlePlaceHolder() {\n\n    const index : number = this.listOptions.findIndex((option) => {\n      return option.selected\n    })\n\n    if (index !== -1) this.showPlaceHolder = false\n    else this.showPlaceHolder = true\n  }\n\n  /*=====================================================================\n                              HTML\n  =====================================================================*/\n\n  handleDropDown() {\n    this.showDropDown   = !this.showDropDown\n    this.isDropDownOpen = !this.isDropDownOpen\n  }\n\n  onCheckBoxClick(event : MatCheckboxChange, option : SelectionBoxParams) {\n    if (event.checked) {\n      option.selected       = true\n      this.showPlaceHolder  = false\n    } else {\n      option.selected = false\n      this.handlePlaceHolder()\n    }\n\n    this.changeRef.detectChanges()\n\n    this.selectedItems.emit(option)\n  }\n\n  onSelectAll(event : MatCheckboxChange) {\n\n    if (event.checked) {\n      this.showPlaceHolder = false\n      this.listOptions.forEach((option) => {\n        option.selected = true\n      })\n      this.isSelectAll = true\n    } else {\n      this.listOptions.forEach((option) => {\n        option.selected = false\n      })\n      this.isSelectAll = false\n      this.handlePlaceHolder()\n    }\n\n    this.selectedAll.emit(event)\n  }\n}","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Aug 30 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Component,\n         OnInit, \n         Input, \n         Inject \n       }                                    from '@angular/core'\nimport { RunContextBrowser }                from '../../../rc-browser'\n\n@Component({\n  selector    : 'loading',\n  templateUrl : './loading.component.html',\n  styleUrls   : ['./loading.component.scss']\n})\n\nexport class LoadingComponent implements OnInit {\n\n  @Input() apiLoadingText       : string\n  @Input() apiLoadingBottomIn   : boolean\n  @Input() customClass          : string\n  @Input() graphicUrl           : string \n  \n  constructor(@Inject('RunContext') private rc  : RunContextBrowser) { }\n\n  ngOnInit() {\n    if (this.apiLoadingBottomIn === undefined) this.apiLoadingBottomIn = false\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Aug 30 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Component, \n         Input, \n         Output, \n         Inject, \n         EventEmitter \n       }                            from '@angular/core'\nimport { RunContextBrowser }        from '../../../../rc-browser'\n\n@Component({\n  selector    : 'loading-error',\n  templateUrl : './loading-error.component.html',\n  styleUrls   : ['./loading-error.component.scss']\n})\nexport class LoadingErrorComponent {\n\n  @Input()  apiErrorText   : string\n  @Input()  apiCanRetry    : string\n  @Input()  apiRetryText   : string\n  @Output() apiErrorAction : EventEmitter<any> = new EventEmitter<any>()\n  \n  constructor(@Inject('RunContext') private rc  : RunContextBrowser) { }\n\n  onErrorAction() {\n    this.apiErrorAction.emit()\n  }\n}\n","import {  Component, Input, HostBinding }     from '@angular/core'\nimport { animate, state, \n         style, transition, \n         trigger }                            from '@angular/animations'\n\n@Component({\n  selector    : 'toast',\n  templateUrl : './toast.component.html',\n  styleUrls   : ['./toast.component.scss'],\n  animations  : [\n    trigger('visibilityChanged', [\n\n      transition(':enter', [\n        style({'opacity': 0}),\n        animate('500ms', \n          style({'opacity': 1}))\n      ]),\n\n      transition(':leave', [\n        style({'opacity': 1}),\n        animate('500ms', \n          style({'opacity': 0}))\n      ])\n      \n    ]),\n  ]\n})\nexport class ToastComponent {\n\n  @Input() toastMessage : string\n\n}","/*------------------------------------------------------------------------------\n\n   About      : Infinite scroll\n   \n   Created on : Mon Jul 23 2018\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2018 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Component, \n         Input,\n         Output,\n         EventEmitter,\n         ViewChild,\n         ElementRef,\n         NgZone,\n         Renderer2\n       }                from '@angular/core'\nimport { DomHelper }    from '../../../util/dom-helper'\nimport { Mubble }       from '@mubble/core'\n \nconst SCROLL_EVENT  = 'scroll'\n\ninterface ListItem {\n  type    : string\n  params  : Mubble.uObject<any>\n}\n\n@Component({\n  selector    : 'infinite-scroll',\n  templateUrl : './infinite-scroll.component.html',\n  styleUrls   : ['./infinite-scroll.component.scss']\n})\n\nexport class InfiniteScrollComponent {\n\n  @Input() items            : ListItem[]  = []         //Items that have to be loaded into html in chunks\n  @Input() upperBufferCount : number  = 50  //min no. of elements that should be loaded at the top before we start removing items\n  @Input() lowerBufferCount : number  = 10  //min no. of elements that should be loaded at the bottom\n  @Input() customClass      : string \n  \n  @Output() listEnd       : EventEmitter<number>  = new EventEmitter<number>() // list ended event to the parent \n  @Output() activeElement : EventEmitter<number>  = new EventEmitter<number>() // active element event to the parent\n \n  @ViewChild('scrollCont', { static: true })    scrollCont    : ElementRef // container inside which divs are manipulated \n  @ViewChild('contentHolder', { static: true }) contentHolder : ElementRef // container holding scrollable div\n\n  viewPortItems     : any[]   = []  // these are the items that are loaded in html\n\n  //the indices which slices the main items list\n  previousStartIdx  : number  = 0   \n  previousEndIdx    : number  = -1 \n\n  itemsHeight       : {[index: number]: number } = {} //caching each divs height to translate the scrollable div\n  \n  private translateY    : number  = 0\n  private scrollHandler : () => void\n\n  private lastScrolledTop     : number  = 0\n  private currActiveElemIndex : number  = 0\n  private lastActiveElemIndex : number  = -1\n\n  constructor(private element   : ElementRef,\n              private ngZone    : NgZone,\n              private renderer  : Renderer2) { }\n\n  ngOnInit() {\n    this.viewPortItems  = this.items.slice(this.previousStartIdx, this.lowerBufferCount)\n    this.scrollHandler  = this.renderer.listen(this.element.nativeElement, SCROLL_EVENT, this.refreshList.bind(this))\n  }\n\n  ngOnChanges() {\n    this.refreshList()\n  }\n\n  ngAfterViewInit() {\n    this.setInitHolderHeight() \n  }\n\n  ngOnDestroy() {\n    if (this.scrollHandler) {\n      this.scrollHandler()\n    }\n  }\n\n  /*=====================================================================\n                              PRIVATE METHODS  \t\t\t\t\t\t\t\t\t\t\t\t\n  =====================================================================*/\n\n  private setInitHolderHeight() {\n    const viewPortChildren  = this.scrollCont.nativeElement.children,\n          holderHeight      = this.calculateHeight()/viewPortChildren.length * this.viewPortItems.length\n\n    this.renderer.setStyle(this.contentHolder.nativeElement, 'height', `${holderHeight}px`)\n  }\n\n  private calculateHeight() {\n    const viewPortChildren = this.scrollCont.nativeElement.children\n    let totalHeight = 0\n    for (let i = 0; i < viewPortChildren.length; i++) {\n      const height = viewPortChildren[i].getBoundingClientRect().height\n      totalHeight += height\n    }\n    return Math.ceil(totalHeight)\n  }\n\n  private cacheViewedItemsHeight() {\n    const viewPortChildren = this.scrollCont.nativeElement.children\n    let i = this.previousStartIdx\n    for (const child of viewPortChildren) {\n      const height        = child.getBoundingClientRect().height\n      this.itemsHeight[i] = height\n      i++\n    }\n  }\n\n  private updateViewPortItems() {\n    \n    const viewPortChildren    = this.scrollCont.nativeElement.children,\n          viewPortItemsHeight = this.calculateHeight(),\n          averageHeight       = Math.ceil(viewPortItemsHeight/ viewPortChildren.length),\n          scrollTop           = this.element.nativeElement.scrollTop,\n          containerHeight     = this.element.nativeElement.getBoundingClientRect().height\n\n    this.cacheViewedItemsHeight()\n\n    let start = this.previousStartIdx,\n        end   = this.previousEndIdx\n\n    const elementsScrolled  = Math.ceil(scrollTop/averageHeight),\n          elementsVisible   = Math.ceil(containerHeight/averageHeight) \n\n    start = elementsScrolled - this.upperBufferCount + elementsVisible\n    end   = elementsScrolled + elementsVisible + this.lowerBufferCount\n\n    start = Math.max(0, start)\n    end   = Math.min(this.items.length, end >= 0 ? end : Infinity )\n\n    let height  = 0\n    \n    if (start > this.previousStartIdx) {\n      //scrolling down\n      for (let i = this.previousStartIdx; i < start ; i++) {\n        height += this.itemsHeight[i] || averageHeight\n      }\n      this.translateY += height\n    } else if (start < this.previousStartIdx) {\n      //scrolling up\n      for (let i = start; i < this.previousStartIdx; i++) {\n        height += this.itemsHeight[i] || averageHeight\n      }\n      this.translateY -= height\n    }\n\n    const currentHolderHeight = Math.ceil(viewPortItemsHeight + this.translateY)\n\n    const holderHeight  = Math.ceil((averageHeight * (this.items.length - end) + currentHolderHeight))\n    this.renderer.setStyle(this.contentHolder.nativeElement, 'height', `${holderHeight}px`)\n\n    DomHelper.setTransform(this.scrollCont.nativeElement, 0, this.translateY, 0)\n\n    if (start !== this.previousStartIdx || end !== this.previousEndIdx) {\n\n      this.ngZone.run(() => {\n\n        this.previousStartIdx = start\n        this.previousEndIdx   = end\n\n        this.viewPortItems = this.items.slice(start, end)\n\n        if (this.previousEndIdx === this.items.length) this.listEnd.emit(this.items.length)\n        \n      })\n    }\n  }\n\n  private scrollTo(index : number, highlight : boolean = false) {\n    let totalHeight = 0\n    for (let i = 0; i < index; i++) {\n      totalHeight += this.itemsHeight[i]\n    }\n    this.element.nativeElement.scrollTop  = totalHeight\n    if (highlight) {\n      \n      //TODO: add bg color and delay\n    }\n    this.refreshList()\n  }\n\n  private isElementInViewPort(element) {\n    const parentElem      = this.element.nativeElement,\n          viewPortTop     = parentElem.scrollTop,\n          viewPortBottom  = viewPortTop + parentElem.clientHeight,\n          elemTop         = element.offsetTop + (0.1 * element.clientHeight),\n          elemBottom      = element.offsetTop + (0.9 * element.clientHeight)\n\n    return (elemBottom <= viewPortBottom) && (elemTop >= viewPortTop)\n  }\n\n  /*\n    if scrolling down, the first visible element from top is currentActive element else \n    the last visible element is currentActive element \n  */\n  private updateCurrActiveElemIdx() {\n    const parentElem        = this.element.nativeElement,\n          viewPortElements  = parentElem.children[1].children,\n          scrolledDown      = parentElem.scrollTop > this.lastScrolledTop\n    \n    for (let index = 0 ; index < viewPortElements.length ; index++) {\n\n      const elementVisible  = this.isElementInViewPort(viewPortElements[index]),\n            anchorId        = this.viewPortItems[index].anchorId || null\n\n      if (elementVisible && anchorId) {\n        this.currActiveElemIndex  = this.previousStartIdx + index\n        if (scrolledDown) break\n      }\n    }\n    this.lastScrolledTop  = parentElem.scrollTop \n  }\n\n  /*=====================================================================\n                                    UTILS  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n  =====================================================================*/\n  scrollToTop() {\n    this.element.nativeElement.scrollTop  = 0\n    this.refreshList()\n  }\n\n  scrollToItem(index : number, highlight : boolean = false) {\n    if (this.itemsHeight[index]) {\n      this.scrollTo(index, highlight)\n    } else {\n      if (index < this.items.length) {\n        this.viewPortItems = this.items.slice(0, index + this.lowerBufferCount)\n        this.refreshList()\n        setTimeout(() => {\n          this.scrollTo(index, highlight)\n        },0)\n      }\n    }\n  }\n\n  getScrollableElement() {\n    return this.element\n  }\n\n  // getSkippedElementsId() : string[] {\n  //   const skippedElementsId = []\n\n  //   if (this.lastActiveElemIndex > this.currActiveElemIndex) {\n  //     for (let i = this.currActiveElemIndex; i < this.lastActiveElemIndex; i++) {\n  //       const anchorId = this.items[i].anchorId || null\n  //       if (anchorId) skippedElementsId.push(anchorId)\n  //     }\n  //   } else if (this.lastActiveElemIndex < this.currActiveElemIndex) {\n  //     for (let i = this.lastActiveElemIndex; i < this.currActiveElemIndex; i++) {\n  //       const anchorId = this.items[i].anchorId || null\n  //       if (anchorId) skippedElementsId.push(anchorId)\n  //     }\n  //   }\n  //   return skippedElementsId\n  // }\n\n\n  getViewedElementsId() : string[] {\n    const parentElem        = this.element.nativeElement,\n          viewPortElements  = parentElem.children[1].children,\n          viewedElementsIds = []\n\n    this.lastActiveElemIndex  = this.currActiveElemIndex\n\n    for (let index = 0 ; index < viewPortElements.length ; index++) {\n\n      const elementVisible  = this.isElementInViewPort(viewPortElements[index]),\n            anchorId        = this.viewPortItems[index].anchorId || null\n\n      if (elementVisible && anchorId) {\n        viewedElementsIds.push(anchorId)\n      }\n    }\n    this.updateCurrActiveElemIdx()\n    return viewedElementsIds\n  }\n\n\n  getActiveElementId(firstElem : boolean  = false) : string {\n    const parentElem        = this.element.nativeElement,\n          viewPortElements  = parentElem.children[1].children\n          \n    let activeElementId\n\n    for (let index = 0 ; index < viewPortElements.length ; index++) {\n\n      const elementVisible  = this.isElementInViewPort(viewPortElements[index]),\n            anchorId        = this.viewPortItems[index].anchorId || null\n\n      if (elementVisible && anchorId) {\n        activeElementId = anchorId\n      }\n    }\n    return activeElementId\n  }\n\n  /*=====================================================================\n                              HTML FUNCTIONS  \t\t\t\t\t\t\t\t\t\t\t\t\n  =====================================================================*/\n  refreshList() {\n    this.ngZone.runOutsideAngular(() => {\n      requestAnimationFrame(() => {\n        this.updateViewPortItems()\n      })\n    })\n  }\n  \n}\n","import { AbstractControl,\n         FormControl\n       }                        from '@angular/forms'\n\nexport class InputValidator {\n\n  static dateValidator(control : AbstractControl) {\n\n    let startDateTS = control.get('startDate').value,\n        endDateTS   = control.get('endDate').value\n\n    if (startDateTS) {\n      let isDate : boolean\n\n      switch (typeof startDateTS) {\n        case \"string\" : isDate = !isNaN(Date.parse(startDateTS))\n                        break\n\n        case \"object\" : isDate  = startDateTS instanceof Date\n                                  ? !isNaN(startDateTS.getTime())\n                                  : false\n                        break\n\n        default       : isDate = false\n      }\n\n      if (isDate) {\n        startDateTS = startDateTS.getTime()\n      } else {\n        startDateTS = startDateTS.toDate().getTime()\n      }\n    }\n\n    if (endDateTS) {\n      let isDate : boolean\n\n      switch (typeof endDateTS) {\n        case \"string\" : isDate = !isNaN(Date.parse(endDateTS))\n                        break\n\n        case \"object\" : isDate  = endDateTS instanceof Date\n                                  ? !isNaN(endDateTS.getTime())\n                                  : false\n                        break\n\n        default       : isDate = false\n      }\n\n      if (isDate) {\n        endDateTS = endDateTS.getTime()\n      } else {\n        endDateTS = endDateTS.toDate().getTime()\n      }\n    }\n\n    if (!startDateTS && endDateTS) {\n      control.get('startDate').setErrors({ noStartDate : true })\n    } else if (endDateTS && startDateTS && (endDateTS - startDateTS < 0)) {\n      control.get('startDate').setErrors({ startDateExceed: true })\n    } else {\n      return null\n    }\n  }\n\n  static futureDateValidatorIfAllowed(control : AbstractControl){\n    let startDateTS = control.get('startDate').value,\n        endDateTS   = control.get('endDate').value\n\n    const dateNowTS   = Date.now()\n\n    if (startDateTS) {\n      let isDate : boolean\n\n      switch (typeof startDateTS) {\n        case \"string\" : isDate = !isNaN(Date.parse(startDateTS))\n                        break\n\n        case \"object\" : isDate  = startDateTS instanceof Date\n                                  ? !isNaN(startDateTS.getTime())\n                                  : false\n                        break\n\n        default       : isDate = false\n      }\n\n      if (isDate) {\n        startDateTS = startDateTS.getTime()\n      } else {\n        startDateTS = startDateTS.toDate().getTime()\n      }\n    }\n\n    if (endDateTS) {\n      let isDate : boolean\n\n      switch (typeof endDateTS) {\n        case \"string\" : isDate = !isNaN(Date.parse(endDateTS))\n                        break\n\n        case \"object\" : isDate  = endDateTS instanceof Date\n                                  ? !isNaN(endDateTS.getTime())\n                                  : false\n                        break\n\n        default       : isDate = false\n      }\n\n      if (isDate) {\n        endDateTS = endDateTS.getTime()\n      } else {\n        endDateTS = endDateTS.toDate().getTime()\n      }\n    }\n\n    if (endDateTS && (dateNowTS - endDateTS) < 0) {\n      control.get('endDate').setErrors({ futureDate : true })\n    } else if (startDateTS && (dateNowTS - startDateTS) < 0) {\n      control.get('startDate').setErrors({ futureDate : true })\n    }\n  }\n\n  static amountValidator(control : AbstractControl) {\n\n    const minAmount = control.get('minAmount').value\n                      ? control.get('minAmount').value\n                      : null,\n          maxAmount = control.get('maxAmount').value\n                      ? control.get('maxAmount').value\n                      : null\n\n    if (!minAmount && maxAmount) {\n      control.get('minAmount').setErrors({ noMinAmount : true })\n    } else if (maxAmount && minAmount && (maxAmount - minAmount < 0)) {\n      control.get('minAmount').setErrors({ minAmountExceed : true })\n    } else {\n      return null\n    }\n  }\n\n  static futureDateValidator(control : FormControl) {\n\n    if (!control.value) return null\n\n    const dateNowTS = Date.now()\n\n    let date = control.value\n\n    if (date) {\n      let isDate : boolean\n\n      switch (typeof date) {\n        case \"string\" : isDate = !isNaN(Date.parse(date))\n                        break\n\n        case \"object\" : isDate  = date instanceof Date\n                                  ? !isNaN(date.getTime())\n                                  : false\n                        break\n\n        default       : isDate = false\n      }\n\n      if (isDate) {\n        date = date.getTime()\n      } else {\n        date = date.toDate().getTime()\n      }\n    }\n\n    if (date && (dateNowTS - date) < 0) {\n      return { futureDate : true }\n    } else {\n      return null\n    }\n  }\n}","import { Component, \n         OnInit, \n         Inject, \n         Input,\n         ViewChild,\n         ElementRef,\n         Output,\n         EventEmitter\n       }                          from '@angular/core'\nimport { TrackableScreen }        from '../../../ui/router/trackable-screen'\nimport { TranslateService }       from '../translate/translate.service'\n\nexport const PERMISSION = {\n  CAMERA  : 'CAMERA'\n}\n\n\nexport interface UploadedDocParams {\n base64   : string\n checksum : string\n mimeType : string\n}\n\n@Component({\n  selector    : 'file-upload',\n  templateUrl : './file-upload.component.html',\n  styleUrls   : ['./file-upload.component.scss']\n})\n\nexport class FileUploadComponent implements OnInit {\n\n  @ViewChild('uploadFileCont', { static: false }) uploadFileCont : ElementRef\n\n  @Input() screen         : TrackableScreen\n  @Input() eventPropagate : boolean\n  @Input() isRequired     : boolean\n\n  @Output() value         : EventEmitter<UploadedDocParams> = new EventEmitter<UploadedDocParams>()\n\n  uploadedDocParams     : UploadedDocParams\n\n  /*rc type is any since it is of type RuncontextApp and it is app specific\n    and should not be imported here\n  */\n  constructor(@Inject('RunContext') public rc : any,\n              private translate               : TranslateService) { }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n\n    if (this.rc.bridge.isRunningInBrowser()) {\n      if(this.uploadFileCont)\n        this.uploadFileCont.nativeElement.addEventListener('change', this.onFileUpload.bind(this))\n    }\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n  private async onFileUpload(event: any) {\n\n    const file = event.target.files[0]\n\n    if (!file.type.includes('image')) {\n      const errorText = this.translate.instant('upl_invalid_mime_type')\n      this.rc.uiRouter.showToast(errorText)\n      return\n    }\n\n    if (file.size > 512000) {\n      const warnText = this.translate.instant('upl_max_size_err')\n      this.rc.uiRouter.showToast(warnText)\n      return\n    }\n\n    const base64 = await this.rc.utils.getBase64(file) as string,\n      strippedBase64 = base64.replace(`data:${file.type};base64,`, '')\n\n    const uploadDoc: UploadedDocParams = {\n      base64: strippedBase64,\n      mimeType: file.type,\n      checksum: await this.rc.utils.getCheckSum(strippedBase64)\n    }\n\n    if (!this.uploadedDocParams) this.uploadedDocParams = {} as UploadedDocParams\n    this.uploadedDocParams = uploadDoc\n\n    this.uploadFileCont.nativeElement.value = null\n\n  }\n\n  private async updatePicture() {\n\n    const resp = await this.rc.bridge.takePictureFromCamera()\n\n    if (!resp['success']) {\n      this.rc.uiRouter.showToast(this.translate.instant('mu_fil_upl_unknow_err'))\n      return\n    }\n\n    const uploadDoc: UploadedDocParams = {\n      base64    : resp['base64'],\n      mimeType  : resp['mimeType'],\n      checksum  : await this.rc.utils.getCheckSum(resp['base64'])\n    }\n\n    if (!this.uploadedDocParams) this.uploadedDocParams = {} as UploadedDocParams\n    this.uploadedDocParams = uploadDoc\n    \n    if (this.eventPropagate) {\n      this.onSubmit()\n    }\n\n  }\n\n  /*=====================================================================\n                              HTML\n  =====================================================================*/\n  async takePicture() {\n    \n    if (this.rc.bridge.isRunningInBrowser()) return\n    \n    const resp = await this.rc.bridge.getPermission(PERMISSION.CAMERA,false)\n    if (!resp.permGiven) {\n      return \n    }\n\n    this.rc.bridge(PERMISSION.CAMERA).then((permResp: any) => {\n      if (permResp.permGiven) this.updatePicture()\n    })\n  }\n\n  async uploadFile() {\n\n    if (this.rc.bridge.isRunningInBrowser()) {\n      const event = new MouseEvent('click', {bubbles: false})\n      this.uploadFileCont.nativeElement.dispatchEvent(event)\n      return\n    }\n\n    const docObj  = await this.rc.bridge.selectDocumentFile()\n\n    if (docObj['error']) return\n\n    if (!docObj['base64']) {\n      this.rc.uiRouter.showToast(this.translate.instant('cmn_toast_err_unknown'))\n      return\n    }\n\n    const uploadDoc  = {\n      base64    : docObj['base64'],\n      checksum  : docObj['checksum'],\n      mimeType  : docObj['mimeType']\n    }\n\n    if (!this.uploadedDocParams) this.uploadedDocParams = {} as UploadedDocParams\n    this.uploadedDocParams= uploadDoc\n\n    if (this.eventPropagate) {\n      this.onSubmit()\n    }\n\n  }\n  \n  onSubmit() {\n    \n    if ( this.isRequired && (!this.uploadedDocParams || !Object.keys(this.uploadedDocParams).length)) {\n      this.rc.uiRouter.showToast(this.translate.instant('mu_fil_upl_upload_err'))\n    } else {\n      this.value.emit(this.uploadedDocParams)\n    }\n    \n  }\n\n}\n","/*------------------------------------------------------------------------------\n   About          : Child component which has individual control for each input\n                    type\n   \n   Created on     : Fri May 24 2019\n   Author         : Pulkit Chaturvedi\n   Last edited by : Divya Sinha\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Component,\n         Input,\n         Output,\n         Inject,\n         EventEmitter,\n         ViewChild,\n         OnChanges,\n         ElementRef\n       }                                  from '@angular/core'\nimport { FormControl,\n         Validators,\n         FormGroup,\n         FormBuilder\n       }                                  from '@angular/forms'\nimport { TrackableScreen }                from '../../../ui/router/trackable-screen'\nimport { RunContextBrowser }              from '../../../rc-browser'\nimport { MatSliderChange }                from '@angular/material/slider'\nimport { MatAutocompleteSelectedEvent }   from '@angular/material/autocomplete'\nimport { MatSelectChange }                from '@angular/material/select'\nimport { MatButtonToggleChange }          from '@angular/material/button-toggle'\nimport { MatDatepicker,\n         MatDatepickerInputEvent\n       }                                  from '@angular/material/datepicker'\nimport { MatCheckboxChange }              from '@angular/material/checkbox'\nimport { MatRadioChange }                 from '@angular/material/radio'\nimport { MatSlideToggleChange }           from '@angular/material/slide-toggle'\n\n\nimport { InputValidator }                 from './input-validator'\nimport { Observable }                     from 'rxjs'\nimport { map,\n         startWith\n       }                                  from 'rxjs/operators'\nimport { FileUploadComponent, \n         UploadedDocParams \n       }                                  from '../file-upload/file-upload.component'\nimport { DISPLAY_TYPE, \n         DISPLAY_MODE,\n         InputParams,\n         SelectionBoxParams,\n         StepSelectedFilter\n       }                                  from '@mubble/core'\nimport { OutputParams }                   from '../cmn-inp-cont/cmn-inp-cont-interfaces'\n\n@Component({\n  selector    : 'input-container',\n  templateUrl : './input-container.component.html',\n  styleUrls   : ['./input-container.component.scss']\n})\n\nexport class InputContainerComponent implements OnChanges {\n\n  @ViewChild(MatDatepicker, { static: false }) picker             : MatDatepicker<any>\n  @ViewChild(FileUploadComponent, { static: false }) fileUplInst  : FileUploadComponent\n\n  @Input()  inputParams         : InputParams\n  @Input()  screen              : TrackableScreen\n  @Input()  webMode             : boolean\n  @Input()  parentCont          : ElementRef\n  @Input()  eventPropagate      : boolean                           = false\n  @Input()  displayMode         : DISPLAY_MODE         \n  @Input()  displayLabel        : boolean                           = true\n  @Output() value               : EventEmitter<any>                 = new EventEmitter<any>()\n  @Output() dropdownOpen        : EventEmitter<boolean>             = new EventEmitter<boolean>()\n  @Output() stepSelectedFilter  : EventEmitter<StepSelectedFilter>  = new EventEmitter<StepSelectedFilter>()\n\n  inputForm       : FormControl\n  dateRange       : FormGroup\n  numberRange     : FormGroup\n  filteredOptions : Observable<SelectionBoxParams[]>\n  sliderLabel     : string \n\n  DISPLAY_TYPE      : typeof DISPLAY_TYPE       = DISPLAY_TYPE\n  DISPLAY_MODE      : typeof DISPLAY_MODE       = DISPLAY_MODE\n\n  private fileUploadParams : UploadedDocParams\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n              private formBuilder                 : FormBuilder) { \n\n  }\n\n  ngOnChanges() {\n    this.initialize()\n  }\n\n  ngOnInit() {\n    this.initialize()      \n  }\n\n  getFilterId(): string {\n    return this.inputParams.id\n  }\n\n  reset(inputParams: InputParams) {\n    this.inputParams = inputParams\n    this.initialize()\n  }\n\n  /*=====================================================================\n                              UTILS\n  =====================================================================*/\n  onSubmit() {\n\n    if (this.inputForm && (this.inputParams.validators || this.inputParams.isRequired))\n      this.inputForm.markAsTouched()\n\n    if (this.dateRange && ( this.inputParams.isRequired || this.inputParams.validators)) {\n      this.dateRange.controls.startDate.markAsTouched()\n      this.dateRange.controls.endDate.markAsTouched()\n    }\n\n    if (this.numberRange && ( this.inputParams.isRequired || this.inputParams.validators)) {\n      this.numberRange.controls.minAmount.markAsTouched()\n      this.numberRange.controls.maxAmount.markAsTouched()\n    }\n\n    if (this.hasError()) return\n\n    let params    : OutputParams,\n        emitValue : boolean = true    \n\n    switch (this.inputParams.displayType) {\n\n      case DISPLAY_TYPE.CALENDAR_BOX        :\n        params  = { \n                    id          : this.inputParams.id,\n                    value       : this.inputForm.value ? this.inputForm.value.getTime() : null,\n                    displayType : this.inputParams.displayType\n                  }\n        break\n\n      case DISPLAY_TYPE.INPUT_BOX           :\n      case DISPLAY_TYPE.SELECTION_BOX       :\n      case DISPLAY_TYPE.AUTOCOMPLETE_SELECT :\n      case DISPLAY_TYPE.TEXT_AREA           :\n      case DISPLAY_TYPE.TOGGLE              :\n      case DISPLAY_TYPE.BUTTON_TOGGLE       :\n      case DISPLAY_TYPE.ROW_INPUT_BOX       :\n      case DISPLAY_TYPE.SLIDER              : \n        params  = { \n                    id          : this.inputParams.id,\n                    value       : this.inputForm.value,\n                    displayType : this.inputParams.displayType\n                  }\n        break\n\n      case DISPLAY_TYPE.DATE_RANGE  :\n        const dateRangeKeys   = this.inputParams.rangeKeys  || ['startDate', 'endDate'],\n              dateRangeValue  = {}\n\n        dateRangeValue[dateRangeKeys[0]] = this.dateRange.controls.startDate.value\n                                      ? this.dateRange.controls.startDate.value.getTime()\n                                      : null\n\n        dateRangeValue[dateRangeKeys[1]] = this.dateRange.controls.endDate.value\n                                      ? this.dateRange.controls.endDate.value.getTime()\n                                      : null\n\n        params  = { \n                    id          : this.inputParams.id,\n                    value       : dateRangeValue,\n                    displayType : this.inputParams.displayType\n                  }\n        break\n\n      case DISPLAY_TYPE.NUMBER_RANGE  :\n\n        const numRangeKeys  = this.inputParams.rangeKeys  || ['minAmount', 'maxAmount'],\n              numRangeValue = {}\n\n        numRangeValue[numRangeKeys[0]]  = this.numberRange.controls.minAmount.value\n        numRangeValue[numRangeKeys[1]]  = this.numberRange.controls.maxAmount.value\n\n        params  = { \n                    id          : this.inputParams.id,\n                    value       : numRangeValue,\n                    displayType : this.inputParams.displayType\n                  }\n        break\n\n      case DISPLAY_TYPE.IMAGE_UPLOAD  : \n        params  = {\n                    id          : this.inputParams.id,\n                    value       : this.fileUploadParams,\n                    displayType : this.inputParams.displayType\n                  }\n        break\n\n      case DISPLAY_TYPE.RADIO     : \n      case DISPLAY_TYPE.ROW_RADIO :\n\n        params  = {\n                    id          : this.inputParams.id,\n                    value       : this.inputForm.value ? this.inputForm.value : null,\n                    displayType : this.inputParams.displayType\n                  }\n        break\n\n      case DISPLAY_TYPE.MULTI_CHECK_BOX : \n      case DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX : \n        params  = { \n                    id          : this.inputParams.id,\n                    value       : this.inputForm.value,\n                    displayType : this.inputParams.displayType\n                  }\n        break  \n\n    }\n\n    if (emitValue) this.value.emit(params)\n  }\n\n  isCalanderOpen() : boolean {\n    return this.picker.opened\n  }\n\n  closeCalander() {\n    this.picker.close()\n  }\n\n  /*=====================================================================\n                              HTML\n  =====================================================================*/\n  selectedOption(event : MatSelectChange | MatRadioChange) {\n\n    if (event.value === 'ALL') {\n      const values : SelectionBoxParams[] = this.inputParams.options\n      this.inputParams.options.forEach((option) => option.selected = true)\n      this.inputForm.setValue(values)\n      this.emitStepSelection(values)\n\n    } else {\n      this.inputForm.setValue(event.value)\n      this.emitStepSelection(event.value)\n    }\n\n    if (this.eventPropagate) this.onSubmit()\n  }\n\n  onToggleChane(event : MatSlideToggleChange) {\n    this.inputForm.setValue(event.checked)\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  onBtnToggleChange(event : MatButtonToggleChange, index ?: number) {\n    this.inputForm.setValue(event.value)\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  fileUploadValue(event : UploadedDocParams) {\n    this.fileUploadParams = event\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  checkAllOptions(event : MatCheckboxChange) {\n\n    if (event.checked) { // Check All options\n      const values : SelectionBoxParams[] = this.inputParams.options\n      this.inputParams.options.forEach((option) => option.selected = true)\n      this.inputForm.setValue(values)\n      this.emitStepSelection(values)\n\n    } else { // Uncheck all options\n      this.inputParams.options.forEach((option) => option.selected = false)\n      this.inputForm.setValue([])\n      this.emitStepSelection([])\n    }\n\n    if (this.eventPropagate) this.onSubmit()\n  }\n\n  checkedOption(option : SelectionBoxParams) {\n\n    const value = this.inputForm.value as any[]\n\n    if (value) {\n\n      const idIndex = value.findIndex(val => val.id === option.id)\n\n      if (idIndex !== -1) {\n        value.splice(idIndex, 1)\n        this.inputForm.setValue(value)\n        this.emitStepSelection(value)\n\n      } else {\n        value.push(option)\n        this.inputForm.setValue(value)\n        this.emitStepSelection(value)\n      }\n\n    } else {\n      this.inputForm.setValue([option])\n      this.emitStepSelection([option])\n    }\n\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  setChangedValues(event : string) {\n    this.inputForm.setValue(event)\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  setDate(event : MatDatepickerInputEvent<Date>) {\n    const value : any = event.value\n    value && !this.isDateObj(value) ? this.inputForm.setValue(value.toDate())\n                                    : this.inputForm.setValue(value)\n    \n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  setDateRange(event : MatDatepickerInputEvent<Date>) {\n    const sDate = this.dateRange.controls.startDate.value,\n          eDate = this.dateRange.controls.endDate.value\n\n    sDate && !this.isDateObj(sDate) ? this.dateRange.controls.startDate.setValue(sDate.toDate())\n                                    : this.dateRange.controls.startDate.setValue(sDate)\n\n    eDate && !this.isDateObj(eDate) ? this.dateRange.controls.endDate.setValue(eDate.toDate())\n                                    : this.dateRange.controls.endDate.setValue(eDate)\n\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  setNumberRange(event : string) {\n    this.numberRange.controls.minAmount.setValue(this.numberRange.controls.minAmount.value)\n    this.numberRange.controls.maxAmount.setValue(this.numberRange.controls.maxAmount.value)\n\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  setAutocompleteValue(event : MatAutocompleteSelectedEvent) {\n    this.inputForm.setValue(event.option.value)\n    if (this.eventPropagate)  this.onSubmit()\n  }\n\n  displayFn(value: any) : string {\n    return value && typeof value === 'object' ? value.value : value\n  }\n\n  onSliderValueChange(event : MatSliderChange) {\n    this.inputForm.setValue({minValue : event.source.min, maxValue : event.value})\n  }\n\n  hasError() : boolean {\n    let hasError : boolean = false\n\n    switch (this.inputParams.displayType) {\n\n      case DISPLAY_TYPE.CALENDAR_BOX              :\n      case DISPLAY_TYPE.INPUT_BOX                 :\n      case DISPLAY_TYPE.SELECTION_BOX             :\n      case DISPLAY_TYPE.AUTOCOMPLETE_SELECT       :\n      case DISPLAY_TYPE.TEXT_AREA                 :\n      case DISPLAY_TYPE.MULTI_CHECK_BOX           :\n      case DISPLAY_TYPE.RADIO                     :\n      case DISPLAY_TYPE.ROW_RADIO                 :\n      case DISPLAY_TYPE.TOGGLE                    :\n      case DISPLAY_TYPE.BUTTON_TOGGLE             :\n      case DISPLAY_TYPE.ROW_INPUT_BOX             :\n\n        hasError = this.inputParams.isRequired \n                   ? this.inputForm.invalid\n                   : this.inputForm.value && this.inputForm.invalid\n        break\n\n      case DISPLAY_TYPE.DATE_RANGE    :\n        hasError  = this.inputParams.isRequired \n                    ? this.dateRange.invalid\n                    : ((this.dateRange.controls.startDate.value && this.dateRange.controls.startDate.invalid )\n                      || (this.dateRange.controls.startDate.value && !this.dateRange.controls.endDate.value)\n                      || ( this.dateRange.controls.endDate.value && this.dateRange.controls.endDate.invalid) )\n        break\n\n      case DISPLAY_TYPE.NUMBER_RANGE  :\n        hasError  = this.inputParams.isRequired \n                    ? this.numberRange.invalid\n                    : ((this.numberRange.controls.minAmount.value && this.numberRange.controls.minAmount.invalid )\n                      || ( this.numberRange.controls.minAmount.value && !this.numberRange.controls.maxAmount.value ) \n                      || (this.numberRange.controls.maxAmount.value && this.numberRange.controls.maxAmount.invalid) )\n        break\n\n      case DISPLAY_TYPE.IMAGE_UPLOAD  :\n        this.fileUplInst.onSubmit()\n        hasError  = this.inputParams.isRequired\n                    ? (!this.fileUploadParams || Object.keys(this.fileUploadParams).length === 0)\n                    : false\n    }\n  \n    return hasError\n  }\n\n  dropDownToggle(event : boolean) {\n    this.dropdownOpen.emit(event)\n  }\n\n  valueEntered(value) {\n    if (this.inputParams.displayType === DISPLAY_TYPE.AUTOCOMPLETE_SELECT) {\n      const option = this.inputParams.options.find(option => option.value === value)\n    \n      option  ? this.inputForm.setValue(option)\n              : this.inputForm.setValue({ id : value, value : value })   \n\n      if (this.eventPropagate)  this.onSubmit()\n    }\n  }\n\n  formatLabel = (value: number) => {\n    return value + this.sliderLabel\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n\n  private initialize() {\n    const params          = this.inputParams,\n          formValidations = []\n\n    if (params.isRequired) formValidations.push(Validators.required)\n\n    if (params.validators) formValidations.push(Validators.pattern(params.validators.validation))\n\n    switch (params.displayType) {\n      case DISPLAY_TYPE.INPUT_BOX                 :\n      case DISPLAY_TYPE.TEXT_AREA                 :\n      case DISPLAY_TYPE.RADIO                     : \n      case DISPLAY_TYPE.ROW_RADIO                 :\n      case DISPLAY_TYPE.SELECTION_BOX             :\n      case DISPLAY_TYPE.TOGGLE                    : \n      case DISPLAY_TYPE.MULTI_CHECK_BOX           :\n      case DISPLAY_TYPE.BUTTON_TOGGLE             :\n      case DISPLAY_TYPE.ROW_INPUT_BOX             :\n      case DISPLAY_TYPE.DROPDOWN_MULTI_CHECK_BOX  :\n        this.inputForm  = new FormControl(params.value || null, formValidations)\n\n        if (params.options && params.options.length) {\n          const selectedValues  = []\n          params.options.forEach(opt => {\n            if (opt.selected) selectedValues.push(opt)\n          })\n          if (selectedValues.length) this.inputForm.setValue(selectedValues)\n        }\n        if (params.value) this.inputForm.setValue(params.value)\n        this.setDisabled(params.isDisabled)\n        break\n\n      case DISPLAY_TYPE.AUTOCOMPLETE_SELECT :\n        this.inputForm        = new FormControl(params.value || null, formValidations)\n        this.filteredOptions  = this.inputForm.valueChanges.pipe(\n                                  startWith(''),\n                                  map(value => typeof value === 'string' ? value : value.value),\n                                  map(value => value  ? this.filterOptions(value)\n                                                      : this.inputParams.options.slice()))\n\n        this.setDisabled(params.isDisabled)\n        break\n\n      case DISPLAY_TYPE.CALENDAR_BOX  :\n        if (params.value) params.value = new Date(params.value)\n\n        formValidations.push(InputValidator.futureDateValidator)\n\n        this.inputForm  = new FormControl(params.value || null, formValidations)\n        this.setDisabled(params.isDisabled)\n        break\n\n      case DISPLAY_TYPE.DATE_RANGE  : \n      const dateRangeKeys  = params.rangeKeys || ['startDate', 'endDate']\n\n        if (params.value) {\n\n          if (params.value[dateRangeKeys[0]]) params.value[dateRangeKeys[0]] = new Date(params.value[dateRangeKeys[0]])\n          if (params.value[dateRangeKeys[1]]) params.value[dateRangeKeys[1]] = new Date(params.value[dateRangeKeys[1]])\n        } else {\n          params.value  = {}\n        }\n\n        this.dateRange = this.formBuilder.group({\n          startDate : [params.value[dateRangeKeys[0]] || null, formValidations],\n          endDate   : [params.value[dateRangeKeys[1]]   || null, formValidations]\n        })\n\n        const valiArr = [InputValidator.dateValidator]\n        if(!params.validators || !params.validators.allowFutureDate) \n          valiArr.push(InputValidator.futureDateValidatorIfAllowed)\n        this.dateRange.setValidators(valiArr)\n        if (params.isDisabled) this.dateRange.disable()\n        break\n \n      case DISPLAY_TYPE.NUMBER_RANGE  : \n\n        if (params.value) {\n          const numRangeKeys  = params.rangeKeys || ['minAmount', 'maxAmount']\n          this.numberRange = this.formBuilder.group({\n            minAmount : [params.value[numRangeKeys[0]] || null, formValidations],\n            maxAmount : [params.value[numRangeKeys[1]] || null, formValidations]\n          },\n          {\n            validator : [InputValidator.amountValidator]\n          })\n        } else {\n          params.value  = {}\n        }\n        if (params.isDisabled) this.numberRange.disable()\n        break\n\n      case DISPLAY_TYPE.SLIDER :\n        // this.numberRange = this.formBuilder.group({\n        //   minAmount : [params.value['minAmount'] || null, formValidations],\n        //   maxAmount : [params.value['maxAmount'] || null, formValidations]\n        // },\n        // {\n        //   validator : [InputValidator.amountValidator]\n        // })\n        // if (params.isDisabled) this.numberRange.disable()\n        this.inputForm  = new FormControl(params.value || null, formValidations)\n\n        if (params.options && params.options.length) {\n          const selectedValues  = []\n          params.options.forEach(opt => {\n            if (opt.selected) selectedValues.push(opt)\n            this.sliderLabel = opt.id === 'formatLabel' ? opt.value as string : ''\n          })\n\n          if (selectedValues.length) this.inputForm.setValue(selectedValues)\n        }\n        this.setDisabled(params.isDisabled)\n        break\n    }\n  }\n\n  private emitStepSelection(value: any) {\n    const selFilter : StepSelectedFilter = {\n      id    : this.inputParams.id,\n      value : value\n    }\n    this.stepSelectedFilter.emit(selFilter)\n  }\n\n  private filterOptions(inputText : string): SelectionBoxParams[] {\n    const filterValue = inputText.toLowerCase()\n    return this.inputParams.options.filter(option =>\n      (option.value as string).toLowerCase().includes(filterValue))\n  }\n\n  private setDisabled(value : boolean) {\n    value ? this.inputForm.disable() : this.inputForm.enable()\n  }\n\n\n  private isDateObj(value : any) : boolean {\n    let isDate : boolean\n\n    switch (typeof value) {\n      case \"string\" : isDate = !isNaN(Date.parse(value))\n                      break\n\n      case \"object\" : isDate  = value instanceof Date\n                                ? !isNaN(value.getTime())\n                                : false\n                      break\n\n      default       : isDate = false\n    }\n\n    return isDate\n  }\n}","import { Component, \n         Inject, \n         Input,\n         EventEmitter,\n         Output,\n         ElementRef,\n         NgZone,\n         ViewChild,\n         HostListener,\n         Renderer2\n       }                            from '@angular/core'\nimport { RunContextBrowser }          from '../../../rc-browser'\nimport { Nail, \n         NailInterface \n       }                              from '../../nail'\nimport { MultiStepValue, \n         DomHelper \n       }                            from '../../../util'\n       \n\nconst ANIM_TRANSITION   = 600\nconst KEY_ANIM_TRANS    = 200\nconst EVENT_TIME_TAKEN  = 250   \n\nexport interface DialerOptions  {\n  id         : string | number\n  value      : string | number\n}\n\nexport interface DialerCssClasses {\n  bgColor       ?: string\n  activeColor   ?: string\n  inActiveColor ?: string\n}\n\nexport interface DialerParams {\n  dialerOptions      : DialerOptions[]\n  isCircular        ?: boolean\n  highlightPos      ?: number\n  dialerCssClasses  ?: DialerCssClasses\n  selectedItem      ?: DialerOptions\n}\n\n@Component({\n  selector    : 'dialer',\n  templateUrl : './dialer.component.html',\n  styleUrls   : ['./dialer.component.scss']\n})\n\nexport class DialerComponent implements NailInterface {\n\n  @HostListener('keydown', ['$event']) onHostKeyup(event : KeyboardEvent) {\n    this.onKeyDown(event)\n  }\n  \n  @ViewChild('scrollCont',    { static: true }) scrollCont    : ElementRef\n  @ViewChild('contentHolder', { static: true }) contentHolder : ElementRef\n\n\n  @Input() parentDiv      : ElementRef\n  @Input() dialerParams   : DialerParams\n  @Input() eventPropagte  : boolean  = false \n  // @Input() screen         : TrackableScreen\n\n  @Output() value : EventEmitter<DialerOptions> \n\n  viewPortItems : DialerOptions[]\n  selectedItem  : DialerOptions\n\n  private nail          : Nail\n  private multiStepVal  : MultiStepValue\n  private lastIndex     : number\n  private sound         : any\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n              private renderer                    : Renderer2,\n              private ngZone                      : NgZone) { \n                \n    this.value          = new EventEmitter<DialerOptions>()\n    // window['dialer']    = this\n\n    // user howler for sound if being implemented in mobile \n    //( https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.core.min.js)\n\n    // this.sound = new (window as any).Howl({\n    //   src     : ['sounds/select.mp3'],\n    //   volume  : 0.15\n\n    // });\n    \n  }\n\n  ngOnInit() {\n    \n    const slicedItems   = this.dialerParams.dialerOptions.slice(0)\n    this.viewPortItems  = slicedItems\n    this.selectedItem   = this.dialerParams.selectedItem || this.viewPortItems[0]\n  }\n\n  ngAfterViewInit() {\n\n    const scrollElem        = this.scrollCont.nativeElement,\n          viewPortChildren  = scrollElem.children,\n          rect              = viewPortChildren[1].getBoundingClientRect(),\n          width             = rect.width\n\n    this.contentHolder.nativeElement.style.height = `${rect.height}px`\n    this.contentHolder.nativeElement.style.width  = `${width}px`\n    this.contentHolder.nativeElement.style.top    = this.dialerParams.highlightPos \n                                                    ? `(${this.dialerParams.highlightPos} * ${rect.height})px`\n                                                    : `${rect.height}px`\n    this.scrollCont.nativeElement.style.top       = this.dialerParams.highlightPos \n                                                    ? `(${this.dialerParams.highlightPos} * ${rect.height})px`\n                                                    : `${rect.height}px`\n\n    this.nail           = new Nail(this.rc, this.scrollCont.nativeElement, this, this.renderer, { axisX : false, axisY : true})\n    this.multiStepVal   = new MultiStepValue(0, rect.height, this.dialerParams.dialerOptions.length, false, true)\n\n  }\n\n  ngOnDestroy() {\n\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n\n  private onKeyDown(event : KeyboardEvent) {\n\n    const scrollElem        = this.scrollCont.nativeElement,\n          viewPortChildren  = scrollElem.children,\n          rect              = viewPortChildren[1].getBoundingClientRect(),\n          lastIndex         = this.lastIndex\n          \n    if (event.which === 38) {\n      this.multiStepVal.final(rect.height, 0.2)\n    } else if (event.which === 40) {\n      this.multiStepVal.final(-rect.height, 0.2)\n    } else {\n      return\n    }\n\n    event.stopImmediatePropagation()\n    event.stopPropagation()\n    event.preventDefault()\n\n    const currentIndex  = this.multiStepVal.currentIndex\n\n    if (currentIndex === lastIndex) return\n\n    this.scrollCont.nativeElement.style.transition  = `${KEY_ANIM_TRANS}ms`\n    DomHelper.setTransform(this.scrollCont.nativeElement, 0, -this.multiStepVal.currentValue, 0)\n    this.lastIndex    = this.multiStepVal.currentIndex\n    this.selectedItem = this.dialerParams.dialerOptions[this.lastIndex]\n    // this.rc.audio.play(this.rc.audio.SELECT)\n    if (this.sound) this.sound.play()\n    if (this.eventPropagte) this.value.emit(this.selectedItem)\n\n  }\n\n  /*=====================================================================\n                              CALLBACKS\n  =====================================================================*/\n  onPanStart() {\n    this.scrollCont.nativeElement.style.transition  = 'none'\n  }\n\n  onPanMove(event : any) {\n\n    this.ngZone.runOutsideAngular(() => {\n\n      const scrollElem        = this.scrollCont.nativeElement,\n            viewPortChildren  = scrollElem.children,\n            rect              = viewPortChildren[1].getBoundingClientRect(),\n            deltaY            = event.deltaY,\n            value             = this.multiStepVal.transition(deltaY),\n            lastIndex         = this.lastIndex\n\n      const newIndex  = Math.round(value/rect.height)\n\n      if (lastIndex !== newIndex) {\n        if (this.sound) this.sound.play()\n        this.lastIndex  = newIndex\n      }\n\n      this.nail.requestAnimate(value)\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `onPanMove ${JSON.stringify({event, lastIndex : this.lastIndex})}`)\n\n      this.selectedItem = this.dialerParams.dialerOptions[this.lastIndex]\n\n    })\n\n    \n    return true\n  }\n\n  onPanAnimate(value : number) {\n    this.ngZone.run(() => {\n      DomHelper.setTransform(this.scrollCont.nativeElement, 0, -value, 0) \n    })\n  }\n\n  onPanEnd(event : any) {\n\n    this.ngZone.runOutsideAngular(() => {\n      \n      const deltaY            = event.deltaY,\n            scrollElem        = this.scrollCont.nativeElement,\n            viewPortChildren  = scrollElem.children,\n            rect              = viewPortChildren[1].getBoundingClientRect(),\n            value             = this.multiStepVal.transition(deltaY)\n   \n      const currentIndex  = this.multiStepVal.currentIndex\n\n      this.multiStepVal.final(deltaY, event.speed, event.quickRatio)\n\n      const latestIndex = this.multiStepVal.currentIndex\n      const newIndex  = Math.round(value/rect.height)\n\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `onPanEnd ${JSON.stringify({event, lastIndex : this.lastIndex, newIndex, currentIndex, latestIndex})}`)\n\n      if (currentIndex === latestIndex) return\n\n      this.scrollCont.nativeElement.style.transition  = `${ANIM_TRANSITION}ms`\n      const totalDisplacement = Math.abs((event.timeTaken < EVENT_TIME_TAKEN ? currentIndex : newIndex ) - latestIndex) || 1\n\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `totalDisplacement ${JSON.stringify(totalDisplacement)}`)\n\n      const interval  = setInterval(() => {\n        if (this.sound) this.sound.play()\n      }, ANIM_TRANSITION/totalDisplacement)\n\n      if (latestIndex >= currentIndex) {\n\n        for (let i = currentIndex ; i <= latestIndex; i = i + 0.25) {\n          DomHelper.setTransform(this.scrollCont.nativeElement, 0, -rect.height * i, 0)\n        }\n\n      } else {\n\n        for (let i = latestIndex; i < currentIndex; i = i + 0.25) {\n          DomHelper.setTransform(this.scrollCont.nativeElement, 0, rect.height * i, 0)\n        }\n      }\n\n      setTimeout(() => {\n        clearInterval(interval)\n      }, ANIM_TRANSITION)\n    \n    })\n\n    this.ngZone.run(() => {\n      \n      DomHelper.setTransform(this.scrollCont.nativeElement, 0, -this.multiStepVal.currentValue, 0)\n    \n      this.lastIndex    = this.multiStepVal.currentIndex\n      this.selectedItem = this.dialerParams.dialerOptions[this.lastIndex]\n      \n      if (this.eventPropagte) this.value.emit(this.selectedItem)\n\n    })\n  }\n\n  /*=====================================================================\n                              UTILS\n  =====================================================================*/\n  getSelectedItem() {\n    this.value.emit(this.selectedItem)\n  }\n\n  scrollToElem(index : number) {\n\n    if (index === this.multiStepVal.currentIndex) return\n\n    const scrollElem        = this.scrollCont.nativeElement,\n          viewPortChildren  = scrollElem.children,\n          rect              = viewPortChildren[1].getBoundingClientRect()\n\n    if (index > this.multiStepVal.currentIndex) {\n      this.multiStepVal.final(-rect.height, 0.2)\n    } else {\n      this.multiStepVal.final(rect.height, 0.2)\n    }\n\n    this.scrollCont.nativeElement.style.transition  = `${KEY_ANIM_TRANS}ms`\n    DomHelper.setTransform(this.scrollCont.nativeElement, 0, -this.multiStepVal.currentValue, 0)\n\n    this.lastIndex    = this.multiStepVal.currentIndex\n    this.selectedItem = this.dialerParams.dialerOptions[this.lastIndex]\n\n    // this.rc.audio.play(this.rc.audio.SELECT)\n    if (this.sound) this.sound.play()\n    if (this.eventPropagte) this.value.emit(this.selectedItem)\n\n  }\n\n}\n","/*------------------------------------------------------------------------------\n   About      : Replacement of input-container. Ranges are not handled as of now\n   \n   Created on : Fri Mar 06 2020\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2020 Obopay. All rights reserved.\n\n   https://developers.google.com/web/fundamentals/design-and-ux/input/forms/#recommended_input_name_and_autocomplete_attribute_values\n------------------------------------------------------------------------------*/\n\n\nimport { Component,\n         Input,\n         Output,\n         Inject,\n         EventEmitter,\n         ViewChild,\n         OnChanges,\n         ElementRef,\n         ViewChildren,\n         QueryList,\n         ChangeDetectorRef\n       }                                  from '@angular/core'\nimport { FormControl,\n         Validators,\n         FormGroup,\n         FormBuilder\n       }                                  from '@angular/forms'\nimport { TrackableScreen }                from '../../router/trackable-screen'\nimport { RunContextBrowser }              from '../../../rc-browser'\nimport { MatAutocompleteSelectedEvent }   from '@angular/material/autocomplete'\nimport { MatSelectChange }                from '@angular/material/select'\nimport { MatButtonToggleChange }          from '@angular/material/button-toggle'\nimport { MatDatepicker,\n         MatDatepickerInputEvent\n       }                                  from '@angular/material/datepicker'\nimport { MatCheckboxChange }              from '@angular/material/checkbox'\nimport { MatRadioChange }                 from '@angular/material/radio'\nimport { MatSlideToggleChange }           from '@angular/material/slide-toggle'\n\nimport { InputValidator }                 from '../input-container/input-validator'\nimport { Observable }                     from 'rxjs'\nimport { map,\n         startWith\n       }                                  from 'rxjs/operators'\nimport { FileUploadComponent, \n         UploadedDocParams \n       }                                  from '../file-upload/file-upload.component'\nimport { Mubble,\n         DISPLAY_TYPE, \n         DISPLAY_MODE,\n         InputParams,\n         SelectionBoxParams,\n         MuFormParams\n       }                                  from '@mubble/core'\nimport { MuFormOutputParams, \n         FormOutputValue \n       }                                  from '../cmn-inp-cont/cmn-inp-cont-interfaces'\n\n@Component({\n  selector    : 'mu-form-container',\n  templateUrl : './mu-form-container.component.html',\n  styleUrls   : ['./mu-form-container.component.scss']\n})\n\nexport class MuFormContainerComponent implements OnChanges {\n\n  @ViewChildren(MatDatepicker) picker                             : QueryList<MatDatepicker<Date>>\n  @ViewChild(FileUploadComponent, { static: false }) fileUplInst  : FileUploadComponent\n  @ViewChildren('inputCont') inputCont                            : QueryList<ElementRef>\n\n  @Input()  formParams      : MuFormParams\n  @Input()  screen          : TrackableScreen\n  @Input()  webMode         : boolean\n  @Input()  parentCont      : ElementRef\n  @Input()  eventPropagate  : boolean               = false\n  @Input()  displayMode     : DISPLAY_MODE         \n  @Input()  displayLabel    : boolean               = true\n  @Input()  displayCount    : number   \n\n  @Output() value           : EventEmitter<MuFormOutputParams>  = new EventEmitter<MuFormOutputParams>()\n  @Output() dropdownOpen    : EventEmitter<boolean>             = new EventEmitter<boolean>()\n  @Output() lastInpField    : EventEmitter<any>                 = new EventEmitter<any>()\n\n  inputForm         : FormGroup = {} as FormGroup\n  filteredOptions   : Observable<SelectionBoxParams[]>\n\n  DISPLAY_TYPE      : typeof DISPLAY_TYPE       = DISPLAY_TYPE\n  DISPLAY_MODE      : typeof DISPLAY_MODE       = DISPLAY_MODE\n  maxDate           : Date                      = new Date()\n\n  inputContainers : HTMLElement[]\n\n  private fileUploadParams  : UploadedDocParams\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n              private formBuilder                 : FormBuilder,\n              private changeRef                   : ChangeDetectorRef) { \n\n    this.inputForm  = this.formBuilder.group({}) \n    \n  }\n\n  ngOnChanges() {\n    this.initialize()\n  }\n\n  ngOnInit() {\n    this.initialize() \n  }\n\n  ngAfterViewInit() {\n\n    setTimeout(() => {\n      this.inputContainers  = this.inputCont.toArray().map(val => val.nativeElement)        \n    }, 10)\n    \n  }\n\n  /*=====================================================================\n                              UTILS\n  =====================================================================*/\n  onSubmit(manual : boolean = true, id ?: string) {\n\n    for (const inputParams of this.formParams.inputParams) {\n    \n      if (this.inputForm && (inputParams.validators || inputParams.isRequired) && manual)\n        this.inputForm.get(inputParams.id).markAsTouched()\n    }\n\n    if (manual && this.hasError()) return false\n\n    const formOutputParams  : MuFormOutputParams  = { } as MuFormOutputParams\n\n    for (const inputParams of this.formParams.inputParams) {\n\n      if (id && id !== inputParams.id) continue\n\n      let params    : FormOutputValue\n      \n      switch (inputParams.displayType) {\n\n        case DISPLAY_TYPE.CALENDAR_BOX        :\n          params  = { \n                      value       : this.inputForm.get(inputParams.id).value ? this.inputForm.get(inputParams.id).value.getTime() : null,\n                      displayType : inputParams.displayType\n                    }\n          break\n\n        case DISPLAY_TYPE.INPUT_BOX           :\n        case DISPLAY_TYPE.SELECTION_BOX       :\n        case DISPLAY_TYPE.AUTOCOMPLETE_SELECT :\n        case DISPLAY_TYPE.TEXT_AREA           :\n        case DISPLAY_TYPE.TOGGLE              :\n        case DISPLAY_TYPE.BUTTON_TOGGLE       :\n        case DISPLAY_TYPE.ROW_INPUT_BOX       :\n        case DISPLAY_TYPE.TIME                :\n          params  = { \n                      value       : this.inputForm.get(inputParams.id).value,\n                      displayType : inputParams.displayType\n                    }\n          break\n\n        case DISPLAY_TYPE.DATE_RANGE  :\n          const dateFormGroup : FormGroup               = this.inputForm.get(inputParams.id) as FormGroup,\n                dateRangeKeys : string[]                = inputParams.rangeKeys || ['startDate', 'endDate'],\n                dateValue     : Mubble.uObject<string>  = {}\n\n          dateValue[dateRangeKeys[0]] = dateFormGroup.controls.startDate.value\n                                        ? dateFormGroup.controls.startDate.value.getTime()\n                                        : null\n      \n          dateValue[dateRangeKeys[1]] = dateFormGroup.controls.endDate.value\n                                        ? dateFormGroup.controls.endDate.value.getTime()\n                                        : null                          \n                                    \n\n          params  = { \n                      value       : dateValue,\n                      displayType : inputParams.displayType\n                    }\n          break\n\n        case DISPLAY_TYPE.NUMBER_RANGE  :\n          const numFormGroup  : FormGroup               = this.inputForm.get(inputParams.id) as FormGroup,\n                numRangeKeys  : string[]                = inputParams.rangeKeys || ['minAmount', 'maxAmount'],\n                numRangeValue : Mubble.uObject<string>  = {}\n\n\n          numRangeValue[numRangeKeys[0]]  = numFormGroup.controls.minAmount.value,\n          numRangeValue[numRangeKeys[1]]  = numFormGroup.controls.maxAmount.value     \n\n          params  = { \n                      value       : numRangeValue,\n                      displayType : inputParams.displayType\n                    }\n          break\n\n        case DISPLAY_TYPE.IMAGE_UPLOAD  : \n          params  = {\n                      value       : this.fileUploadParams,\n                      displayType : inputParams.displayType\n                    }\n          break\n\n        case DISPLAY_TYPE.RADIO     : \n        case DISPLAY_TYPE.ROW_RADIO :\n\n          params  = {\n                      value       : this.inputForm.get(inputParams.id).value ||  null,\n                      displayType : inputParams.displayType\n                    }\n          break\n\n        case DISPLAY_TYPE.MULTI_CHECK_BOX :  \n          params  = { \n                      value       : this.inputForm.get(inputParams.id).value,\n                      displayType : inputParams.displayType\n                    }\n          break  \n      }\n      \n      formOutputParams[inputParams.id]  = params\n\n    }\n\n    this.value.emit(formOutputParams)\n    return true\n\n  }\n\n  isCalanderOpen() : boolean {\n    const pickers = this.picker.toArray()\n    return pickers.some(val => val.opened)\n  }\n\n  closeCalander() {\n    const pickers = this.picker.toArray(),\n          length  = pickers.length\n\n    for (let i = 0 ; i < length; i++) {\n      if (pickers[i].opened) {\n        pickers[i].close()\n        break\n      }\n    }\n  }\n\n  clearForm() {\n    this.inputForm.reset()\n  }\n  /*=====================================================================\n                              HTML\n  =====================================================================*/\n\n  selectedOption(event : MatSelectChange | MatRadioChange, i : number) {\n\n    const inputParams = this.formParams.inputParams[i]\n    this.inputForm.get(inputParams.id).setValue(event.value)\n\n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  onToggleChane(event : MatSlideToggleChange, i : number) {\n    const inputParams = this.formParams.inputParams[i]\n    this.inputForm.get(inputParams.id).setValue(event.checked)\n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  onBtnToggleChange(event : MatButtonToggleChange, i : number) {\n    const inputParams = this.formParams.inputParams[i]\n    this.inputForm.get(inputParams.id).setValue(event.value)\n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  fileUploadValue(event : UploadedDocParams, id : string) {\n    this.fileUploadParams = event\n    if (this.eventPropagate)  this.onSubmit(false, id)\n  }\n\n  checkedOption(event : MatCheckboxChange, option : SelectionBoxParams, i : number) {\n\n    const inputParams = this.formParams.inputParams[i],\n          value       = this.inputForm.get(inputParams.id).value as any[]\n          \n\n    if (value) {\n\n      const idIndex = value.findIndex(val => val.id === option.id)\n\n      if (idIndex !== -1) {\n        value.splice(idIndex, 1)\n        this.inputForm.get(inputParams.id).setValue(value)\n      } else {\n        value.push(option)\n        this.inputForm.get(inputParams.id).setValue(value)\n      }\n\n    } else {\n      this.inputForm.get(inputParams.id).setValue([option])\n    }\n\n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  setChangedValues(event : string, i : number) {\n    const inputParams = this.formParams.inputParams[i]\n    this.inputForm.get(inputParams.id).setValue(event)\n\n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  setDate(event : MatDatepickerInputEvent<Date>, i : number) {\n    const value : any = event.value,\n          inputParams = this.formParams.inputParams[i]\n\n    value && !this.isDateObj(value) ? this.inputForm.get(inputParams.id).setValue(value.toDate())\n                                    : this.inputForm.get(inputParams.id).setValue(value)\n    \n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  setDateRange(event : MatDatepickerInputEvent<Date>, i : number) {\n    const formName  : string    = this.formParams.inputParams[i].id,\n          dateGroup : FormGroup = this.inputForm.get(formName) as FormGroup\n\n    const sDate = dateGroup.controls.startDate.value,\n          eDate = dateGroup.controls.endDate.value\n\n    sDate && !this.isDateObj(sDate) ? dateGroup.controls.startDate.setValue(sDate.toDate())\n                                    : dateGroup.controls.startDate.setValue(sDate)\n\n    eDate && !this.isDateObj(eDate) ? dateGroup.controls.endDate.setValue(eDate.toDate())\n                                    : dateGroup.controls.endDate.setValue(eDate)\n\n    if (this.eventPropagate)  this.onSubmit(false, formName)\n  }\n\n  setNumberRange(event : string, i : number) {\n    const formName  : string    = this.formParams.inputParams[i].id,\n          numGroup  : FormGroup = this.inputForm.get(formName) as FormGroup\n\n    numGroup.controls.minAmount.setValue(numGroup.controls.minAmount.value)\n    numGroup.controls.maxAmount.setValue(numGroup.controls.maxAmount.value)\n\n    if (this.eventPropagate)  this.onSubmit(false, formName)\n  }\n\n  setAutocompleteValue(event : MatAutocompleteSelectedEvent, i : number) {\n    const inputParams = this.formParams.inputParams[i]\n    this.inputForm.get(inputParams.id).setValue(event.option.value)\n    if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n  }\n\n  displayFn(value: any) : string {\n    return value && typeof value === 'object' ? value.value : value\n  }\n\n  hasError() : boolean {\n\n    let hasError : boolean = false\n\n    for (const inputParams of this.formParams.inputParams) {\n\n      switch (inputParams.displayType) {\n\n        case DISPLAY_TYPE.CALENDAR_BOX        :\n        case DISPLAY_TYPE.INPUT_BOX           :\n        case DISPLAY_TYPE.SELECTION_BOX       :\n        case DISPLAY_TYPE.AUTOCOMPLETE_SELECT :\n        case DISPLAY_TYPE.TEXT_AREA           :\n        case DISPLAY_TYPE.MULTI_CHECK_BOX     :\n        case DISPLAY_TYPE.RADIO               :\n        case DISPLAY_TYPE.ROW_RADIO           :\n        case DISPLAY_TYPE.TOGGLE              :\n        case DISPLAY_TYPE.BUTTON_TOGGLE       :\n        case DISPLAY_TYPE.ROW_INPUT_BOX       :\n        case DISPLAY_TYPE.TIME                :\n\n          hasError = inputParams.isRequired \n                    ? this.inputForm.invalid\n                    : this.inputForm.get(inputParams.id).value && this.inputForm.invalid\n          break\n\n        case DISPLAY_TYPE.DATE_RANGE    :\n          const dateFormGroup : FormGroup = this.inputForm.get(inputParams.id) as FormGroup\n\n          hasError  = inputParams.isRequired \n                      ? dateFormGroup.invalid\n                      : ((dateFormGroup.controls.startDate.value && dateFormGroup.controls.startDate.invalid)\n                        || (dateFormGroup.controls.startDate.value && !dateFormGroup.controls.endDate.value)\n                        || (dateFormGroup.controls.endDate.value && dateFormGroup.controls.endDate.invalid))\n          break\n\n        case DISPLAY_TYPE.NUMBER_RANGE  :\n          const numFormGroup : FormGroup = this.inputForm.get(inputParams.id) as FormGroup\n\n          hasError  = inputParams.isRequired \n                      ? numFormGroup.invalid\n                      : ((numFormGroup.controls.minAmount.value && numFormGroup.controls.minAmount.invalid)\n                        || (numFormGroup.controls.minAmount.value && !numFormGroup.controls.maxAmount.value) \n                        || (numFormGroup.controls.maxAmount.value && numFormGroup.controls.maxAmount.invalid))\n          break\n\n        case DISPLAY_TYPE.IMAGE_UPLOAD  :\n          this.fileUplInst.onSubmit()\n          hasError  = inputParams.isRequired\n                      ? (!this.fileUploadParams || Object.keys(this.fileUploadParams).length === 0)\n                      : false\n      }\n    }\n    \n    return hasError\n  }\n\n  dropDownToggle(event : boolean, index : number) {\n\n    const inputParams = this.formParams.inputParams[index]\n    \n\n    if (!event && this.inputForm.get(inputParams.id).value) {\n      \n      if (this.inputContainers[index + 1]) {\n        this.inputContainers[index + 1].focus()\n      } else {\n        this.lastInpField.emit()\n      }\n    }\n    \n    this.dropdownOpen.emit(event)\n  }\n\n  valueEntered(value, i : number) {\n\n    const inputParams = this.formParams.inputParams[i]\n    if (inputParams.displayType === DISPLAY_TYPE.AUTOCOMPLETE_SELECT) {\n      const option = inputParams.options.find(option => option.value === value)\n    \n      option  ? this.inputForm.get(inputParams.id).setValue(option)\n              : this.inputForm.get(inputParams.id).setValue({ id : value, value : value })   \n\n      if (this.eventPropagate)  this.onSubmit(false, inputParams.id)\n    }\n  }\n\n  enterOnLastInput(event : any) {\n    this.lastInpField.emit(event)\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n\n  private initialize() {\n\n    for (const params of this.formParams.inputParams) {\n      const formValidations = []\n       \n      if (params.isRequired) formValidations.push(Validators.required)\n\n      if (params.validators) formValidations.push(Validators.pattern(params.validators.validation))\n\n      switch (params.displayType) {\n        case DISPLAY_TYPE.INPUT_BOX       :\n        case DISPLAY_TYPE.TEXT_AREA       :\n        case DISPLAY_TYPE.RADIO           : \n        case DISPLAY_TYPE.ROW_RADIO       :\n\n        case DISPLAY_TYPE.SELECTION_BOX   :\n        case DISPLAY_TYPE.TOGGLE          : \n        case DISPLAY_TYPE.MULTI_CHECK_BOX :\n        case DISPLAY_TYPE.BUTTON_TOGGLE   :\n        case DISPLAY_TYPE.ROW_INPUT_BOX   :\n        case DISPLAY_TYPE.TIME            :\n\n          this.inputForm.addControl(params.id, new FormControl(params.value || null, formValidations))\n\n          if (params.options && params.options.length) {\n            const selectedValues  = []\n            params.options.forEach(opt => {\n              if (opt.selected) selectedValues.push(opt)\n            })\n            if (selectedValues.length) this.inputForm.get(params.id).setValue(selectedValues[0])\n          }\n          this.setInputDisabled(params.id,params.isDisabled)\n          break\n    \n\n        case DISPLAY_TYPE.AUTOCOMPLETE_SELECT :\n          this.inputForm.addControl(params.id, new FormControl(params.value || null, formValidations))\n          this.filteredOptions      = this.inputForm.valueChanges.pipe(\n                                      startWith(''),\n                                      map(value => typeof value === 'string' ? value : value.value),\n                                      map(value => value  ? this.filterOptions(value, params)\n                                                        : params.options.slice()))\n\n          this.setInputDisabled(params.id,params.isDisabled)\n          break\n\n        case DISPLAY_TYPE.CALENDAR_BOX  :\n          if (params.value) params.value = new Date(params.value)\n\n          formValidations.push(InputValidator.futureDateValidator)\n\n          this.inputForm.addControl(params.id, new FormControl(params.value || null, formValidations))\n          this.setInputDisabled(params.id,params.isDisabled)\n          break\n\n        case DISPLAY_TYPE.DATE_RANGE  : \n          if (!params.value) params.value  = {}\n\n          const valiArr = [InputValidator.dateValidator]\n          if(!params.validators || !params.validators.allowFutureDate)\n            valiArr.push(InputValidator.futureDateValidatorIfAllowed)\n\n          this.inputForm.addControl(params.id, new FormGroup({\n            startDate : new FormControl(params.value['startDate'] ? new Date(params.value.startDate)\n                                                                  : null, formValidations),\n            endDate   : new FormControl(params.value['endDate'] ? new Date(params.value.endDate)\n                                                                : null, formValidations),\n          },\n          {\n            validators : valiArr\n          }))\n\n          this.setInputDisabled(params.id,params.isDisabled)\n          break\n\n        case DISPLAY_TYPE.NUMBER_RANGE  : \n          if (!params.value) params.value  = {}\n\n          this.inputForm.addControl(params.id, new FormGroup({\n            minAmount : new FormControl(params.value['minAmount'] || null, formValidations),\n            maxAmount : new FormControl(params.value['maxAmount'] || null, formValidations),\n          },\n          {\n            validators : [InputValidator.amountValidator]\n          }))\n\n          this.setInputDisabled(params.id,params.isDisabled)\n          break\n      }\n    }\n\n    if (this.formParams.formValidators) this.inputForm.setValidators(this.formParams.formValidators.validation)\n\n  }\n\n  private filterOptions(inputText : string, params : InputParams): SelectionBoxParams[] {\n\n    const filterValue = inputText.toLowerCase()\n    return params.options.filter(option =>\n      (option.value as string).toLowerCase().includes(filterValue))\n  }\n\n  private setInputDisabled(id : string, value : boolean) {\n    value ? this.inputForm.get(id).disable() : this.inputForm.get(id).enable()\n  }\n\n\n  private isDateObj(value : any) : boolean {\n    let isDate : boolean\n\n    switch (typeof value) {\n      case \"string\" : isDate = !isNaN(Date.parse(value))\n                      break\n\n      case \"object\" : isDate  = value instanceof Date\n                                ? !isNaN(value.getTime())\n                                : false\n                      break\n\n      default       : isDate = false\n    }\n\n    return isDate\n  }\n\n  /*=====================================================================\n                              UTILS\n  =====================================================================*/\n\n  focusElement(index : number) {\n    \n    this.inputContainers[index].focus()\n\n  }\n\n  updateValidators(formIds : string[]) {\n\n    for (let i = 0 ; i < formIds.length; i++) {\n\n      const form = this.inputForm.get(formIds[i])\n\n      if (form) {\n        const params = this.formParams.inputParams.find(val => val.id === formIds[i])\n        if (params) {\n          if (params.isDisabled) {\n            form.disable()\n          } else {\n            form.enable()\n          }\n        }\n      }\n\n    }\n  }\n\n}\n","import { Component, \n         OnInit, \n         Input, \n         Output, \n         EventEmitter,\n         ViewChild,\n         Inject,\n         ElementRef,\n         ChangeDetectorRef,\n         SimpleChanges,\n         ViewChildren,\n         QueryList\n       }                            from '@angular/core'\nimport { MatCheckboxChange, \n         MatCheckbox \n       }                            from '@angular/material/checkbox'\nimport { MatRadioChange }           from '@angular/material/radio'\nimport { MatMenuTrigger }           from '@angular/material/menu'\nimport { MatSlideToggleChange }     from '@angular/material/slide-toggle'\nimport { FormControl, \n         FormGroup\n       }                            from '@angular/forms'\n\nimport { TableHeader, \n         FilterItem, \n         DISPLAY_MODE,\n         LOG_LEVEL,              \n         COL_TYPE,\n         MuSelectedFilter,\n         MuStickyTableConfig,\n         NavInfo,\n         expandTemplate\n       }                            from '@mubble/core'\nimport { RunContextBrowser }        from '../../../rc-browser'\nimport { FilterComponent }          from '../filter/filter.component'\nimport { MuUtility }              from '../../../util'\n\nexport interface TableConfig {\n  headers            : TableHeader[]\n  data               : Array<Object>\n  dispRows          ?: number     \n  enableSelect      ?: boolean\n  enableRadio       ?: boolean\n  enableFilter      ?: boolean\n  enableDownload    ?: boolean\n  selectedIndexes   ?: number[]\n  lazyLoad          ?: boolean\n  totalRecords      ?: number\n  horizFilterParams ?: FilterItem[],\n  vertFilterParams  ?: FilterItem[],\n  downloadFormats   ?: string[]\n  stickyConfig      ?: MuStickyTableConfig\n}\n\nexport interface MuTableRowSelEvent {\n  rowIndex      : number\n  rowData       : Object\n  isSelected    : boolean\n  browserEvent  : any\n}\n\nexport interface MuTableDetailEvent {\n  id      : string\n  rowData : Object\n}\n\nexport interface MuTableSelAllEvent {\n  selectedRows : Object[]\n  isSelected   : boolean\n}\n\nexport interface MuTableClickEvent {\n  rowIndex   : number\n  headerKey  : string\n  rowData   ?: Object\n  navInfo   ?: NavInfo\n}\n\nexport interface MuTableMoreDetail {\n  id    : string\n  value : string\n}\n\nexport interface MuTableEditEvent {\n  rowIndex     : number\n  rowData      : Object\n  editedValues : Object\n}\n\n@Component({\n  selector    : 'mu-data-table',\n  templateUrl : './mu-data-table.component.html',\n  styleUrls   : ['./mu-data-table.component.scss']\n})\n\nexport class MuDataTableComponent implements OnInit {\n\n  @ViewChild('slctAllBox',  {static : false}) slctAllBox  : MatCheckbox\n  @ViewChild('filterCont',  {static : false}) filterCont  : ElementRef\n  @ViewChild('muTableCont', {static : false}) muTableCont : ElementRef\n  @ViewChild('menuTrigger', { static : true }) menuTrigger : MatMenuTrigger\n\n  @ViewChildren(FilterComponent)  filterCompChildren      : QueryList<FilterComponent>\n\n  @Input()  tableConfig        : TableConfig\n  @Output() loadMoreData       : EventEmitter<number> = new EventEmitter() \n  @Output() onRowSelect        : EventEmitter<MuTableRowSelEvent>  = new EventEmitter()\n  @Output() onSelectAll        : EventEmitter<MuTableSelAllEvent>  = new EventEmitter()\n  @Output() onDetailClick      : EventEmitter<MuTableDetailEvent>  = new EventEmitter()\n  @Output() onCellClick        : EventEmitter<MuTableClickEvent>   = new EventEmitter()\n  @Output() onRowEdit          : EventEmitter<MuTableEditEvent>    = new EventEmitter()\n  @Output() onDownload         : EventEmitter<string>              = new EventEmitter()\n\n  @Output() selectedFilter     : EventEmitter<MuSelectedFilter[]> = new EventEmitter<MuSelectedFilter[]>()\n\n  pageIndex         : number   \n  currPageIndex     : number  \n  prevPageIndex     : number   \n  isTogglePresent   : boolean\n\n  selectedIndexes   : Object   = {} \n  selAllMap         : Object   = {} \n  headerFields      : string[] = []\n  dataToDisplay     : Object[] = []\n  pageNumbers       : number[] = []\n  stickyInfo        : MuStickyTableConfig\n\n  private filterFields : string[] = []\n  private dataMap      : Object   = {}\n\n  editForm          : FormGroup = new FormGroup({})\n  COL_TYPE          : typeof COL_TYPE     = COL_TYPE  \n  DISPLAY_MODE      : typeof DISPLAY_MODE = DISPLAY_MODE\n\n  constructor(@Inject('RunContext') protected rc      : RunContextBrowser,\n                                    private changeDet : ChangeDetectorRef) {\n\n    if (rc.getLogLevel() === LOG_LEVEL.DEBUG) window['datatable'] = this\n  }\n\n  ngOnChanges(changes : SimpleChanges) {\n    this.tableConfig  = changes['tableConfig'].currentValue\n    this.setUpTable()\n  }\n\n\n  ngOnInit() {\n    this.setUpTable()\n  }\n\n\n  ngAfterViewInit() {\n\n    const top = this.filterCont.nativeElement.offsetTop\n    this.filterCont.nativeElement.style.maxHeight = `calc(100% - ${top}px)`\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n\n  private setUpTable() {\n\n    if (this.tableConfig) {\n\n      for (let header of this.tableConfig.headers) {\n\n        if (header.colType === COL_TYPE.TOGGLE) this.isTogglePresent = true \n        \n        if (header.isEditable) this.editForm.addControl(header.dataKey, new FormControl())\n        \n        this.headerFields.push(header.dataKey)\n\n        if (this.tableConfig.enableFilter && \n            (header.colType === COL_TYPE.HYPER_LINK ||\n            header.colType === COL_TYPE.TEXT)) {\n          this.filterFields.push(header.dataKey)\n        }\n      }\n\n      if (this.tableConfig.selectedIndexes)\n      this.tableConfig.selectedIndexes.map(index => this.selectedIndexes[index]= true)          \n      this.tableConfig.totalRecords  = this.tableConfig.totalRecords || this.tableConfig.data.length\n      this.tableConfig.dispRows      = this.tableConfig.dispRows     || this.tableConfig.data.length\n      \n      this.createDataMap(this.tableConfig.data, 0)\n      this.createPageNumbers()\n    }\n\n    if (this.tableConfig.stickyConfig && this.tableConfig.stickyConfig.noOfCols > 0) {\n      this.stickyInfo = this.tableConfig.stickyConfig\n      if (this.stickyInfo && !this.stickyInfo.nonStickyWidth) {\n        // Use 200% width for default, so table can scroll max double of its width\n        this.stickyInfo.nonStickyWidth = 200 - this.stickyInfo.stickyWidth\n      }\n      const nSColWidth = this.stickyInfo.nonStickyWidth / (this.tableConfig.headers.length - this.stickyInfo.noOfCols)\n      for (const header of this.tableConfig.headers) {\n        if (header.widthPerc) {\n          this.stickyInfo.nonStickyWidth += header.widthPerc - nSColWidth\n        }\n      }\n      this.stickyInfo.nonStickyWidth = Math.max((100 - this.stickyInfo.stickyWidth), this.stickyInfo.nonStickyWidth)\n    }\n  }\n  \n\n  /**\n   * Creates the page numbers needed for pagination\n   * Called during initialization of table and updation of data inside table\n   */\n  private createPageNumbers() {\n    \n    this.pageNumbers    = []\n    this.currPageIndex  = this.prevPageIndex = this.pageIndex = 0\n    let totalPages      = this.tableConfig.totalRecords / this.tableConfig.dispRows\n    \n    if (this.tableConfig.totalRecords % this.tableConfig.dispRows) totalPages++\n\n    for (let pageNumber = 1; pageNumber <= totalPages; pageNumber++) \n      this.pageNumbers.push(pageNumber)  \n  }\n\n\n  /**\n   * changes the pagenumbers according to the current selected page number\n   * @param pageIndex \n   */\n  private updatePageNumbers(pageIndex : number) {\n    \n    this.pageIndex     = pageIndex - 2\n    if (this.pageIndex <= 0) {\n      this.pageIndex = 0\n    } else {\n      if (this.pageIndex >= (this.pageNumbers.length - 4)) this.pageIndex = this.pageNumbers.length - 5\n    }\n  }\n\n\n  /**\n   * sends a callback to parent with main event and row data on click of radio button, checkbox or \n   * toggle button so that parent can stop the default action\n   * @param event \n   * @param rowData \n   */\n  rowClick(event : any, rowData : any) {\n\n    const selEvent : MuTableRowSelEvent = {\n      rowData       : rowData,\n      rowIndex      : rowData['rowIndex'],\n      isSelected    : this.selectedIndexes[rowData['rowIndex']] ? false : true,\n      browserEvent  : event\n    }\n\n    this.onRowSelect.emit(selEvent) \n  }\n\n\n  /**\n   * Changes the select all indexes map according to user preference on click of checkbox\n   * @param event \n   * @param rowData \n   */\n  rowSelect(event : MatCheckboxChange, rowData : any) {\n    \n    if (event.checked) {\n\n      this.selectedIndexes[rowData['rowIndex']] = true\n    } else {\n      \n      this.slctAllBox.checked = false\n      this.selAllMap[this.currPageIndex] = false\n      this.selectedIndexes[rowData['rowIndex']] = false\n    }   \n  }\n\n\n  /**\n   * Selects all the rows in the page that is being displayed and a callback is \n   * sent to the parent with the rows that are selected.\n   */\n  selectAll(event : MatCheckboxChange) {\n        \n    this.slctAllBox.checked = event.checked\n    this.selAllMap[this.currPageIndex] = event.checked \n        \n    for (let index = 0; index < (this.currPageIndex + this.tableConfig.dispRows); index++) \n      this.selectedIndexes[index + (this.currPageIndex * this.tableConfig.dispRows)] = event.checked\n    \n    const selAllEvent : MuTableSelAllEvent = {\n      selectedRows : this.dataMap[this.currPageIndex],\n      isSelected   : event.checked\n    }\n    this.onSelectAll.emit(selAllEvent)\n  }\n\n\n  /**\n   * Changes the select all indexes map according to user preference on click of radio button\n   * @param event \n   * @param rowData \n   */\n  radioSelect(event : MatRadioChange, rowData : Object) {\n\n    this.selectedIndexes = { }\n    const selectedIndex  = rowData['rowIndex']\n    this.selectedIndexes[selectedIndex] = true\n  }\n\n\n  /**\n   * Sends call back to the parent on click of an option inside moredetails along with\n   * the ID of the option and rowData\n   * @param detKey \n   * @param rowData \n   */\n  moreDetailsClick(detKey : string, rowData : Object) {\n\n    const moreSelEvent : MuTableDetailEvent = {\n      id      : detKey,\n      rowData : rowData\n    }\n    this.onDetailClick.emit(moreSelEvent)\n  }\n\n\n  /**\n   * Changes the select all indexes map according to user preference on click of toggle button\n   * @param event \n   * @param rowData \n   */\n  toggleRow(event : MatSlideToggleChange, rowData : Object) {\n  \n    this.selectedIndexes[rowData['rowIndex']] = event.checked    \n  }\n\n\n  /**\n   * mapData creates a map of row objects that needs to be displayed in the table\n   * with index as the key and array of objects as its value\n   * @param data the data that needs to be mapped\n   * @param startPageIndex - index from which data needs to be mapped\n   */\n  createDataMap(data : Array<Object>, startPageIndex : number) {\n                    \n    const dataSetCount = Math.ceil(data.length/this.tableConfig.dispRows),\n          currData     = JSON.parse(JSON.stringify(data))\n    \n    for (let index = 0; index < currData.length; index++) \n      currData[index]['rowIndex'] = index + (startPageIndex * this.tableConfig.dispRows)\n\n    for (let i = 0; i < dataSetCount; i++) {\n     \n      const mapData = currData.splice(0, this.tableConfig.dispRows),\n            mapKey  = startPageIndex + i\n                  \n      if (mapData.length === this.tableConfig.dispRows \n          || !this.tableConfig.lazyLoad \n          || (this.tableConfig.lazyLoad && this.tableConfig.totalRecords <= ((mapKey * this.tableConfig.dispRows) + mapData.length))) \n        this.dataMap[mapKey] = mapData \n    }\n    \n    this.dataToDisplay = this.dataMap[startPageIndex] || []\n    this.changeDet.detectChanges()\n  }\n\n\n  /**\n   * Called when user clicked on a page with its index as parameter.\n   * Displays the data of that index from the data map, if the data does not exists,\n   * a callback is given to the parent to load more data.\n   * @param pageIndex \n   */\n  onPageClick(pageIndex : number) {\n\n    if (pageIndex >= this.pageNumbers.length) {\n      pageIndex = this.pageNumbers.length - 1\n    } else if (pageIndex < 0) {\n      pageIndex = 0\n    }\n    \n    this.prevPageIndex = this.currPageIndex\n    this.currPageIndex = pageIndex \n\n    if (this.slctAllBox) {\n      this.slctAllBox.checked = this.selAllMap[this.currPageIndex] || false\n    }\n  \n    //Handling page numbers change\n    if (this.pageNumbers.length > 5) this.updatePageNumbers(pageIndex)\n        \n    //Handling data change\n    if (this.dataMap[this.currPageIndex]) {\n      this.dataToDisplay = this.dataMap[pageIndex]\n    } else {      \n      this.loadMoreData.emit(pageIndex * this.tableConfig.dispRows)\n    } \n  }  \n  \n\n  /**\n   * Updates the table data with new data, an optional parameter currentIndex should\n   * be sent as '0' inorder to clear the refresh the table.\n   * @param data \n   * @param currentIndex\n   * @param totalRecords \n   */\n  updateData(data : Object[], currentIndex ?: number, totalRecords ?: number) {\n\n    if (currentIndex === 0) {\n      \n      this.currPageIndex = currentIndex\n      this.dataMap       = {}\n      this.createPageNumbers()\n    }\n\n    if (totalRecords) this.tableConfig.totalRecords = totalRecords\n    else if (!this.tableConfig.lazyLoad) this.tableConfig.totalRecords = data.length\n    this.createDataMap(data, this.currPageIndex)     \n  }\n\n\n  /**\n   * Method invoked by the parent in case of api loading failure which brings back\n   * the table to previous state\n   */\n  loadingFailed(lastAppliedFilters  ?: FilterItem[], isHzFilters ?: boolean) {\n    \n    this.currPageIndex = this.prevPageIndex\n    this.updatePageNumbers(this.currPageIndex)\n\n    if (lastAppliedFilters) {\n      const index       = isHzFilters ? 0 : 1,\n            filterInsts = this.filterCompChildren.toArray()\n\n      filterInsts[index].updateLastAppliedFilters(lastAppliedFilters)   \n    }\n  }\n\n\n  /**\n   * Sends callback to the parent when the user clicks on hyperlink\n   * @param rowData \n   * @param headerKey \n   */\n  cellClick(rowData : Object, header : TableHeader) {\n    \n    const buttonEvent : MuTableClickEvent = {\n      headerKey : header.colType === COL_TYPE.MULTI_LINE ? header.dataKeyArr[0] : header.dataKey,\n      rowIndex  : rowData['rowIndex']\n    } \n\n    if (header.navInfo) {\n      const navUrl  = JSON.parse(JSON.stringify(header.navInfo.navUrl)),\n            utility = new MuUtility()\n\n      header.navInfo.navUrl = utility.createNavUrl(navUrl, rowData)\n      buttonEvent.navInfo   = header.navInfo\n    } else {\n      buttonEvent.rowData = rowData\n    }\n\n    this.onCellClick.emit(buttonEvent)\n  }\n\n\n  /**\n   * performs search operation on the data available in the table only if table\n   * is not lazy loaded. In case of lazy loading a callback is given to parent.\n   * @param event \n   */\n  search(inputText ?: string) {\n    \n    this.dataMap     = {}\n    let filteredData = []\n\n    if (!inputText) {\n\n      filteredData = this.tableConfig.data\n    } else {\n\n      filteredData = this.tableConfig.data.filter(dataRow => {\n        if (this.filterFields.filter(header => dataRow[header] && dataRow[header].toString().toLowerCase()\n                                               .includes(inputText.toString().toLowerCase()))\n                                               .length) \n          return true\n      })\n    }\n\n    this.tableConfig.totalRecords = filteredData.length\n    this.createDataMap(filteredData, 0)\n    this.createPageNumbers()\n  }\n\n\n  /**\n   * Inserts a data row at the beginning of the table by clearing the datamap \n   * @param obj - data object that needs to be inserted\n   */\n  insertRow(obj : Object) {\n    \n    let newData = []\n    if (!this.tableConfig.lazyLoad) {\n\n      this.tableConfig.data.unshift(obj)\n      newData = this.tableConfig.data\n\n      //Need to verify\n      let newIndexes = {}\n      for (let index of Object.keys(this.selectedIndexes)) newIndexes[Number(index) + 1] = true\n      this.selectedIndexes = {}\n      this.selectedIndexes = newIndexes\n    } else {\n\n      let firstPageData = this.dataMap[0]      \n      firstPageData.unshift(obj)\n      firstPageData.pop()    \n      newData = firstPageData\n    }\n    \n    this.dataMap = {}\n    this.tableConfig.totalRecords++\n    this.createDataMap(newData, 0)\n    this.createPageNumbers()\n  }\n\n\n  /**\n   * Deletes a row of given row index assuming that the index which is to deleted is currently \n   * being displayed. Checks whether next page data exists in the map and reorders the sequence by \n   * shifting the data, if not a callback is sent to parent to load data for that index. \n   * @param rowIndex - index of the data which needs to be deleted\n   */\n  deleteRow(rowIndex : number) {\n    \n    if (!this.tableConfig.lazyLoad) {\n      this.tableConfig.data.splice(rowIndex, 1)\n      this.dataMap = {}\n      this.createDataMap(this.tableConfig.data, 0)\n      this.tableConfig.totalRecords--\n      this.createPageNumbers()\n\n      //Need to verify\n      let newIndexes = {}\n      for (let index of Object.keys(this.selectedIndexes)) newIndexes[Number(index) - 1] = true\n      this.selectedIndexes = {}\n      this.selectedIndexes = newIndexes\n      return\n    }\n\n    if (this.dataMap[this.currPageIndex + 1]) {\n\n      this.dataMap[this.currPageIndex].splice(rowIndex%this.tableConfig.dispRows, 1)\n      this.dataMap[this.currPageIndex].push(this.dataMap[this.currPageIndex + 1][0])\n    } else if(this.tableConfig.totalRecords <= this.tableConfig.dispRows) {\n\n      this.tableConfig.totalRecords--\n      this.dataMap[this.currPageIndex].splice(rowIndex%this.tableConfig.dispRows, 1)\n    } else {\n\n      this.loadMoreData.emit(this.currPageIndex * this.tableConfig.dispRows)\n    }\n    \n    if (this.tableConfig.enableSelect) this.selectedIndexes = { }\n    const keys = Object.keys(this.dataMap)\n    for (const key of keys) if (Number(key) > this.currPageIndex) delete this.dataMap[key]\n\n    this.changeDet.detectChanges()\n  }\n\n\n  /**\n   * Enables editing the data for editable coloumns when the user clicks on edit button.\n   * Sends callback to the parent with new values when user saves the data.\n   */\n  editRow(rowData : Object, isEdit : boolean) {\n    \n    this.selectedIndexes = {}\n    if (isEdit) {\n\n      this.selectedIndexes[rowData['rowIndex']] = true\n    } else {\n\n      const editEvent : MuTableEditEvent = {\n        editedValues : this.editForm.value,\n        rowData      : rowData,\n        rowIndex     : rowData['rowIndex']\n      }\n      this.onRowEdit.emit(editEvent)\n    }\n    this.editForm.reset()\n  }\n\n\n  /**\n   * updates the data of given rowIndex, usually called after editing the data.\n   * @param rowIndex \n   * @param data \n   */\n  updateRow(rowIndex : number, data : Object) {\n    this.dataMap[this.currPageIndex][rowIndex % this.tableConfig.dispRows] = data\n  }\n\n\n  /**\n   * Call back from filter component on applying filters that was directly passed\n   * back to the parent\n   * @param event \n   */\n  applyFilter(event : MuSelectedFilter[]) {\n    /*\n    If data table has all the data, filters are applied by the table itself \n    instead of making an api call\n    */\n    if (!this.tableConfig.lazyLoad) {\n      if (event && event[0]) this.search(event[0].value.toString())\n      else this.search()\n      return\n    }\n    this.changeDet.detectChanges()\n    this.selectedFilter.emit(event)\n  }\n\n  /**\n   * Method invoked by parent to unselect the rows\n   * @param rowIndexes\n   */\n  unselectIndexes(rowIndexes : number[]) {\n\n    for (const index of rowIndexes) this.selectedIndexes[index]  = false\n    if (this.slctAllBox) this.slctAllBox.checked = false\n    this.selAllMap[this.currPageIndex] = false\n  }\n\n  /**\n   * Method invoked by parent to unselect the rows\n   * @param rowIndexes\n   */\n  downloadTableData() { }\n\n  getEditedRows() : Object[] {\n    let editedRows = []\n    Object.keys(this.dataMap).forEach(index => {\n      this.dataMap[index].forEach(rowObject => {\n        editedRows.push(rowObject)\n      })\n    })\n    return editedRows\n  }\n\n  /**\n   * Method invoked by parent to download the records in XLSX, CSV or XLS format\n   * @param rowIndexes\n   */\n\n  onDownloadClick() {\n    this.menuTrigger.closeMenu()\n\n    if (this.tableConfig.downloadFormats.length === 1) {\n      this.onSelectingFormat(this.tableConfig.downloadFormats[0])\n    } else {\n      this.menuTrigger.openMenu()\n    }\n  }\n\n  onSelectingFormat(fileFormat : string) {\n    this.onDownload.emit(fileFormat)\n  }\n\n}\n","import { Component, \n         Inject,\n         Output,\n         EventEmitter,\n         Input\n        }                         from '@angular/core'\nimport { RunContextBrowser } from '../../../rc-browser'\n\nexport enum KEYBOARD_MODE {\n  NORMAL    = 'NORMAL',\n  SHOW_DOT  = 'SHOW_DOT'\n}\n\nexport enum KEY_TYPE {\n  NUMBER  = 'NUMBER',\n  BACK    = 'BACK',\n  DONE    = 'DONE',\n  DOT     = 'DOT'\n}\n\nexport interface KeyPressData {\n  keyType : KEY_TYPE\n  key     : string\n}\n\n@Component({\n  selector    : 'keypad',\n  templateUrl : './keypad.component.html',\n  styleUrls   : ['./keypad.component.scss']\n})\nexport class KeypadComponent {\n\n  @Input('mode') mode : KEYBOARD_MODE\n  @Output('keyPress')   keyPress  = new EventEmitter<KeyPressData>()\n\n  KEYBOARD_MODE = KEYBOARD_MODE\n  \n  constructor(@Inject('RunContext') public rc : RunContextBrowser) { }\n\n  ngOnInit() {\n    if(!this.mode) this.mode = KEYBOARD_MODE.NORMAL\n  }\n\n  keyClick(inputNum: string) {\n    const data : KeyPressData = { key : inputNum, keyType : KEY_TYPE.NUMBER } \n    this.keyPress.emit(data)\n  }\n\n  onKeyBoardBack() {\n    const data : KeyPressData = { key : null, keyType : KEY_TYPE.BACK } \n    this.keyPress.emit(data)\n  }\n\n  onKeyBoardOk() {\n    const data : KeyPressData = { key : null, keyType : KEY_TYPE.DONE } \n    this.keyPress.emit(data)\n  }\n\n  onKeyBoardDot() {\n    const data : KeyPressData = { key : '.', keyType : KEY_TYPE.DOT } \n    this.keyPress.emit(data)\n  }\n\n}\n","import { Component, \n         OnInit,\n         Inject\n       }                      from '@angular/core'\nimport { RunContextBrowser } from '../../../rc-browser'\n\n@Component({\n  selector    : 'page-not-found',\n  templateUrl : './page-not-found.component.html',\n  styleUrls   : ['./page-not-found.component.scss']\n})\n\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser) { }\n\n  ngOnInit() {\n\n  }\n\n  /*=====================================================================\n                                  HTML\n  =====================================================================*/\n\n  onHomeClick() {\n    // this.rc.uiRouter.rootNavigate(ComponentRoute.LandingProxy)\n  }\n\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed May 20 2020\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2020 Obopay. All rights reserved.\n\n   Fails under following condition : \n   1. Quick inputs.\n   2. If user holds on to the key.\n------------------------------------------------------------------------------*/\n\nimport { Directive,\n         Output,\n         EventEmitter,\n         ElementRef,\n         Renderer2,\n         Input,\n         NgZone\n       }                            from '@angular/core'\nimport { NcMaxLengthDirective }     from './nc-maxlength.directive'\n\nconst KEY_UP    = 'keyup',\n      BACKSPACE = 'Backspace'\n\n\nexport interface MaskingParams {\n  maxLength        : number\n  maskedLength     : number\n  maskWith        ?: string\n  startSkipCount  ?: number\n  endSkipCount    ?: number\n}\n\n@Directive({\n  selector: '[maskingValue]'\n})\n\nexport class MaskingValueDirective extends NcMaxLengthDirective {\n\n  @Input('maskingValue') maskingParams : MaskingParams\n\n  @Output() maskedValue : EventEmitter<string> = new EventEmitter<string>()\n\n  private updatedString : string = ''\n\n  constructor(protected element   : ElementRef,\n              protected renderer  : Renderer2,\n              protected ngZone    : NgZone) {\n\n    super(element, renderer, ngZone)\n    window['mask']  = this\n  }\n\n  ngOnInit() {   \n    this.maxLength = this.maskingParams.maxLength\n  }\n  \n  ngAfterViewInit() {\n\n\n    const clonedInputNode = this.element.nativeElement.cloneNode(true),\n          parentElem      = this.element.nativeElement.parentElement\n          \n    this.renderer.appendChild(parentElem, clonedInputNode) \n    this.element.nativeElement.hidden = true\n\n    super.ngAfterViewInit()\n\n    if (this.element.nativeElement.value) {\n      const value         = this.element.nativeElement.value,\n            maskingParams = this.maskingParams,\n            startSkipCount  = maskingParams.startSkipCount || 0,\n            totalSkipCount  = startSkipCount + (maskingParams.endSkipCount   || 0)\n\n      this.value(value, startSkipCount, totalSkipCount)\n      this.updatedString  = value\n    }\n\n\n    this.renderer.listen(this.element.nativeElement.nextSibling, KEY_UP, this.handelEvent.bind(this))\n  }\n\n  /*=====================================================================\n                              PRIVATE\n  =====================================================================*/\n  private value(value : string, startSkipCount : number, totalSkipCount : number) {\n\n    value = value.substring(0, startSkipCount) \n            + value.substring(startSkipCount, totalSkipCount+ 1).replace(/\\w+/g, this.maskingParams.maskWith || '*') \n            + value.substring(totalSkipCount + 1)\n  \n    return value\n\n  }\n\n  private handelEvent(event : any) {\n\n    super.handleEvent(event)\n    \n    let startSkipCount  = this.maskingParams.startSkipCount || 0,\n        endSkipCount    = this.maskingParams.endSkipCount   || 0,\n        value           = event.srcElement.value,\n        totalSkipCount  = startSkipCount  + endSkipCount\n        length          = value.length\n\n    const isBackPressed = event.key === BACKSPACE\n\n    if (!isBackPressed && this.updatedString.length === this.maskingParams.maxLength) {\n      return\n    }\n\n\n    if (isBackPressed) {\n      this.updatedString  = this.updatedString.substr(0, length)\n      return\n    }\n\n    if (length <= startSkipCount) {\n      this.updatedString  = value.substr(0, startSkipCount)\n    }\n\n    if (length > startSkipCount && length <= totalSkipCount) {\n      this.updatedString  = this.updatedString.substr(0) + \n                            value.substr(this.updatedString.length, length)\n    }\n\n    if (length > totalSkipCount && length <= this.maskingParams.maxLength) {\n      this.updatedString  = this.updatedString.substr(0) + value.substr(length - 1)\n    }\n\n    \n    event.srcElement.value  = this.value(value, startSkipCount, totalSkipCount)\n    \n    this.element.nativeElement.value = this.updatedString\n    this.maskedValue.emit(this.updatedString)\n\n  }\n\n}\n","import { NgModule,\n         ModuleWithProviders\n       }                                    from '@angular/core'\nimport { FormsModule,\n         ReactiveFormsModule\n       }                                    from '@angular/forms'\nimport { CommonModule }                     from '@angular/common'\nimport { FlexLayoutModule }                 from '@angular/flex-layout'\nimport { MatRippleModule }                  from '@angular/material/core'\n\nimport { MatCheckboxModule }                from '@angular/material/checkbox'\nimport { MatDatepickerModule }              from '@angular/material/datepicker'\nimport { MatFormFieldModule }               from '@angular/material/form-field'\nimport { MatInputModule }                   from '@angular/material/input'\nimport { MatSelectModule }                  from '@angular/material/select'\nimport { MatAutocompleteModule }            from '@angular/material/autocomplete'\nimport { MatRadioModule }                   from '@angular/material/radio'\nimport { MatProgressBarModule }             from '@angular/material/progress-bar'\nimport { MatSliderModule }                  from '@angular/material/slider'\nimport { MatSlideToggleModule }             from '@angular/material/slide-toggle'\nimport { MatButtonToggleModule }            from '@angular/material/button-toggle'\nimport { MatMenuModule }                    from '@angular/material/menu'\nimport { MatCardModule }                    from '@angular/material/card'\nimport { MatDividerModule }                 from '@angular/material/divider'\n\n\n\nimport { MuComponentsRoutingModule }        from './ui/mu-components/mu-components-routing.module'\n\nimport { TRANSLATION_PROVIDERS }            from './ui/mu-components/translate/translations'\nimport { TranslatePipe }                    from './ui/mu-components/translate/translate.pipe'\n\nimport { CustomBreakPointsProvider }        from './ui/mu-components/custom-breakpoints'\nimport { NcAutoFocusDirective }             from './ui/mu-components/directives/nc-autofocus.directive'\nimport { NcMaxLengthDirective }             from './ui/mu-components/directives/nc-maxlength.directive'\nimport { LongPressDirective }               from './ui/mu-components/directives/longpress.directive'\nimport { NcStyleClassDirective }            from './ui/mu-components/directives/nc-style-class.directive'\nimport { AdjustElementsDirective }          from './ui/mu-components/directives/adjust-elements.directive'\nimport { NcFallbackCharDirective }          from './ui/mu-components/directives/nc-fallback-char.directive'\nimport { KeyboardDirective }                from './ui/mu-components/directives/keyboard.directive'\nimport { NextInpFocusDirective }            from './ui/mu-components/directives/next-inp-focus.directive'\nimport { NcAllowSingleClickDirective }      from './ui/mu-components/directives/nc-allow-single-click.directive'\nimport { NcImgFallbackDirective }           from './ui/mu-components/directives/nc-img-fallback.directive'\nimport { ValidateImgDirective }             from './ui/mu-components/directives/validate-img.directive'\n\n\n\n\nimport { GenericPipe }                      from './ui/mu-components/pipes/generic.pipe'\nimport { ExtractMobileNoPipe }              from './ui/mu-components/pipes/extract-mobile-no.pipe'\nimport { CurrencyPipe }                     from './ui/mu-components/pipes/currency.pipe'\n\nimport { DropDownMultiSelectComponent }     from './ui/mu-components/drop-down-multi-select/drop-down-multi-select.component'\nimport { BottomInComponent }                from './ui/mu-components/bottom-in/bottom-in.component'\nimport { ModalPopupComponent }              from './ui/mu-components/modal-popup/modal-popup.component'\nimport { LoadingComponent }                 from './ui/mu-components/loading/loading.component'\nimport { LoadingErrorComponent }            from './ui/mu-components/loading/loading-error/loading-error.component'\nimport { LoadingOverlayComponent }          from './ui/mu-components/loading/loading-overlay/loading-overlay.component'\nimport { ToastComponent }                   from './ui/mu-components/toast/toast.component'\nimport { InfiniteScrollComponent }          from './ui/mu-components/infinite-scroll/infinite-scroll.component'\nimport { FilterComponent }                  from './ui/mu-components/filter/filter.component'\nimport { InputContainerComponent}           from './ui/mu-components/input-container/input-container.component'\nimport { DialerComponent }                  from './ui/mu-components/dialer/dialer.component'\nimport { MuFormContainerComponent }         from './ui/mu-components/mu-form-container/mu-form-container.component'\n\n\nimport { AlertDialogComponent }             from './ui/mu-components//alert-dialog/alert-dialog.component'\nimport { MuDataTableComponent }             from './ui/mu-components//mu-data-table/mu-data-table.component'\nimport { FileUploadComponent }              from './ui/mu-components//file-upload/file-upload.component'\nimport { KeypadComponent }                  from './ui/mu-components//keypad/keypad.component'\nimport { PageNotFoundComponent }            from './ui/mu-components//page-not-found/page-not-found.component'\nimport { MaskingValueDirective }            from './ui/mu-components//directives/masking-value.directive'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FlexLayoutModule,\n    MuComponentsRoutingModule,\n    MatFormFieldModule,\n    MatDatepickerModule,\n    MatInputModule,\n    MatSelectModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatProgressBarModule,\n    MatRadioModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatButtonToggleModule,\n    MatMenuModule,\n    MatCardModule,\n    MatRippleModule,\n    MatDividerModule\n  ],\n\n  declarations: [\n    BottomInComponent,\n    ModalPopupComponent,\n    LoadingComponent,\n    LoadingErrorComponent,\n    LoadingOverlayComponent,\n    ToastComponent,\n    AlertDialogComponent,\n    InfiniteScrollComponent,\n    FilterComponent,\n    InputContainerComponent,\n    MuDataTableComponent,\n    DialerComponent,\n    FileUploadComponent,\n    MuFormContainerComponent,\n    PageNotFoundComponent,\n    DropDownMultiSelectComponent,\n\n    NcAutoFocusDirective,\n    NcMaxLengthDirective,\n    LongPressDirective,\n    NcStyleClassDirective,\n    NextInpFocusDirective,\n    AdjustElementsDirective,\n    NcFallbackCharDirective,\n    KeyboardDirective,\n    MaskingValueDirective,\n    NcAllowSingleClickDirective,\n    NcImgFallbackDirective,\n    ValidateImgDirective,\n\n    TranslatePipe,\n    GenericPipe,\n    CurrencyPipe,\n    KeypadComponent,\n    ExtractMobileNoPipe\n  ],\n\n  entryComponents : [\n    AlertDialogComponent,\n    KeypadComponent\n  ],\n\n  exports: [\n    BottomInComponent,\n    ModalPopupComponent,\n    LoadingComponent,\n    LoadingErrorComponent,\n    LoadingOverlayComponent,\n    ToastComponent,\n    InfiniteScrollComponent,\n    FilterComponent,\n    InputContainerComponent,\n    MuDataTableComponent,\n    DialerComponent,\n    KeypadComponent,\n    MuFormContainerComponent,\n    PageNotFoundComponent,\n    DropDownMultiSelectComponent,\n\n    NcAutoFocusDirective,\n    NcMaxLengthDirective,\n    LongPressDirective,\n    NcStyleClassDirective,\n    NextInpFocusDirective,\n    AdjustElementsDirective,\n    NcFallbackCharDirective,\n    KeyboardDirective,\n    MaskingValueDirective,\n    NcAllowSingleClickDirective,\n    NcImgFallbackDirective,\n    ValidateImgDirective,\n\n    TranslatePipe,\n    GenericPipe,\n    ExtractMobileNoPipe,\n    CurrencyPipe,\n\n\n    //Angular imports\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FlexLayoutModule,\n    MatCheckboxModule,\n    MatDatepickerModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatAutocompleteModule,\n    MatRadioModule,\n    MatProgressBarModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatButtonToggleModule,\n    MatMenuModule,\n    MatCardModule,\n    MatDividerModule\n  ],\n\n\n  providers: [\n    CustomBreakPointsProvider,\n    TRANSLATION_PROVIDERS,\n    // {provide: HAMMER_GESTURE_CONFIG, useClass: GestureConfig}\n  ]\n})\n\n\nexport class MuBrowserModule {\n  static forRoot(): ModuleWithProviders<any> {\n    return {\n      ngModule: MuBrowserModule,\n      providers: [\n        TRANSLATION_PROVIDERS,\n        // {provide: HAMMER_GESTURE_CONFIG, useClass: GestureConfig}\n      ]\n    }\n  }\n}\n","const utf8Encodings = ['utf8', 'utf-8']\n\nexport class TextEncDec {\n\n  constructor(encFormat : string) {\n\n    if (utf8Encodings.indexOf(encFormat) < 0 && typeof encFormat !== 'undefined' && encFormat != null) {\n      throw new RangeError('Invalid encoding type. Only utf-8 is supported')\n    } \n\n  }\n\n  encode(str : string) {\n\n    if (typeof str !== 'string') {\n      throw new TypeError('passed argument must be of tye string')\n    }\n\n    const binstr  = unescape(encodeURIComponent(str)),\n          uar     = new Uint8Array(binstr.length),\n          split   = binstr.split('')\n\n    for (let i = 0; i < split.length; i++) {\n      uar[i] = split[i].charCodeAt(0)\n    }\n    return uar\n  }\n\n  decode(uar : Uint8Array) {\n\n    if (typeof uar === 'undefined') {\n      return ''\n    }\n\n    if (!ArrayBuffer.isView(uar)) {\n      throw new TypeError('passed argument must be an array buffer view')\n    } else {\n      const arr     = new Uint8Array(uar.buffer, uar.byteOffset, uar.byteLength),\n            charArr = new Array(arr.length)\n\n      for (let i = 0; i < arr.length; i++) {\n        charArr[i] = String.fromCharCode(arr[i])\n      }\n\n      return decodeURIComponent(escape(charArr.join('')))\n    }\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Mon Jun 26 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { \n         Mubble,\n         ConnectionInfo,\n         WireObject,\n         DataLeader,\n         Encoder,\n         WssProviderConfig\n       }                      from '@mubble/core'\nimport { RunContextBrowser }  from '../rc-browser'\nimport { TextEncDec }         from './text-enc-dec'\n\nconst ASYM_ALGO = {name: 'RSA-OAEP', hash: {name: 'SHA-1'}}\n\nlet arShortCode : Uint8Array\nlet arUniqueId  : Uint8Array\nlet pwc         : PakoWorkerClient\n\nexport class EncryptionBrowser {\n\n  private syncKey: any // can be sent as null by server\n  private symAlgo     \n\n  constructor(private rc: RunContextBrowser, \n              private ci: ConnectionInfo, \n              private rsaPubKey: Uint8Array,\n              private iv : Uint8Array) {\n\n    rc.setupLogger(this, 'EncryptionBrowser')\n\n    this.symAlgo = { name: \"AES-CBC\", length: 256, iv: this.iv }\n\n    if (!arShortCode) this.extractShortCode(rc, ci.shortName)\n    if (!arUniqueId)  this.extractUniqueId(rc, ci.customData.jsVersion)\n    if (!pwc)         pwc = new PakoWorkerClient(rc)\n  }\n\n  async init() {\n    this.syncKey = await crypto.subtle.generateKey(this.symAlgo, true, ['encrypt', 'decrypt'])\n  }\n\n  async encodeHeader(wsConfig: WssProviderConfig): Promise<string> {\n\n    const now           = Date.now() * 1000, // microseconds\n          tsBuffer      = await this.encrypt(this.strToUnit8Ar(now.toString())),\n          encTs         = new Uint8Array(tsBuffer) as any,\n          tsB64         = btoa(String.fromCharCode(...encTs))\n\n    const keyBuffer     = await this.encryptSymKey(),\n          encKey        = new Uint8Array(keyBuffer) as any,\n          keyB64        = btoa(String.fromCharCode(...encKey))\n\n    const configBuffer  = await this.encrypt(this.strToUnit8Ar(JSON.stringify(wsConfig))),\n          encConfig     = new Uint8Array(configBuffer) as any,\n          configB64     = btoa(String.fromCharCode(...encConfig))\n\n    return `${tsB64}${keyB64}${configB64}`\n  }\n\n  private async encryptSymKey() {\n\n    /*\n      this.ci.syncKey: Sym key that is generated by client and then changed by server\n      this.syncKey: Public key that is used to protect this.ci.syncKey\n    */\n   const buffer = await crypto.subtle.exportKey('raw', this.syncKey),\n         key    = await crypto.subtle.importKey('spki', this.rsaPubKey, ASYM_ALGO , false, ['encrypt']),\n         encKey = await crypto.subtle.encrypt(ASYM_ALGO, key, buffer)\n    \n    return encKey\n  }\n\n  private async encrypt(ar: Uint8Array): Promise<ArrayBuffer> {\n    return await crypto.subtle.encrypt(this.symAlgo, this.syncKey, ar)\n  }\n\n  private async decrypt(ar: Uint8Array): Promise<ArrayBuffer> {\n    return await crypto.subtle.decrypt(this.symAlgo, this.syncKey, ar)\n  }\n\n  private getArrayBuffer(ar: Uint8Array) {\n    if (ar.byteOffset === 0 && ar.byteLength === ar.buffer.byteLength) return ar.buffer as ArrayBuffer\n    return ar.buffer.slice(ar.byteOffset, ar.byteOffset + ar.byteLength) as ArrayBuffer\n  }\n\n  async encodeBody(data: WireObject[]): Promise<Uint8Array> {\n\n    const str = this.stringifyWireObjects(data)\n    let   firstPassArray,\n          leader  = -1,\n          deflate = false\n\n    if (str.length > Encoder.MIN_SIZE_TO_COMPRESS) {\n      const ar = await pwc.deflate(str)\n      if (ar.length < str.length) {\n        firstPassArray = ar\n        deflate        = true\n      }\n    }\n\n    if (!firstPassArray) {\n      firstPassArray = this.strToUnit8Ar(str)\n    }\n\n    const secondPassArray = new Uint8Array(await this.encrypt(firstPassArray)),\n          arOut           = new Uint8Array(secondPassArray.byteLength + 1)\n\n    leader = deflate ? DataLeader.ENC_DEF_JSON : DataLeader.ENC_JSON\n\n    arOut.set([leader])\n    arOut.set(secondPassArray, 1)\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'encodeBody', {\n      first       : data[0].name,\n      messages    : data.length, \n      json        : str.length, \n      wire        : arOut.byteLength,\n      encrypted   : true,\n      compressed  : deflate,\n    })\n    return arOut\n  }\n\n  private stringifyWireObjects(objects: WireObject[]) {\n\n    const strArray = objects.map(wm => wm.stringify())\n    return `[${strArray.join(', ')}]`\n  }\n\n  async decodeBody(data: ArrayBuffer): Promise<[WireObject]> {\n\n    const inAr    = new Uint8Array(data, 1),\n          ar      = new Uint8Array(data, 0, 1),\n          leader  = ar[0],\n          temp    = new Uint8Array(await this.decrypt(inAr))\n    \n    let arData, index, decLen, deflated = false\n\n    if (leader === DataLeader.BINARY) {\n\n      const newLineCode = '\\n'.charCodeAt(0)\n      for (index = 0; index < temp.length; index++) if (temp[index] === newLineCode) break\n\n      const jsonStr = String.fromCharCode(...temp.slice(0, index) as any),\n            wo      = WireObject.getWireObject(JSON.parse(jsonStr)) as WireObject,\n            outAr   = temp.slice(index + 1)\n            \n      wo.data = outAr\n      arData  = [wo]\n      decLen  = outAr.byteLength\n\n    } else {\n\n      deflated        = leader === DataLeader.DEF_JSON || leader === DataLeader.ENC_DEF_JSON\n      const inJsonStr = deflated ? await pwc.inflate(temp) : this.uint8ArToStr(temp),\n            inJson    = JSON.parse(inJsonStr)\n\n      decLen = inJsonStr.length\n      arData = Array.isArray(inJson) ? inJson: [inJsonStr]\n      \n      for (index = 0; index < arData.length; index++) {\n        arData[index] = WireObject.getWireObject(JSON.parse(arData[index]))\n      }\n    }\n  \n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'decodeBody', {\n      first       : arData[0].name, \n      messages    : arData.length, \n      wire        : data.byteLength, \n      message     : decLen,\n      encrypted   : leader === DataLeader.ENC_JSON || leader === DataLeader.ENC_BINARY || leader === DataLeader.ENC_DEF_JSON,compressed  : leader === DataLeader.BINARY ? 'binary' : deflated\n    })\n\n    return arData as [WireObject]\n  }\n\n  public async setNewKey(syncKey: string) {\n\n    const arEncNewKey = this.binToUnit8Ar(atob(syncKey))\n    this.syncKey      = await crypto.subtle.importKey('raw', arEncNewKey, this.symAlgo, true, ['encrypt', 'decrypt'])\n  }\n\n  async getSyncKeyB64(): Promise<string> {\n\n    const buffer = await crypto.subtle.exportKey('raw', this.syncKey),\n          arr    = new Uint8Array(buffer) as any\n\n    return btoa(String.fromCharCode(...arr))   \n  }\n\n  binToUnit8Ar(binStr : string): Uint8Array {\n    const cls:any     = Uint8Array\n    return cls.from(binStr, (c : any) => c.charCodeAt(0))\n  }\n\n  strToUnit8Ar(str : string): Uint8Array {\n    const TextEncoder = (window as any).TextEncoder\n    return TextEncoder ?  new TextEncoder('utf-8').encode(str) : new TextEncDec('utf-8').encode(str)\n  }\n\n  uint8ArToStr(uar : Uint8Array): string {\n    const TextDecoder = (window as any).TextDecoder\n    return TextDecoder ? new TextDecoder('utf-8').decode(uar) : new TextEncDec('utf-8').decode(uar)\n  }\n\n  private extractShortCode(rc: RunContextBrowser, code: string) {\n\n    rc.isAssert() && rc.assert(rc.getName(this), code.length <= 4)\n    arShortCode = new Uint8Array(4)\n    \n    for (let index = 0; index < code.length; index++) {\n      const str = code.charAt(index)\n      rc.isAssert() && rc.assert(rc.getName(this), str.match(/[a-zA-Z0-9]/))\n      arShortCode[index] = str.charCodeAt(0) - 40\n    }\n  }\n      \n  \n  private extractUniqueId(rc: RunContextBrowser, id: string) {\n\n    let ar = id.split('.').map(i => Number(i))\n\n    if (ar.length > 1) {\n\n      rc.isAssert() && rc.assert(rc.getName(this), ar.length === 3 && \n        !isNaN(ar[0]) && !isNaN(ar[1])  && !isNaN(ar[2]))\n\n    } else {\n\n      let num = Number(ar[0])\n      rc.isAssert() && rc.assert(rc.getName(this), !isNaN(num) && num <= 999999)\n\n      ar[2] = num % 100\n      num   = Math.floor(num / 100)\n\n      ar[1] = num % 100\n      ar[0] = Math.floor(num / 100)\n\n    }\n    arUniqueId = Uint8Array.from(ar)\n  }\n}\n\nclass AsyncRequest {\n\n  static nextRequestId: number = 1\n\n  requestId       : number\n  promise         : Promise<any>\n  resolve         : (...params: any[]) => void\n  reject          : () => void\n\n  constructor(public apiName: string) {\n\n    this.requestId  = AsyncRequest.nextRequestId++\n\n    this.promise    = new Promise((resolve, reject) => {\n      this.resolve  = resolve\n      this.reject   = reject\n    })\n  }\n}\n\nclass PakoWorkerClient {\n\n  private worker: Worker\n  private reqMap: Mubble.uObject<AsyncRequest> = {}\n\n  constructor(private rc: RunContextBrowser) {\n    const worker = this.worker = new Worker('js/pwc.js')\n    worker.onmessage = this.onMessage.bind(this)\n  }\n\n  async inflate(inU8Array: Uint8Array): Promise<string> {\n    return await this.sendMessage('inflate', inU8Array, {to: 'string'}) as string\n  }\n\n  async deflate(str: string): Promise<Uint8Array> {\n    return await this.sendMessage('deflate', str) as Uint8Array\n  }\n\n  private sendMessage(apiName : string, ...params : Array<any>) {\n    const asyncRequest = new AsyncRequest(apiName)\n    this.reqMap[asyncRequest.requestId] = asyncRequest\n    this.worker.postMessage([asyncRequest.requestId, apiName, ...params])\n    return asyncRequest.promise\n  }\n\n  onMessage(event : MessageEvent) {\n    const [reqId, ...resp] = event.data\n    const asyncRequest = this.reqMap[reqId]\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), asyncRequest)\n    delete this.reqMap[reqId]\n    asyncRequest.resolve(...resp)\n  }\n\n}\n\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Mon Apr 17 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n\n  Ping: Ping indicates to the server that client is up and kicking.... \n  Websocket carries ephemeral events too. Design of Ping also helps in carrying \n  ephemeral events. This is the reason we don't tick timer when we receive \n  messages from the server\n\n------------------------------------------------------------------------------*/\n\nimport { \n         ConnectionInfo,\n         XmnError,\n         SYS_EVENT,\n         WireEvent,\n         WireEphEvent,\n         WireSysEvent,\n         ConnectionError,\n         TimerInstance,\n         WireObject,\n         XmnProvider,\n         WssProviderConfig,\n         HANDSHAKE,\n         WIRE_TYPE,\n         WireRequest\n       }                                from '@mubble/core'\nimport { RunContextBrowser }            from '../rc-browser'\nimport { EncryptionBrowser }            from './enc-provider-browser'\nimport { XmnRouterBase }                from './xmn-router-base'\n\nconst PING_SECS             = 29,\n      TOLERANCE_SECS        = 5,\n      RFRSH_LAST_REQ_SECS   = 60\n\nexport class WsBrowser implements XmnProvider {\n\n  private ws                  : WebSocket\n  private encProvider         : EncryptionBrowser\n  private timerPing           : TimerInstance\n  private lastRequestTimer    : TimerInstance\n  private wsProviderConfig    : WssProviderConfig\n  private pendingMessage      : WireObject[] | WireObject\n  \n  private socketCreateTs      : number          = 0\n  private lastMessageTs       : number          = 0\n  private sending             : boolean         = false\n  private configured          : boolean         = false\n  private connExpired         : boolean         = false\n  private lastRequestTs       : number          = 0\n\n  private ephemeralEvents     : WireEvent[]     = []\n  private sessionTimedoutSecs : number    \n\n  constructor(private rc     : RunContextBrowser, \n              private ci     : ConnectionInfo,\n              private router : XmnRouterBase) {\n\n    rc.setupLogger(this, 'WsBrowser')\n    this.timerPing        = rc.timer.register('ws-ping', this.cbTimerPing.bind(this))\n    this.lastRequestTimer = rc.timer.register('ws-request', this.cbRequestTimer.bind(this))\n\n    rc.isDebug() && rc.debug(rc.getName(this), 'constructor')\n\n  }\n\n  private uiArToB64(ar : any) {\n    return btoa(String.fromCharCode(...ar))\n  }\n\n  public sendEphemeralEvent(event: WireEphEvent) {\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), this.ci.provider)\n\n    if (this.ephemeralEvents.length >= 20) {\n      this.rc.isWarn() && this.rc.warn(this.rc.getName(this), 'Too many ephemeralEvents. Sizing to 20')\n      while (this.ephemeralEvents.length >= 20) this.ephemeralEvents.shift()\n    }\n    this.ephemeralEvents.push(event)\n  }\n\n  public send(rc: RunContextBrowser, data: WireObject[] | WireObject): string | null {\n\n    const ws = this.ws\n\n    if ( this.sending || \n        (ws && (ws.readyState !== WebSocket.OPEN || !this.configured || ws.bufferedAmount)) ) {\n\n      rc.isStatus() && rc.status(rc.getName(this), 'Websocket is not ready right now', {\n        anotherSendInProgress : this.sending,\n        configured            : this.configured,\n        readyState            : this.ws ? this.ws.readyState : 'to be created',\n        bufferedAmount        : this.ws.bufferedAmount\n      })\n\n      return XmnError._NotReady\n    }\n\n    const objects: WireObject[] = Array.isArray(data) ? data : [data] \n\n    if (this.ephemeralEvents.length) {\n      objects.push(...this.ephemeralEvents)\n      this.ephemeralEvents.length = 0\n    }\n    this.sendInternal(rc, objects)\n    return null\n  }\n\n  public requestClose() {\n    const ws  = this.ws\n    if(ws && ws.readyState !== WebSocket.CLOSED)\n      ws.close()\n  }\n\n  private async sendInternal(rc: RunContextBrowser, data: WireObject[]) {\n\n    let messageBody\n    this.sending = true\n\n    if (!this.ws) {\n\n      this.pendingMessage = data\n\n      if (!this.encProvider) {\n        this.encProvider = new EncryptionBrowser(rc, this.ci, \n          this.router.getPubKey(), this.router.getEncIV())\n        await this.encProvider.init()\n      }\n\n      if (!this.wsProviderConfig) {\n        this.wsProviderConfig = {\n          pingSecs        : PING_SECS,\n          maxOpenSecs     : this.router.getMaxOpenSecs(),\n          toleranceSecs   : TOLERANCE_SECS,\n          key             : await this.encProvider.getSyncKeyB64(),\n          custom          : this.ci.customData\n        }\n      }\n\n      const url     = `${this.ci.port === 443 || this.router.runAlwaysAsSecure(this.rc) \n                       ? 'wss' : 'ws'}://${this.ci.host}:${this.ci.port}/${HANDSHAKE}/${this.ci.protocolVersion}/${this.ci.shortName}/`,\n            header  = await this.encProvider.encodeHeader(this.wsProviderConfig)\n      \n      messageBody = encodeURIComponent(header)\n\n      this.ws  = new WebSocket(url + messageBody)\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'Opened socket with url', url + messageBody)\n  \n      this.ws.binaryType = 'arraybuffer'\n      \n      this.ws.onopen     = this.onOpen.bind(this)\n      this.ws.onmessage  = this.onMessage.bind(this)\n      this.ws.onclose    = this.onClose.bind(this)\n      this.ws.onerror    = this.onError.bind(this)\n  \n      this.socketCreateTs = Date.now()\n        \n    } else {\n      \n      if (!this.isConnWithinPing(Date.now())) { // Connection expired\n        rc.isDebug() && rc.debug(rc.getName(this), `Connection expired..requesting Socket close.`)\n        this.sending      = false\n        this.connExpired  = true\n        this.requestClose()\n        return\n      }\n      \n      messageBody = await this.encProvider.encodeBody(data)\n      this.ws.send(messageBody)\n\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'Sent message', {msgLen: messageBody.length, \n        messages: data.length, firstMsg: data[0].name})  \n    }\n\n    const wireObjIsOfReq  = data.some(wireObject => { return wireObject.type === WIRE_TYPE.REQUEST })\n\n    if (wireObjIsOfReq && this.router.canStrtLastReqTimer(this.rc)) {\n      this.setLastReqTimer(rc)\n    }\n\n    this.setupTimer(rc)\n    this.sending = false\n  }\n\n  onOpen() {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onOpen() in', Date.now() - this.socketCreateTs, 'ms')\n    this.router.providerReady()\n  }\n\n  async onMessage(msgEvent: MessageEvent) {\n\n    const data = msgEvent.data\n    const messages = await this.encProvider.decodeBody(data)\n    await this.router.providerMessage(this.rc, messages)\n  }\n\n  onError(err: any) {\n    this.rc.isWarn() && this.rc.warn(this.rc.getName(this), 'Websocket onError()', err)\n    if (this.ci.provider) {\n      this.cleanup()\n      this.router.providerFailed()\n    }\n  }\n\n  onClose() {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'Websocket onClose()')\n    if (this.ci.provider) {\n      this.cleanup()\n      this.router.providerFailed(this.connExpired ? XmnError._ConnectionExpired : null)\n    }\n  }\n\n  async processSysEvent(rc: RunContextBrowser, se: WireSysEvent) {\n\n    if (se.name === SYS_EVENT.WS_PROVIDER_CONFIG) {\n\n      const config: WssProviderConfig = se.data as WssProviderConfig,\n            msPingSecs = config.pingSecs      \n\n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n          msPingSecs && Number.isInteger(msPingSecs), msPingSecs)\n\n      Object.assign(this.wsProviderConfig, config)\n      \n      if (config.key) await this.encProvider.setNewKey(config.key)\n\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n        'First message in', Date.now() - this.socketCreateTs, 'ms')\n\n      this.configured = true\n      \n      if (this.pendingMessage) {\n        this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `Sending Pending Message...`)\n        await this.send(this.rc, this.pendingMessage)\n        this.pendingMessage = null\n      }\n\n    } else if (se.name === SYS_EVENT.ERROR) {\n\n      const errMsg = se.data as ConnectionError\n      rc.isWarn() && rc.warn(rc.getName(this), 'processSysEvent' , errMsg)\n      if (this.ci.provider) {\n        this.cleanup()\n        this.router.providerFailed(errMsg.code)\n      }\n    }\n  }\n\n  private isConnWithinPing(requestTs: number) {\n\n    const wsConfig = this.wsProviderConfig,\n          pingTh   = this.lastMessageTs  + (wsConfig.pingSecs + wsConfig.toleranceSecs)    * 1000,\n          openTh   = this.socketCreateTs + (wsConfig.maxOpenSecs - wsConfig.toleranceSecs) * 1000\n\n    return requestTs < pingTh && requestTs < openTh\n  }\n\n  private async setLastReqTimer(rc: RunContextBrowser) {\n\n    this.lastRequestTs  = Date.now()\n    this.lastRequestTimer.tickAfter(RFRSH_LAST_REQ_SECS * 1000, true)\n\n\n    if (!this.sessionTimedoutSecs) {\n      this.sessionTimedoutSecs  = await this.router.getSessionTimeOutSecs(rc)\n    }\n\n  }\n\n  private setupTimer(rc: RunContextBrowser) {\n    \n    this.lastMessageTs = Date.now()\n    this.timerPing.tickAfter(this.wsProviderConfig.pingSecs * 1000, true)\n  }\n\n  private cbRequestTimer() {\n\n    if (!this.ci.provider) return 0\n\n    const now   = Date.now(),\n          diff  = now - this.lastRequestTs\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `cbRequestTimer ${diff}, ${this.sessionTimedoutSecs}`)\n\n    if (diff >= (this.sessionTimedoutSecs * 1000)) {\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `Session timed out. Closing session`)\n      this.router.sessionTimedOut(this.rc)\n      this.requestClose()\n      return RFRSH_LAST_REQ_SECS * 1000\n    }\n\n    return diff\n  }\n\n  private cbTimerPing(): number {\n\n    if (!this.ci.provider) return 0\n\n    const now   = Date.now(),\n          diff  = this.lastMessageTs + this.wsProviderConfig.pingSecs * 1000 - now\n\n    if (diff <= 0) {\n      this.send(this.rc, [new WireSysEvent(SYS_EVENT.PING, {})])\n      return this.wsProviderConfig.pingSecs * 1000\n    }\n\n    return diff\n    \n  }\n\n  private cleanup() {\n\n    if (!this.ci.provider) return\n\n    try {\n      this.timerPing.remove()\n      this.lastRequestTimer.remove()\n      \n      this.encProvider  = null as any\n      this.ci.provider  = null as any\n\n      if (this.ws) this.ws.close()\n      this.ws           = null as any\n  \n    } catch (e) {}\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Sun Jun 25 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { \n         Mubble,\n         ConnectionInfo,\n         Protocol,\n         XmnError,\n         WIRE_TYPE,\n         WireEvent,\n         WireEphEvent,\n         WireEventResp,\n         WireObject,\n         WireReqResp,\n         WireRequest,\n         WireSysEvent,\n         TimerInstance,\n         SYS_EVENT,\n         CustomData,\n         WssProviderConfig,\n       }                      from '@mubble/core'\nimport { RunContextBrowser }  from '../rc-browser'\nimport { XmnRouterBase }      from './xmn-router-base'\nimport { WsBrowser }          from './ws-browser'\nimport { EventSystem }        from '../util'\nimport Dexie                  from 'dexie'\nimport findIndex              from 'lodash/findIndex'\n\nconst TIMEOUT_MS          = 30000,\n      SEND_RETRY_MS       = 1000,\n      SEND_TIMEOUT        = 10000,\n      EVENT_SEND_DELAY    = 1000,\n      MAX_EVENTS_TO_SEND  = 5\n\ninterface BrowserConnectionInfo extends ConnectionInfo {\n  provider : WsBrowser\n}\n\nexport abstract class XmnRouterBrowser implements XmnRouterBase {\n\n  private ci                : BrowserConnectionInfo\n  private ongoingRequests   : WireRequest[] = []\n  private eventSubMap       : Mubble.uObject<(rc: RunContextBrowser, name: string, data: any)=>any> = {}\n  \n  private timerReqResend    : TimerInstance\n  private timerReqTimeout   : TimerInstance\n  private timerEventTimeout : TimerInstance\n\n  private db: XmnDb\n\n  // This flag indicates that events can be sent. This is to allow application to\n  // have control when events are being sent. Normally, events are sent after \n  // getting client identity or login. But in background runs, events can be sent \n  // immediately\n\n  private lastEventTs      = 0\n  private lastEventSendTs  = 0\n  private pubKey: Uint8Array\n  private encIV : Uint8Array\n\n  constructor(private rc: RunContextBrowser, serverUrl: string, \n                      ci: ConnectionInfo, pubKey: string, \n                      encIV: Uint8Array) {\n\n    const urlParser     = document.createElement('a')\n    urlParser.href      = serverUrl\n\n    this.ci             = ci as BrowserConnectionInfo\n\n    this.ci.protocol    = Protocol.WEBSOCKET\n    this.ci.host        = urlParser.hostname\n    this.ci.port        = Number(urlParser.port) || (urlParser.protocol === 'https:' ? 443 : 80)\n    \n    const cls :any      = Uint8Array\n    this.pubKey         = cls.from(atob(pubKey), (c : any) => c.charCodeAt(0))\n    this.encIV          = encIV\n    \n    this.timerReqResend    = rc.timer.register('router-resend', this.cbTimerReqResend.bind(this))\n    this.timerReqTimeout   = rc.timer.register('router-req-timeout', this.cbTimerReqTimeout.bind(this))\n    this.timerEventTimeout = rc.timer.register('router-event-timeout', this.cbTimerEventTimeout.bind(this))\n\n    rc.isDebug() && rc.debug(rc.getName(this), 'constructor')\n  }\n\n  getPubKey() { return this.pubKey }\n  getEncIV() { return this.encIV }\n\n  abstract getNetworkType(rc: RunContextBrowser): string\n  abstract getLocation(rc: RunContextBrowser): string\n  abstract getMaxOpenSecs() : number\n  abstract getCustomData(rc: RunContextBrowser) : CustomData\n  abstract updateCustomData(rc: RunContextBrowser, customData: CustomData)\n  abstract canStrtLastReqTimer(rc : RunContextBrowser) : boolean\n  abstract getSessionTimeOutSecs(rc: RunContextBrowser)\n  abstract sessionTimedOut(rc: RunContextBrowser)\n  abstract runAlwaysAsSecure(rc: RunContextBrowser) : boolean  \n\n  async sendRequest(rc: RunContextBrowser, apiName: string, data: object, timeoutMS ?: number): Promise<object> {\n\n    const timeout = timeoutMS || TIMEOUT_MS\n\n    return new Promise((resolve, reject) => {\n\n      const wr = new WireRequest(apiName, data, 0, resolve, reject)\n      this.ongoingRequests.push(wr)\n\n      if (!this.ci.provider) this.prepareConnection(rc)\n\n      if (!this.ci.provider.send(rc, [wr])) {\n        wr._isSent = true\n        rc.isDebug() && rc.debug(rc.getName(this), 'sent request', wr)\n        this.timerReqTimeout.tickAfter(timeout)\n      } else {\n        rc.isStatus() && rc.status(rc.getName(this), 'send to be retried', wr)\n        this.timerReqResend.tickAfter(SEND_RETRY_MS)\n      }\n    })\n  }\n\n  protected async sendPersistentEvent(rc: RunContextBrowser, eventName: string, data: object) {\n    \n    if (!this.ci.provider) this.prepareConnection(rc)\n      const customData = this.ci.customData\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'sendPersistentEvent', eventName, \n      'customData', customData && customData.clientId)\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), customData && customData.clientId, \n      'You cannot send events without clientId')\n\n    if (await this.initEvents()) {\n\n      const event      = new WireEvent(eventName, data),\n            eventTable = new EventTable(event)\n\n      await eventTable.save(this.db)\n      await this.trySendingEvents(rc)\n    }\n  }\n\n  protected async sendEphemeralEvent(rc: RunContextBrowser, eventName: string, data: object) {\n    \n    if (!this.ci.provider) this.prepareConnection(rc)\n      const customData = this.ci.customData\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'sendEphemeralEvent', eventName, \n      'customData', customData && customData.clientId)\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), customData && customData.clientId, \n      'You cannot send events without clientId')\n\n    const event      = new WireEphEvent(eventName, data)\n    this.ci.provider.sendEphemeralEvent(event)\n  }\n\n  public subscribeEvent(eventName: string, eventHandler: \n      (rc: RunContextBrowser, name: string, data: any) => any) {\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), eventName && eventHandler)\n    this.eventSubMap[eventName] = eventHandler\n  }\n\n  prepareConnection(rc: RunContextBrowser) {\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'prepareConnection', !!this.ci.provider)\n    this.ci.customData              = this.getCustomData(rc)\n    this.ci.customData.networkType  = this.getNetworkType(rc)\n    this.ci.customData.networkType  = this.getLocation(rc)\n    if (!this.ci.provider) this.ci.provider = new WsBrowser(rc, this.ci, this)\n  }\n\n  private async initEvents() {\n\n    const customData = this.ci.customData\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'initEvents', !!this.db)\n\n    if (!this.db && customData && customData.clientId) {\n      this.db = new XmnDb(this.ci.customData.clientId)\n      await EventTable.removeOldByTs(this.rc, this.db, Date.now() - 7 * 24 * 3600000 /* 7 days */)\n    }\n    return !!this.db\n  }\n\n  private async trySendingEvents(rc: RunContextBrowser) {\n\n    if (!this.ci.customData.networkType || this.lastEventTs) {\n      rc.isDebug() && rc.debug(rc.getName(this), 'Skipping sending event as not ready', {\n        networkType         : this.ci.customData.networkType,\n        lastEventTs         : this.lastEventTs\n      })\n      return\n    }\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'trySendingEvents', !!this.db)\n\n    const arEvent = await EventTable.getOldEvents(rc, this.db)\n    if (!arEvent.length) return\n\n    // We need to guard trigger from the timeout timer, while waiting to get data from event table, earlier trySendingEvents\n    // has succeeded\n    if (this.lastEventTs) return\n\n    for (let index = 0; index < arEvent.length; index++) {\n\n      if (!this.ci.provider) this.prepareConnection(rc)\n      \n      const eventTable = arEvent[index],\n            wireEvent  = new WireEvent(eventTable.name, JSON.parse(eventTable.data), eventTable.ts)\n\n      if (this.ci.provider.send(rc, [wireEvent])) break // failed to send\n      rc.isDebug() && rc.debug(rc.getName(this), 'sent event', wireEvent)\n      this.lastEventTs      = wireEvent.ts / 1000\n      this.lastEventSendTs  = Date.now()\n      this.timerEventTimeout.tickAfter(TIMEOUT_MS, true)\n      await Mubble.uPromise.delayedPromise(EVENT_SEND_DELAY)\n    }\n  }\n\n  async providerReady() {\n\n    this.cbTimerReqResend()\n\n    const customData = this.ci.customData\n    if (customData && customData.clientId) {\n      if (await this.initEvents()) this.trySendingEvents(this.rc) // not awaiting as it will introduce delay\n    }\n  }\n\n  providerFailed(errCode ?: string) {\n  \n    // finishRequest removed the item from ongoingRequests array\n    while (this.ongoingRequests.length) {\n      const wr = this.ongoingRequests[0]\n      this.finishRequest(this.rc, 0, errCode || XmnError.ConnectionFailed, null)\n    }\n    this.ongoingRequests  = []\n    this.lastEventTs      = 0\n    this.lastEventSendTs  = 0\n  }\n\n  async providerMessage(rc: RunContextBrowser, arData: WireObject[]) {\n\n    for (let index = 0; index < arData.length; index++) {\n\n      const wo = arData[index]\n      rc.isDebug() && rc.debug(rc.getName(this), `providerMessage@${index}`, wo)\n\n      switch (wo.type) {\n\n        case WIRE_TYPE.REQUEST:\n          this.rc.isError() && this.rc.error(this.rc.getName(this), 'Not implemented', wo)\n          break\n\n        case WIRE_TYPE.EPH_EVENT:\n          const handler = this.eventSubMap[wo.name]\n          if (handler) {\n            await handler(rc, wo.name, wo.data)\n          } else {\n            EventSystem.broadcast(rc, wo.name, wo.data)\n          }\n          break\n\n        case WIRE_TYPE.EVENT_RESP:\n          const eventResp = wo as WireEventResp\n          rc.isAssert() && rc.assert(rc.getName(this), eventResp.ts / 1000)\n\n          await EventTable.removeOldByTs(rc, this.db, eventResp.ts / 1000)\n          if (this.lastEventTs === eventResp.ts / 1000) {\n            this.lastEventTs      = 0\n            this.lastEventSendTs  = 0\n            this.timerEventTimeout.remove()\n            await this.trySendingEvents(rc)\n          }\n          break\n\n        case WIRE_TYPE.REQ_RESP:\n          const resp = wo as WireReqResp\n\n          const index = findIndex(this.ongoingRequests, {ts: resp.ts})\n          if (index === -1) {\n            this.rc.isStatus() && this.rc.status(this.rc.getName(this), \n              'Got response for request that is not in progress... timed-out?', \n              resp.name, 'sent at', new Date(resp.ts / 1000))\n            return\n          }\n\n          await this.finishRequest(this.rc, index, resp.errorCode, resp.errorMessage, resp.data)\n          break\n\n        case WIRE_TYPE.SYS_EVENT:\n          await this.processSysEvent(this.rc, wo)\n          break\n\n        default:\n          this.rc.isError() && this.rc.error(this.rc.getName(this), 'Unknown message', wo)\n      }\n    }\n  }\n\n  public requestClose() {\n    this.ci.provider.requestClose()\n  }\n\n  private async processSysEvent(rc: RunContextBrowser, se: WireSysEvent) {\n\n    if (se.name === SYS_EVENT.WS_PROVIDER_CONFIG) {\n      const newConfig = se.data as WssProviderConfig\n      await this.updateCustomData(rc, newConfig.custom)\n      this.prepareConnection(rc)\n    } \n\n    await this.ci.provider.processSysEvent(this.rc, se)\n  }\n\n  private cbTimerReqResend(): number {\n\n    const wr = this.ongoingRequests.find(wr => !wr._isSent)\n    if (!wr || !this.ci.provider) return 0\n\n    if (!this.ci.provider.send(this.rc, wr)) {\n\n      wr._isSent = true\n      this.timerReqTimeout.tickAfter(TIMEOUT_MS)\n\n    } else if ((Date.now() - wr.ts / 1000) > SEND_TIMEOUT) {\n\n      this.finishRequest(this.rc, this.ongoingRequests.indexOf(wr), XmnError.SendTimedOut, null)\n\n    } else {\n      return SEND_RETRY_MS\n    }\n\n    // We need to see if there are still messages left to be sent\n    return this.ongoingRequests.find(wr => !wr._isSent) ? SEND_RETRY_MS : 0\n  }\n\n  private cbTimerReqTimeout(): number {\n\n    const now = Date.now()\n    let nextTimeout = Number.MAX_SAFE_INTEGER\n\n    for (let index = 0; index < this.ongoingRequests.length; index++) {\n\n      const wr        = this.ongoingRequests[index],\n            timeoutAt = wr.ts / 1000 + TIMEOUT_MS\n\n      if (wr._isSent) {\n        if (now >= timeoutAt) {\n          this.finishRequest(this.rc, index--, XmnError.RequestTimedOut, null)\n        } else {\n          if (nextTimeout > timeoutAt) nextTimeout = timeoutAt\n        }\n      }\n    }\n    return nextTimeout === Number.MAX_SAFE_INTEGER ? 0 : nextTimeout - now\n  }\n\n  private cbTimerEventTimeout(): number {\n\n    if (!this.lastEventSendTs) return 0\n\n    const diff = this.lastEventSendTs + TIMEOUT_MS - Date.now()\n    if (diff > 0) return diff\n\n    this.lastEventTs      = 0\n    this.lastEventSendTs  = 0\n\n    this.trySendingEvents(this.rc)\n    return TIMEOUT_MS\n  }\n\n  private finishRequest(rc: RunContextBrowser, index: number, errorCode: string | null, \n                        errorMessage: string | null, data ?: object) {\n\n    const wr  = this.ongoingRequests[index],\n          now = Date.now()\n\n    this.ongoingRequests.splice(index, 1)\n    \n    if (!wr.resolve) {\n\n      rc.isStatus() && rc.status(rc.getName(this), 'Trying to finish already finished request', errorCode,\n        wr.name, 'created at', new Date(wr.ts/1000), 'timeTaken', now - wr.ts/1000, 'ms')\n\n      return  \n    }\n\n    if (errorCode) {\n\n      rc.isStatus() && rc.status(rc.getName(this), 'Request failed with code', errorCode,\n        wr.name, 'created at', new Date(wr.ts/1000), 'timeTaken', now - wr.ts/1000, 'ms')\n      \n      wr.reject(new Mubble.uError(errorCode, errorMessage || ''))\n\n    } else {\n\n      rc.isStatus() && rc.status(rc.getName(this), 'Request succeeded', \n        wr.name, 'created at', new Date(wr.ts/1000), 'timeTaken', now - wr.ts/1000, 'ms')\n\n      wr.resolve(data)  \n    }\n\n    wr.reject  = null\n    wr.resolve = null\n  }\n\n} // end of class\n\nclass EventTable {\n\n  ts    : number\n  name  : string\n  data  : string\n\n  constructor(event ?: WireEvent) {\n    if (!event) return\n    this.ts = event.ts/1000\n    this.name = event.name\n    this.data = JSON.stringify(event.data)\n  }\n\n  async save(db: XmnDb) {\n    await db.transaction('rw', db.events, async() => {\n      await db.events.put(this)\n    })\n  }\n\n  /**\n   * Static functions for io\n   */\n  static async getOldEvents(rc: RunContextBrowser, db: XmnDb): Promise<EventTable[]> {\n    const ar = await db.events.orderBy('ts').limit(MAX_EVENTS_TO_SEND).toArray(),\n          arEt = ar.map(item => {\n            const et = new EventTable()\n            et.ts   = item.ts\n            et.name = item.name\n            et.data = item.data\n            return et\n          })\n    rc.isDebug() && rc.debug(rc.getName(this), 'Retrieved events from db, count:', arEt.length)\n    return arEt      \n  }\n\n  static async removeOldByTs(rc: RunContextBrowser, db: XmnDb, ts: number) {\n    \n    await db.transaction('rw', db.events, async() => {\n      await db.events.where('ts').belowOrEqual(ts).delete()\n    })\n    rc.isDebug() && rc.debug(rc.getName(this), 'Deleted events from db with ts belowOrEqual:', ts)\n  }\n}\n// http://dexie.org/docs/Typescript.html\nclass XmnDb extends Dexie {\n\n  events: Dexie.Table<EventTable, number> // number: type of primary key\n  constructor (clientId: number) {\n    super('xmn-' + clientId)\n    this.version(1).stores({\n      events: 'ts'\n    })\n    this.events.mapToClass(EventTable)\n  }\n}\n\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Sun Jun 25 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { RunContextBrowser }  from '../rc-browser'\nimport { StorageProvider }    from './storage-provider'\nimport { Mubble }             from '@mubble/core'\n\nconst LAST_USER     = 'lastUser'\nexport const USERS  = 'users'\n\nexport abstract class UserKeyValue {\n\n  private _clientId               : number\n  private _obopayId               : string\n  private _sessionId              : string\n  private _deviceId               : string\n  private _userLinkId             : string\n  private _webProfilePicBase64    : string\n  \n  userName                        : string\n  mobileNo                        : string\n  screenVisitedStates             : { [compName: string] : boolean }\n\n  private users         : {[key: string]: object} = {}\n  private lastClientId  : number\n\n  constructor(protected rc: RunContextBrowser, private storage: StorageProvider) {\n  }\n\n  async init() {\n\n    const users = await this.storage.getUserKeyValue(this.rc, USERS)\n    if (!users) return\n\n    this.users = JSON.parse(users)\n    const cid  = await this.storage.getUserKeyValue(this.rc, LAST_USER)\n    this.lastClientId = Number(cid)\n\n    if (!this.lastClientId) return\n    this.deserialize(this.users[this.lastClientId])\n\n    return this\n  }\n\n  async registerNewUser(clientId: number, userLinkId: string, userName: string) {\n\n    const obj = { clientId, userLinkId, userName }\n    this.users[clientId] = obj\n    await this.storage.setUserKeyValue(this.rc, USERS, JSON.stringify(this.users))\n\n    if (this.lastClientId !== clientId) {\n      this.lastClientId = clientId\n      await this.storage.setUserKeyValue(this.rc, LAST_USER, String(this.lastClientId))\n    }\n\n    this.deserialize(obj)\n  }\n\n\n  setScreenVisited(routeName: string) {\n\n    if (!this.screenVisitedStates) this.screenVisitedStates = {}\n    if (this.screenVisitedStates[routeName]) return\n    this.screenVisitedStates[routeName] = true\n    this.rc.isStatus() && this.rc.status(this.rc.getName(this), 'visited screen', routeName)\n    this.save(this.rc)\n  }\n\n\n  setWebProfilePicBase64(rc: RunContextBrowser, base64: string) {\n    this._webProfilePicBase64 = base64\n    this.save(rc)\n  }\n\n  async logOutCurrentUser() {\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n      this._sessionId || this._userLinkId, \n      'Trying to logout a user who is not registered')\n\n    delete this.users[this._clientId]\n    await this.storage.setUserKeyValue(this.rc, USERS, JSON.stringify(this.users))\n    \n    if (Object.keys(this.users).length > 0) {\n      const lastClientId = Number(Object.keys(this.users)[0])\n      await this.switchUserOnCurrRun(lastClientId)\n    } else {\n      await this.storage.setUserKeyValue(this.rc, LAST_USER, null)\n    }\n  }\n\n  async switchUserOnCurrRun(clientId: number) {\n    this.lastClientId = clientId\n    await this.storage.setUserKeyValue(this.rc, LAST_USER, String(this.lastClientId))\n    this.deserialize(this.users[this.lastClientId])\n  }\n\n  getAllUserLinkIds(): string[] {   \n    const ids = []\n    for (const i of Object.keys(this.users)) {\n      ids.push(this.users[i]['userLinkId'])\n    }\n    return ids\n  }\n    \n  getClientIdForUserLink(reqUserLinkId: string): number {\n    for (let clientId in this.users) {\n      const userLinkId: string = this.users[clientId]['userLinkId']\n      if (userLinkId === reqUserLinkId) return Number(clientId)\n    }\n    return 0\n  }\n\n  async save(rc: RunContextBrowser) {\n\n    rc.isAssert() && rc.assert(rc.getName(this), this._clientId, \n      'Came to save userKeyVal before clientId')\n\n    if (!this._sessionId && !this._userLinkId) {\n      rc.isStatus() && rc.status(rc.getName(this), \n        `not saving rc, as user session / userLinkId not present \n        ${JSON.stringify({sessionId : this._sessionId,\n                          userLinkId : this._userLinkId })}`)\n      return\n    }\n    \n    rc.isDebug() && rc.debug(rc.getName(this), `saving rc obj ${rc}`)\n\n    this.users[this._clientId] = this.serialize()\n    await this.storage.setUserKeyValue(this.rc, USERS, JSON.stringify(this.users))\n\n    if (this.lastClientId !== this._clientId) {\n      this.lastClientId = this._clientId\n      await this.storage.setUserKeyValue(this.rc, LAST_USER, String(this.lastClientId))\n    }\n  }\n\n  getWebProfilePicBase64(clientId: number): string {\n    return this.users[clientId]['webProfilePicBase64']\n  }\n\n  getAllClientIds(): number[] { return Object.keys(this.users).map(Number) }\n\n  getUserInfo(clientId: number): object { return this.users[clientId] }\n\n  // Client Id\n  get clientId() {return this._clientId}\n  set clientId(clientId : number) {\n    if (clientId === this._clientId) return\n    if (this._clientId && (this._sessionId || this._userLinkId)) {\n      throw new Mubble.uError('INVALID_CLIENT_ID', 'Cannot change clientId once sessionId/userLinkId is set: ' + \n        JSON.stringify({new:clientId, existing:this._clientId, \n                        sessionId: this._sessionId, userLinkId: this._userLinkId}))\n    }\n    this._clientId = clientId\n  }\n\n  get deviceId() { return this._deviceId }\n  set deviceId(deviceId: string) {\n    if (deviceId === this._deviceId) return\n    this._deviceId = deviceId\n  }\n\n  get sessionId() { return this._sessionId }\n  set sessionId(sessionId: string) {\n    if (sessionId === this._sessionId) return\n    this._sessionId = sessionId\n  }\n\n  get obopayId() { return this._obopayId }\n  set obopayId(obopayId: string) {\n    if (obopayId === this._obopayId) return\n    if (this._obopayId && !obopayId === null) throw new Mubble.uError('INVALID_OBOPAY_ID', \n      'Cannot set obopayId when it is already set: ' + JSON.stringify({obopayId, existing:this._obopayId }))\n    this._obopayId = obopayId\n  }\n\n  get userLinkId()  {return this._userLinkId}\n  set userLinkId(userLinkId : string) {\n    if (userLinkId === this._userLinkId) return\n    if (this._userLinkId && !userLinkId === null) throw new Mubble.uError('INVALID_USER_LINK_ID', \n      'Cannot set userLinkId when it is already set: ' + JSON.stringify({userLinkId, existing:this._userLinkId}))\n    this._userLinkId = userLinkId\n  }\n\n  serialize(): object {\n    return {\n      clientId            : this._clientId,\n      userLinkId          : this._userLinkId,\n      sessionId           : this._sessionId,\n      obopayId            : this._obopayId,\n      deviceId            : this._deviceId,\n\n      userName            : this.userName,\n      webProfilePicBase64 : this._webProfilePicBase64,\n      screenVisitedStates : this.screenVisitedStates\n    }\n  }\n\n  deserialize(obj: {[key: string]: any}) {\n\n    this._clientId              = obj.clientId\n    this._userLinkId            = obj.userLinkId\n    this._deviceId              = obj.deviceId\n    this._sessionId              = obj.sessionId\n    this._obopayId               = obj.obopayId\n\n    this.userName               = obj.userName\n    this._webProfilePicBase64   = obj.webProfilePicBase64\n    this.screenVisitedStates    = obj.screenVisitedStates\n  }\n\n  $dump() {\n    const keys = Object.getOwnPropertyNames(this)\n\n    for (const key of keys) {\n      console.info(`${key}=${JSON.stringify(this[key])}`)\n    }\n  }\n  \n}","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Sun Jun 25 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n\n------------------------------------------------------------------------------\n\n- GlobalKeyValue is an automatic persistent storage system that persists the \nkey, values in localStorage with keys like 'global.version'.\n- A field must be annotated with @GlobalKeyValue.autoStore() for making it eligible\n  for automatic storage. \n\n  - string default to ''\n  - number defaults to 0\n  - boolean defaults to false\n  - object defaults to null\n\n- A field can be given a different default value while declaring. Fields with default \n  value, are not stored in localStorage till they are changed. Once stored they\n  are never deleted\n\n- To save changes to an object, when its internal property has changed, you will\n  need to CALL detectSaveChanges(), as internal changes to object are not detected\n  automatically\n\nDesign\n------\n- autoStore.set is called before constructor for default value initialization\n  \n- Last persisted value of autoStore field is kept in _fieldName. The stringified \n  last persisted value is kept in _#fieldName. There is no data kept at the actual field\n\n- ???? TODO: Write a housekeep function that will delete the unused keys\n\n------------------------------------------------------------------------------*/\nimport 'reflect-metadata'\nimport { RunContextBrowser }  from '../rc-browser'\nimport { StorageProvider }    from './storage-provider'\nimport { EnvConfig }          from '../framework'\n\nconst META_KEY    = 'autoStore',\n      VALID_TYPES = [String, Number, Boolean, Object]\n\ntype fieldMapType = { [key: string]:  {\n    type      : object, \n    strValue ?: string /* initial value from localStore or default */ \n  }\n}\n\nexport abstract class GlobalKeyValue {\n\n  @GlobalKeyValue.autoStore() syncSegments  : object\n  @GlobalKeyValue.autoStore() jsVersion     : string\n  @GlobalKeyValue.autoStore() logLevel      : number\n  @GlobalKeyValue.autoStore() deviceId      : string\n  @GlobalKeyValue.autoStore() envConfig     : EnvConfig\n\n  \n  public static autoStore(): any {\n\n    let functionResult = function(target: any, propertyKey: string) {\n\n      Reflect.defineMetadata(META_KEY, true, target, propertyKey)\n\n      return {\n\n        get: function() {\n          const value = this['_' + propertyKey],\n                rc    = this.rc\n\n          rc.isAssert() && rc.assert(rc.getName(this), value !== undefined, \n            `You are trying to fetch ${propertyKey}=${value} before init`)\n          return value\n        },\n\n        set: function(value: any) {\n\n          const fieldType = Reflect.getMetadata('design:type', target, propertyKey),\n                rc        = this['rc']\n\n          rc.isDebug() && rc.debug(rc.getName(this), \n            `autoStore.set: propertyKey: ${propertyKey}, value: ${value}, fieldType: ${fieldType}`)\n\n          rc.isAssert() && rc.assert(rc.getName(this), value !== undefined)\n          rc.isAssert() && rc.assert(rc.getName(this), VALID_TYPES.indexOf(fieldType) !== -1, \n            `Not a valid propertyKey: ${propertyKey}, fieldType: ${fieldType}`)\n\n          rc.isAssert() && rc.assert(rc.getName(this), \n            value === null ? fieldType === Object : value.constructor === fieldType,\n            `You are trying to set ${propertyKey}=${value} with invalid type ${typeof(value)}`)\n\n          let strValue = fieldType === Object ? JSON.stringify(value) : String(value)\n\n          const oldValue    = this['_' + propertyKey]\n\n          // undefined indicates that GlobalKeyValue has not been initialized\n          if (oldValue === undefined) {\n            rc.isDebug() && rc.debug(rc.getName(this), \n              `Remembering default ${propertyKey}=${value}`)\n            GlobalKeyValue.fieldMap[propertyKey] = {type: fieldType, strValue}\n            return\n          }\n\n          const strOldValue = this['_$' + propertyKey],\n                key         = propertyKey\n\n          if (strOldValue === strValue) return\n          \n          this['_' + propertyKey]  = value\n          this['_$' + propertyKey] = strValue\n          this.storage.setGlobalKeyValue(rc, key, strValue)\n\n          if (rc && rc.isDebug) {\n            rc.isDebug() && rc.debug('GlobalKeyValue', `Saved key ${key}=${strValue}`)\n          }\n        }\n      }\n    }\n\n    return functionResult\n  }\n  \n  private static fieldMap: fieldMapType = {}\n\n  constructor(private rc: RunContextBrowser, private storage: StorageProvider) {\n  }\n\n  async init() {\n\n    const rc = this.rc\n\n    this.extractFields(this, GlobalKeyValue.fieldMap)\n\n    for (const name of Object.keys(GlobalKeyValue.fieldMap)) {\n\n      const field           = GlobalKeyValue.fieldMap[name],\n            strSavedValue   = await this.storage.getGlobalKeyValue(rc, name),\n            strDefaultValue = field.strValue,\n            strValue        = strSavedValue || strDefaultValue\n\n      let value\n\n      switch (field.type) {\n        case String:\n          value = strValue ? strValue : ''\n          break\n\n        case Number:\n          value = strValue ? Number(strValue) : 0\n          break\n\n        case Boolean:\n          value = strValue ? strValue === String(true) : false\n          break\n\n        case Object:\n          value = strValue ? JSON.parse(strValue) : null\n          break\n      }\n\n      this['_' + name]  = value\n      this['_$' + name] = field.type === Object ? JSON.stringify(value) : String(value)\n    }\n    return this\n  }\n\n  // Need to be called only for fields of type object, when some internal property\n  // has been changed\n  public detectSaveChanges() {\n    for (const name of Object.keys(GlobalKeyValue.fieldMap)) {\n\n      const field   = GlobalKeyValue.fieldMap[name],\n            type    = (field.type as any).name\n\n      if (field.type !== Object) continue\n      this[name] = this[name] // forces the set function to get called\n    }\n  }\n\n  private extractFields(proto: any, fieldz: fieldMapType): void {\n\n    if (proto === null) return\n\n    const keys = Object.getOwnPropertyNames(proto)\n    for (const key of keys) {\n      if (fieldz[key]) continue\n      try {\n        if (Reflect.getMetadata(META_KEY, proto, key)) {\n          // console.log('GlobalKeyValue:extractFields()', key)\n          fieldz[key] = {type: Reflect.getMetadata('design:type', proto, key)}\n        }\n      } catch(err) {\n        console.info('GlobalKeyValue:extractFields()', 'failed for', key)\n      }\n    }\n    return this.extractFields(Object.getPrototypeOf(proto), fieldz)\n  }\n\n  async $dump() {\n\n    for (const name of Object.keys(GlobalKeyValue.fieldMap)) {\n\n      const field   = GlobalKeyValue.fieldMap[name],\n            type    = (field.type as any).name,\n            memory  = this[name],\n            store   = await this.storage.getGlobalKeyValue(this.rc, name)\n\n      console.info({name, type, memory, store})\n    }\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Jul 19 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport Dexie                  from 'dexie'\n\nimport {  RunContextBrowser } from '../rc-browser'\nimport {  EventSystem       } from '../util'\n\n\nimport {  SyncHashModel, \n          SyncHashModels,\n          SyncModelResponse, \n          SyncRequest, \n          SyncResponse,\n          Segments,\n          MASTER_UPDATE_EVENT,\n          Mubble\n       }                      from '@mubble/core'\n\nexport const Segment = {\n  version: 'version'\n}\n\nconst SYNC_HASH = 'syncHashTable'\n\nclass ModelField {\n  constructor(public name: string,\n              public type: 'string' | 'number' | 'boolean' | 'array' | 'object',\n              public optional: boolean) {}\n  \n  toString() {\n    return `${this.name}(${this.type})${this.optional ? ': optional' : ''}`\n  }            \n}\n\nexport type VersionSchema = {\n  version      : number,\n  tableSchema  : Mubble.uObject<string>\n  upgrade     ?: () => void\n}\n\n(Dexie as any).debug = true \n\n// @dynamic\nexport abstract class MasterDb extends Dexie {\n\n  static schemaKey    : Mubble.uObject<Mubble.uObject<ModelField>> = {}\n  static schemaField  : Mubble.uObject<Mubble.uObject<ModelField>> = {}\n  static classMap     : Map<Function, string>                      = new Map()\n\n  syncHashModels: SyncHashModels = {}\n\n  static registerModelClass(modelName: string, classFn: Function) {\n    this.classMap.set(classFn, modelName)\n  }\n\n  static getModelName(classFn: Function) {\n    return this.classMap.get(classFn)\n  }\n\n  static registerSchema(modelName     : string,\n                        fieldName     : string,\n                        isPrimaryKey  : boolean,\n                        fieldType     : 'string' | 'number' | 'boolean' | 'array' | 'object',\n                        optional      : boolean) {\n\n    const field      = new ModelField(fieldName, fieldType, optional),\n          collection = isPrimaryKey ? this.schemaKey : this.schemaField\n\n    let   fields     = collection[modelName]\n\n    if (!fields) fields = collection[modelName] = {}\n    fields[field.name] = field\n    // console.log(`${modelName}: added ${isPrimaryKey ? 'key' : 'field'} + ${field}`)\n  }\n\n  constructor (rc: RunContextBrowser, version: string, versionSchema : VersionSchema[]) {\n\n    super('MasterDb')\n\n    const modelsWithKeys   = Object.keys(MasterDb.schemaKey).length,\n          modelsWithFields = Object.keys(MasterDb.schemaField).length\n\n    rc.isAssert() && rc.assert(rc.getName(this), modelsWithKeys && modelsWithFields \n      && modelsWithKeys >= modelsWithFields, {modelsWithKeys, modelsWithFields})\n\n    rc.isAssert() && rc.assert(rc.getName(this), versionSchema[0].version === 1)\n    /*\n      TODO ???? validate accumulated versionSchema with this.buildSchema(schema)\n    */\n    versionSchema[0].tableSchema[SYNC_HASH] = 'model'\n    this.verifySegmentVersion(rc, version)\n  }\n\n  public async init(rc: RunContextBrowser) {\n\n    const ar        = await this[SYNC_HASH].toArray(),\n          modelMap  = MasterDb.schemaKey,\n          models    = Object.keys(modelMap)\n\n    for (const modelName of models) {\n      const st = ar.find(item => item.model === modelName)\n      this.syncHashModels[modelName] = st ? st.hash : {ts: 0}\n    }\n    rc.isDebug() && rc.debug(rc.getName(this), 'restored syncHashModels', this.syncHashModels)\n  }\n\n  public onRouterAvailable(rc: RunContextBrowser) {\n    const rcb: any = rc\n    rcb.router.subscribeEvent(MASTER_UPDATE_EVENT, this.onMasterUpdate.bind(this))\n  }\n\n  public getSyncRequest(rc: RunContextBrowser): SyncRequest {\n\n    rc.isAssert() && rc.assert(rc.getName(this), Object.keys(this.syncHashModels).length)\n    return {hash: this.syncHashModels, segments: (rc.globalKeyVal.syncSegments as Segments)}\n  }\n\n  abstract async afterMasterUpdate(rc: RunContextBrowser): Promise<void>\n\n  getTableForClass(rc: RunContextBrowser, classFn: Function) {\n\n    const modelName = MasterDb.getModelName(classFn)\n    rc.isAssert() && rc.assert(rc.getName(this), modelName, 'unknown class object', classFn)\n    return this.getTable(rc, modelName)\n  }\n\n  private verifySegmentVersion(rc: RunContextBrowser, version: string) {\n\n    let segments = rc.globalKeyVal.syncSegments as Segments\n    if (!segments) segments = {}\n    if (!segments[Segment.version]) segments[Segment.version] = [['']]\n\n    const [[oldVersion]] = segments[Segment.version]\n    if (oldVersion !== version) {\n      rc.isDebug() && rc.debug(rc.getName(this), 'version changed', {last: oldVersion, current: version})\n      segments[Segment.version] = [[version]]\n      rc.globalKeyVal.syncSegments = segments\n    } else {\n      rc.isDebug() && rc.debug(rc.getName(this), 'Versions are same', {last: oldVersion, current: version})\n    }\n  }\n\n  private buildSchema(schema) {\n\n    const modelMap = MasterDb.schemaKey\n    \n    for (const modelName of Object.keys(modelMap)) {\n\n      const ar     = Object.keys(modelMap[modelName]),\n            keyStr = ar.length === 1 ? ar[0] : `[${ar.join('+')}]`\n      schema[modelName + 'Table'] = keyStr\n    }\n  }\n\n  async onMasterUpdate(rc:RunContextBrowser, eventName: string, data: any) {\n\n    try {\n      const syncResponse:SyncResponse = data\n\n      rc.isDebug() && rc.debug(rc.getName(this), 'onMasterUpdate', JSON.stringify(syncResponse))\n      let updated = false\n\n      for (const modelName of Object.keys(syncResponse)) {\n\n        if (!(syncResponse as object).hasOwnProperty(modelName)) continue\n        const modelData: SyncModelResponse = syncResponse[modelName]\n\n        if (await this.applyMasterData(rc, modelName, modelData)) updated = true\n      }\n\n      if (updated) await this.afterMasterUpdate(rc)\n\n    } catch(e) {\n      const data = {errorMsg: e.message}\n      EventSystem.broadcast(rc, \"client-error\", data)\n      throw new Error(e)\n    }\n\n  }\n\n  private async applyMasterData(rc: RunContextBrowser, modelName: string, modelData: SyncModelResponse): Promise<boolean> {\n\n    if (modelData.purge) {\n      await this.clear(rc, modelName)\n      rc.isDebug() && rc.debug(rc.getName(this), modelName, 'purged')\n    } else if (modelData.del && modelData.del.length) {\n      rc.isDebug() && rc.debug(rc.getName(this), modelName, 'going to delete', modelData.del.length)\n      await this.bulkDelete(rc, modelName, modelData.del)\n    }\n\n    if (modelData.mod && modelData.mod.length) {\n      rc.isDebug() && rc.debug(rc.getName(this), modelName, 'going to upsert', modelData.mod.length)\n      await this.bulkPut(rc, modelName, modelData.mod)\n    }\n\n    this.syncHashModels[modelName] = modelData.hash\n    const syncHashTable = this[SYNC_HASH]\n\n    await this.transaction('rw', syncHashTable, async() => {\n      rc.isDebug() && rc.debug(rc.getName(this), modelName, 'going to save hash', modelData.hash)\n      await syncHashTable.put({model: modelName, hash: modelData.hash})\n    })\n\n    return true\n  }\n  \n  private async clear(rc: RunContextBrowser, modelName: string) {\n\n    const modelTable = this.getTable(rc, modelName)\n\n    await this.transaction('rw', modelTable, async() => {\n      await modelTable.clear()\n    })\n\n  }\n\n//   private async bulkPut(rc: RunContextBrowser, modelName: string, arMod: object[]) {\n\n//     const modelTable = this.getTable(rc, modelName)\n\n//     try {\n//       await this.transaction('rw', modelTable, async() => {\n//       for (const modelRec of arMod) {\n//         const rec = this.buildFullRec(rc, modelName, modelRec)\n//         rc.isDebug() && rc.debug(rc.getName(this), 'going to put', rec)\n//           await modelTable.put(rec)\n//       }\n//     })\n//   } catch (err) {\n//     const x = JSON.stringify(arMod)\n//     console.log('bombed while writing', x.length, 'bytes')\n//     console.log(x)\n//     console.log('Dexie error stack', err.stack)\n//     throw(err)\n//   }\n\n//   console.log('wrote', JSON.stringify(arMod).length, 'bytes successfully')\n// }\n\n  private async bulkPut(rc: RunContextBrowser, modelName: string, arMod: object[]) {\n\n    const modelTable = this.getTable(rc, modelName)\n\n    for (const modelRec of arMod) {\n      const rec = this.buildFullRec(rc, modelName, modelRec)\n      rc.isDebug() && rc.debug(rc.getName(this), 'going to put with debug ', rec)\n      try {\n        await modelTable.put(rec)\n      } catch (err) {\n        const x = JSON.stringify(arMod)\n        console.log('bombed while writing', x.length, 'bytes')\n        console.log(x)\n        console.log('Dexie error stack', err.stack)\n        throw(err)\n      }\n    }\n    console.log('wrote', JSON.stringify(arMod).length, 'bytes successfully')\n  }\n\n\n\n  private buildKeyRec(rc: RunContextBrowser, modelName: string, rec: Object) {\n\n    const keyMap    = MasterDb.schemaKey[modelName],\n          outRec    = {}\n\n    for (const keyName in keyMap) {\n      const key = keyMap[keyName]\n      rc.isAssert() && rc.assert(rc.getName(this), rec[keyName] !== undefined, 'Rec missing PK', keyName, rec)\n      outRec[keyName] = rec[keyName]\n    }\n    \n    return outRec\n  }\n\n  private buildFullRec(rc: RunContextBrowser, modelName: string, rec: Object) {\n\n    const fieldMap  = MasterDb.schemaField[modelName],\n          outRec    = this.buildKeyRec(rc, modelName, rec)\n\n    for (const fieldName in fieldMap) {\n      const field = fieldMap[fieldName],\n            value = rec[fieldName]\n      rc.isAssert() && rc.assert(rc.getName(this), field.optional && value === undefined || \n        this.validateType(field.type, value), 'Invalid value for field', fieldName, rec)\n      outRec[fieldName] = rec[fieldName]\n    }\n\n    return outRec\n  }\n\n  private validateType(type: string, value: any): boolean {\n\n    switch(type) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        return typeof(value) === type\n      case 'array':\n        return Array.isArray(value)\n      case 'object':\n        return value && typeof(value) === type\n      default:\n        return false  \n    }\n  }\n\n  private async bulkDelete(rc: RunContextBrowser, modelName: string, arDel: object[]) {\n\n    const modelTable = this.getTable(rc, modelName)\n\n    await this.transaction('rw', modelTable, async() => {\n      for (const modelRec of arDel) {\n        const keyObj = this.buildKeyRec(rc, modelName, modelRec)\n        rc.isDebug() && rc.debug(rc.getName(this), 'bulkDelete', modelName, keyObj)\n        await modelTable.delete(Object.keys(keyObj).map(key => keyObj[key]))\n      }\n    })\n  }\n\n  private getTable(rc: RunContextBrowser, modelName: string) {\n\n    const modelTable = this[modelName + 'Table']\n    rc.isAssert() && rc.assert(rc.getName(this), modelTable, 'unknown model', modelName)\n    return modelTable\n\n  }  \n\n  // debug functions\n  private async $all(rc: RunContextBrowser, modelName: string) {\n\n    const modelTable = this.getTable(rc, modelName)\n    const ar = await modelTable.toArray()\n    console.info(ar)\n  }\n}\n\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Jul 19 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { MasterDb } from './master-db'\n\nexport class Master {\n\n  public static field(optional ?: boolean) {\n\n    let functionResult = function(target: any, propertyKey: string) {\n\n      const type = Reflect.getMetadata('design:type', target, propertyKey),\n            name = MasterDb.getModelName(target.constructor)\n\n      MasterDb.registerSchema(name, \n                              propertyKey, \n                              false, \n                              Master.getType(type), \n                              !!optional)\n    }\n    return functionResult\n  }\n\n  public static key(modelName ?: string) {\n    \n    let functionResult = function(target: any, propertyKey: string) {\n\n      if (modelName) MasterDb.registerModelClass(modelName, target.constructor)\n\n      const type = Reflect.getMetadata('design:type', target, propertyKey),\n            name = MasterDb.getModelName(target.constructor)\n\n      MasterDb.registerSchema(name, \n                              propertyKey, \n                              true, \n                              Master.getType(type), \n                              false)\n    }\n    return functionResult\n  }\n\n  private static getType(fieldType) {\n    switch (fieldType) {\n\n      case String   : return 'string'\n      case Number   : return 'number'\n      case Boolean  : return 'boolean'\n      case Array    : return 'array'\n      case Object   : return 'object'\n\n      default:\n        const msg = 'getType: unknown field type - ' + fieldType\n        // console.log(msg)\n        throw(new Error(msg))\n    }\n    \n  }\n\n}","import { RunContextBrowser }  from \"../rc-browser\"\nimport { Mubble }             from \"@mubble/core\"\n\nconst GLOBAL_PREFIX = 'global',\n      CONFIG_PREFIX = 'config'\n\nexport class StorageProvider {\n\n  setGlobalKeyValue(rc: RunContextBrowser, key: string, value: string) {\n    const storageKey = GLOBAL_PREFIX + '.' + key\n    localStorage.setItem(storageKey, value)\n  }\n\n  async getGlobalKeyValue(rc: RunContextBrowser, key: string): Promise<string> {\n    const storageKey = GLOBAL_PREFIX + '.' + key\n    return localStorage.getItem(storageKey)\n  }\n\n  setUserKeyValue(rc: RunContextBrowser, key: string, value: string) {\n    localStorage.setItem(key, value)\n  }\n\n  async getUserKeyValue(rc: RunContextBrowser, key: string): Promise<string> {\n    return localStorage.getItem(key)\n  }\n\n  setGcConfig(rc: RunContextBrowser, config: {category: string, key: string, value: Mubble.uObject<string>}[]) {\n\n    config.forEach((entry) => {\n      const storageKey = `${CONFIG_PREFIX}.${entry.category}|${entry.key}`\n      localStorage.setItem(storageKey, JSON.stringify(entry.value))\n\n      // if (rc && rc.isDebug) {\n      //   rc.isDebug() && rc.debug('GcConfigKeyValue', \n      //     `Saved key ${storageKey}=${JSON.stringify(entry.value)}`)\n      // }\n    })\n  }\n\n  async getGcConfig(rc: RunContextBrowser, category: string, key: string): Promise<string> {\n\n    const storageKey = `${CONFIG_PREFIX}.${category}|${key}`\n    return localStorage.getItem(storageKey)\n  }\n\n}","import { RunContextBrowser }  from '../rc-browser'\nimport { StorageProvider }    from './storage-provider'\nimport { Mubble }             from '@mubble/core'\n\nexport class ConfigKeyVal {\n\n  constructor(private rc: RunContextBrowser, private storage: StorageProvider) {}\n\n  async setConfig(config: {category: string, key: string, value: Mubble.uObject<string>}[]) {\n    await this.storage.setGcConfig(this.rc, config)\n  }\n\n  async getConfig(category: string, key: string): Promise<Mubble.uObject<string>> {\n\n    const value = await this.storage.getGcConfig(this.rc, category, key)\n    if (!value) {\n      this.rc.isWarn() && this.rc.warn(this.rc.getName(this), \n        `No config found for category ${category}, key ${key}`)\n      return null\n    }\n    return JSON.parse(value)\n  }\n\n}","import { RouteReuseStrategy, ActivatedRouteSnapshot, DetachedRouteHandle } from '@angular/router'\n\nexport class RoutingStrategy implements RouteReuseStrategy {\n\n  private preserveComponents = []\n  private myStore = {}\n  private logging = false\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    if (this.logging) console.info('RoutingStrategy:shouldDetach', this.logSnapshot(route), route)\n    return this.isRemembered(route)\n  }\n\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n\n    if (this.logging) console.info('RoutingStrategy:store', this.logSnapshot(route), route)\n\n    const name = this.getName(route)\n    if (!name) return\n\n    this.myStore[name] = handle\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    if (this.logging) console.info('RoutingStrategy:shouldAttach', this.logSnapshot(route), route)\n    // return this.isRemembered(route)\n\n    const name = this.getName(route)\n    return name ? !!this.myStore[name] : false\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    if (this.logging) console.info('RoutingStrategy:retrieve', this.logSnapshot(route), route)\n\n    const name = this.getName(route)\n    if (!name) return null\n\n    return this.myStore[name]\n  }\n\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    if (this.logging) console.info('RoutingStrategy:shouldReuseRoute', future, this.logSnapshot(future), \n                curr, this.logSnapshot(curr))\n    return future.routeConfig === curr.routeConfig;\n  }\n\n  private logSnapshot(route: ActivatedRouteSnapshot) {\n    const name = this.getName(route)\n    return (name || 'null') + ':' + \n           (route.url && route.url.length ? route.url[0] : 'none')\n  }\n\n  private isRemembered(route: ActivatedRouteSnapshot): boolean {\n    const name = this.getName(route)\n    return name ? this.preserveComponents.indexOf(name) !== -1 : false\n  }\n\n  private getName(route: ActivatedRouteSnapshot): string {\n    if (!route.component) return ''\n    return (route.component as any).name\n  }\n}","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Jul 12 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { LocationChangeListener, PlatformLocation } from '@angular/common'\nimport { Inject, Injectable }                       from '@angular/core'\n\nimport { RunContextBrowser, LOG_LEVEL }             from '../../rc-browser'\n\n@Injectable()\nexport class NcPlatformLocation extends PlatformLocation {\n\n  constructor(@Inject('RunContext') private rc: RunContextBrowser) {\n    super()\n    rc.setupLogger(this, 'NcPlatformLocation')\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'constructor()')\n  }\n\n  get location(): Location {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'get location()')\n    return location\n  }\n\n\n  getState() {\n\n  }\n\n  getBaseHrefFromDOM(): string {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'getBaseHrefFromDOM()')\n    return '.'\n  }\n\n  onPopState(fn: LocationChangeListener): void {\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onPopState() ignored')\n    // window.addEventListener('popstate', fn, false);\n  }\n\n  onHashChange(fn: LocationChangeListener): void {\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'onHashChange() ignored')\n    // window.addEventListener('hashchange', fn, false);\n  }\n\n\n  get hostname() {\n    return  location.hostname\n  }\n\n  get port() {\n    return  location.port\n  }\n\n  get href() {\n    return  location.href\n  }\n\n  get protocol() {\n    return  location.protocol\n  }\n\n\n  get pathname(): string { \n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'get pathname()')\n    return location.pathname \n  }\n\n  get search(): string { \n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'get search()')\n    return location.search\n  }\n\n  get hash(): string { \n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'get hash()')\n    return location.hash \n  }\n\n  set pathname(newPath: string) { \n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'set pathname()')\n    // location.pathname = newPath \n  }\n\n  pushState(state: any, title: string, url: string): void {\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), false, \n      'pushState', 'First navigation was not done in root ngInit()')\n  }\n\n  replaceState(state: any, title: string, url: string): void {\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), false, 'replaceState', \n      'First navigation was not done in root ngInit()')\n  }\n\n  forward(): void { \n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'forward()')\n    // history.forward()\n  }\n\n  back(): void { \n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'back()')\n    // history.back()\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : Any component which can be directly routed to must extent to \n                this class. This kind of component is a screen. All actions \n                performed on sub components / HTML elements in this kind of \n                component will be logged under the trackable screen name.\n\n   Created on : Sat Nov 03 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { TrackableScreen }    from './trackable-screen'\nimport { RunContextBrowser }  from '../../rc-browser'\nimport { Mubble }             from '@mubble/core'\n\nexport abstract class RoutableScreen extends TrackableScreen {\n\n  abstract onRouterInit(queryParams: Mubble.uObject<any>, firstInvocation: boolean): void\n  \n  constructor(protected rc: RunContextBrowser) {\n    super(rc)\n  }\n} ","/*------------------------------------------------------------------------------\n   About      : As we have implemented our own history wrapper, this class\n                prevents angular from  mainpulating history \n   \n   Created on : Sun Mar 17 2019\n   Author     : Aditya Baddur\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\n\nimport { Injectable, \n         Inject\n       }                        from '@angular/core'\nimport { LocationStrategy,\n         LocationChangeListener\n       }                        from '@angular/common'\nimport { RunContextBrowser }    from '../../rc-browser'\n\n@Injectable()\nexport class AppLocationStrategy extends LocationStrategy {\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser) {\n    super()\n  }\n\n  getBaseHref() {\n    return '.'\n  }\n\n  path() {\n    return location.pathname\n  }\n\n  prepareExternalUrl() {\n    return ''\n  }\n\n  onPopState(fn: LocationChangeListener) {\n    \n  }\n\n  pushState(state: any, title: string, path: string, queryParams: string) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `ignoring push state \n      ${state} , ${title}, ${path}, ${queryParams}`)\n  }\n\n  replaceState(state: any, title: string, path: string, queryParams: string) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `ignoring replace state\n      ${state} , ${title}, ${path}, ${queryParams}`)\n  }\n\n  forward() {\n\n  }\n\n  back() {\n\n  }\n\n}","import { RunContextBrowser }                                from \"../../../rc-browser\"\nimport { TranslateService }                                 from \"../translate/translate.service\"\n\nexport enum API_STATE {\n  PROGRESS = 1,\n  ERROR,\n  SUCCESS\n}\n\nexport class ApiState {\n\n  currentState    : API_STATE\n  loadingText     : string\n  emptyDataText   : string\n  errorText       : string\n\n  retryButtonText : string\n  retryOnFailure  : boolean = false\n  errorCode       : string\n\n  constructor(private rc        : RunContextBrowser, \n              private translate : TranslateService) {\n\n    this.loadingText      = translate.instant('cmn_loading')\n    this.errorText        = translate.instant('cmn_toast_err_unknown')\n    this.retryButtonText  = translate.instant('cmn_btn_retry')\n  }\n}\n\nexport class ApiStateBuilder {\n\n  private instance: ApiState\n\n  constructor(private rc        : RunContextBrowser, \n              private translate : TranslateService) {\n\n    this.instance = new ApiState(rc, translate)\n  }\n\n  setCurrentState(state: API_STATE): ApiStateBuilder {\n    this.instance.currentState = state\n    return this\n  }\n\n  setLoadingText(text: string): ApiStateBuilder {\n    this.instance.loadingText = text\n    return this\n  }\n  setEmptyDataText(text: string): ApiStateBuilder {\n    this.instance.emptyDataText = text\n    return this\n  }\n  setErrorText(text: string): ApiStateBuilder {\n    this.instance.errorText = text\n    return this\n  }\n\n  setRetryButtonText(text: string): ApiStateBuilder {\n    this.instance.retryButtonText = text\n    return this\n  }\n\n  retryOnFailure() {\n    this.instance.retryOnFailure = true\n    return this\n  }\n\n  setErrorCode(code: string): ApiStateBuilder {\n    this.instance.errorCode = code\n    return this\n  }\n\n  build(): ApiState {\n    return this.instance\n  }\n\n}","import { DISPLAY_TYPE } from '@mubble/core'\n\nexport interface OutputParams {\n  id          : string\n  value       : any\n  displayType : DISPLAY_TYPE\n}\n\nexport interface FormOutputValue {\n  value       : any\n  displayType : DISPLAY_TYPE\n}\n\nexport interface MuFormOutputParams {\n  [key : string] : FormOutputValue\n}","import { trigger, state, \n         animate, style, \n         group, query,\n         transition }                     from '@angular/animations'\n\nexport namespace NavTransition {\n\n  export const ANIM_DURATION            = 400,\n               PAGE_TRANSITION_DURATION = ANIM_DURATION + 'ms',\n               IDLE                     = 'idle',\n               FORWARD                  = 'forward',\n               BACKWARD                 = 'backward',\n               ANIMATION_STYLE          = 'ease-out'\n\n  export const pageTransition = trigger('pageTransition', [\n    transition(`${IDLE} => ${FORWARD}`, [\n      \n      query(':enter, :leave',\n        style({ position: 'fixed', width:'100%' }),\n        { optional: true }),\n      \n      group([\n      \n        query(':leave', [\n          style({ transform: 'translate3d(0, 0, 0)', zIndex: 0})\n        ], { optional: true }),\n\n        query(':enter', [\n          style({ transform: 'translate3d(100%, 0, 0)', zIndex: 100}),\n          animate(`${PAGE_TRANSITION_DURATION} ${ANIMATION_STYLE}`, \n            style({ \n              transform: 'translate3d(0, 0, 0)',\n              zIndex: 100\n            }))\n        ], { optional: true })\n\n      ])\n    ]),\n    transition(`${IDLE} => ${BACKWARD}`, [\n      \n      query(':enter, :leave', style({ position: 'fixed', width:'100%' }),\n        { optional: true }),\n      \n      group([\n        \n        query(':leave', [\n          style({ transform: 'translate3d(0, 0, 0)', zIndex: 100}),\n          animate(`${PAGE_TRANSITION_DURATION} ${ANIMATION_STYLE}`,\n            style({ \n              transform: 'translate3d(100%, 0, 0)', \n              zIndex: 100\n            }))\n        ], { optional: true }),\n\n        query(':enter', [\n          style({ transform: 'translate3d(0, 0, 0)', zIndex: 0})\n        ], { optional: true })\n      ])\n    ])\n  ])\n\n}","import { trigger, animate, \n         style, query,\n         stagger, transition \n       }                                    from '@angular/animations'\n\nexport namespace BottomFlyIn {\n\n  export const ANIM_DURATION    = '.4s',\n               STAGGER_DURATION = 50,\n               ANIMATION_STYLE  = 'ease-out',\n               FLY_STATE        = 'fly',\n               DONT_FLY_STATE   = 'dontFly'\n\n  export const bottomFlyIn = trigger('bottomFlyIn', [\n    transition(`* => ${FLY_STATE}`, [\n      query('.flex-box-child', [\n        style({\n          transform: 'translate3d(0, 200%, 0)',\n          opacity : 0}),\n        stagger(STAGGER_DURATION, [\n          animate(`${ANIM_DURATION} ${ANIMATION_STYLE}`, style({\n            transform: 'translate3d(0, 0, 0)',\n            opacity: 1\n          }))\n        ])\n      ], {optional: true})\n    ])\n  ])\n\n}","import { RunContextBrowser }  from '../rc-browser'\nimport { WireObject }         from '@mubble/core'\n\nexport interface XmnRouterBase {\n\n  getPubKey() : Uint8Array\n  getEncIV() : Uint8Array\n  getMaxOpenSecs() : number\n  canStrtLastReqTimer(rc: RunContextBrowser) : boolean\n  providerReady()\n  providerMessage(rc: RunContextBrowser, arData: WireObject[])\n  providerFailed(errCode ?: string)\n  getSessionTimeOutSecs(rc: RunContextBrowser)\n  sessionTimedOut(rc: RunContextBrowser)\n  runAlwaysAsSecure(rc: RunContextBrowser) : boolean  \n}","\nexport const TIME = {\n  MILL_IN_SEC    : 1000,\n  MILL_IN_MINUTE : 60 * 1000,\n  MILL_IN_HOUR   : 60 * 60 * 1000,\n  MILL_IN_DAY    : 24 * 60 * 60 * 1000\n}\n\nexport const TYPEOF = {\n  STRING : 'string',\n  NUMBER : 'number'\n}\n\nexport interface VerificationSettings  {\n  startTs : number,\n  numbers : {[key: string] : VerificationNumber }\n}\n\nexport interface VerificationNumber {\n  clTrId    : string,\n  attempts  : number\n}\n\nexport const VerificationSettingsExp = {\n  TIME_DEBUG : 5 * 60 * 1000,\n  TIME_PROD  : 60 * 60 * 1000\n}\n\nexport const VerificationError = {\n\n  ERR_INTERNET       : 'ERR_INTERNET',\n  ERR_INVALID_NUM    : 'ERR_INVALID_NUM',\n  ERR_NUM_LIMIT      : 'ERR_NUM_LIMIT',\n  ERR_ATTEMPTS_LIMIT : 'ERR_ATTEMPTS_LIMIT',\n  ERR_TIMEOUT        : 'ERR_TIMEOUT',\n  ERR_NONE           : 'ERR_NONE',\n  ERR_MSISDN_FAIL    : 'ERR_MSISDN_FAIL'\n}\n\nexport const GcCategory = {\n  Notification      : 'NOTIFICATION',\n  FeedbackEmail     : 'FEEDBACK_EMAIL',\n  SmsVerification   : 'SMS_VERIFICATION',\n  Help              : 'HELP',\n  Session           : 'SESSION'\n}\n\nexport const FcCategory = {\n  Help    : 'HELP',\n  Session : 'SESSION'\n}\n\nexport const GcKey = {\n  GeneralConfig       : 'GENERAL_CONFIG',\n  FeedbackEmail       : 'FEEDBACK_EMAIL'\n}\n\nexport const FcKey  = {\n  GeneralConfig : 'GENERAL_CONFIG',\n  UiConfig      : 'UI_CONFIG'\n}\n\nexport const GcValue = {\n\n  FeedbackEmail : {\n\n    email   : 'email', \n    topics  : 'topics',\n\n    topicsValue : {\n      privacy       : 'privacy',\n      default       : 'default',\n      notification  : 'notification',\n      settings      : 'settings',\n      createStance  : 'createStance'\n    }\n  },\n\n  Help : {\n\n    customerCareNo : 'custCareNo'\n  }\n}\n\nexport interface SessionGC {\n  bgTimeoutSec    : number\n  fgTimeoutSec    : number\n}\n\n\nexport interface UiFlavourConfig {\n  w2bActive       : boolean\n  isVeri5Enabled  : boolean\n}\n\nexport interface HelpFlavourConfig {\n  custCareEmail   : string\n  custCareNo      : string\n}\n\n\nexport const HashidParams = {\n  LogLevel        : '__logLevel',\n  DisableCaptcha  : '__disableCaptcha'\n}\n\nexport interface Color {\n  name          : string\n  hex           : string\n  darkContrast  : boolean\n}\n\n\nexport type EnvConfig = {\n  staticUrlPrefix : string\n}","/*------------------------------------------------------------------------------\n   About      : Constants with native platform\n   \n   Created on : Fri Nov 02 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nexport const TOAST_DURATION       = 5000\nexport const TOAST_DURATION_DEBUG = 10000\n\nexport const LAUNCH_CONTEXT = {\n  TYPE : 'type',\n  MODE : 'mode',\n  DATA : 'data'\n}\n\nexport const LaunchContextMode = {\n  BUSINESS : 'business'\n}\n\nexport const ANDROID_PERM = {\n  STORAGE   : 'android.permission.WRITE_EXTERNAL_STORAGE',\n  CAMERA    : 'android.permission.CAMERA',\n  LOCATION  : 'android.permission.ACCESS_FINE_LOCATION',\n  CONTACTS  : 'android.permission.READ_CONTACTS',\n  SMS       : 'android.permission.READ_SMS',\n  GALLERY   : 'android.permission.WRITE_EXTERNAL_STORAGE',\n}\n\nexport const IOS_PERM = {\n  STORAGE   : 'STORAGE',\n  CAMERA    : 'CAMERA',\n  LOCATION  : 'LOCATION',\n  CONTACTS  : 'CONTACTS',\n  SMS       : 'SMS',\n  GALLERY   : 'PHOTOS'\n}\n\nexport const BROWSER_PERM = {\n  STORAGE   : 'STORAGE',\n  CAMERA    : 'CAMERA',\n  LOCATION  : 'LOCATION',\n  CONTACTS  : 'CONTACTS',\n  SMS       : 'SMS',\n  GALLERY   : 'STORAGE'\n}\n\nexport enum Permission {\n  STORAGE   = 'STORAGE',\n  CAMERA    = 'CAMERA',\n  LOCATION  = 'LOCATION',\n  CONTACTS  = 'CONTACTS',\n  SMS       = 'SMS',\n  GALLERY   = 'GALLERY'\n}\n\nexport namespace MobileSdkResponse {\n\n  export namespace CollectRequest {\n\n    export enum Response {\n      ACKNOWLEDGED = 'ACKNOWLEDGED',\n      COMPLETED    = 'COMPLETED',\n      DECLINED     = 'DECLINED'\n    }\n  }\n}\n\nexport interface NativeRouterResponse {\n  errorCode     : string\n  errorMessage  : string\n  data          : object\n  events        : Array<JSON>\n}","import { Permission, \n         BROWSER_PERM \n       }                          from './native-constants'\nimport { RunContextBrowser }      from '../../rc-browser'\nimport { LOG_LEVEL }              from '@mubble/core'\n\nexport class MuWebApi {\n\n\n  constructor(protected rc : RunContextBrowser) {}\n\n  async hasPermission(permission : Permission) : Promise<boolean> {\n    return await this.checkPermission(permission)\n  }\n\n  async checkPermission(permission : Permission) {\n\n    switch (permission) {\n\n      case BROWSER_PERM.CAMERA: \n\n        const permissionStatus = await (navigator as any).permissions.query({ name: 'camera' })\n        return (permissionStatus.state === 'granted')\n\n      case BROWSER_PERM.GALLERY:\n        return true\n\n      default:\n        if (this.rc.getGlobalLogLevel() !== LOG_LEVEL.NONE)\n        this.rc.uiRouter.showToast(`${permission} permission to be implemented`)\n        return true\n    }\n  }\n\n  async getPermission(permission : Permission) : Promise<boolean> {\n    switch (permission) {\n      case BROWSER_PERM.CAMERA: \n        try {\n          await navigator.mediaDevices.getUserMedia({ video: true, audio: false })\n          return true\n        } catch(err) {\n          return false\n        }\n\n      case BROWSER_PERM.GALLERY:\n        return true\n    }\n  }\n\n  async getPictureFromCamera() {\n\n    // return await this.rc.uiRouter.getRoot().captureWebCamera()\n    return {} as unknown\n\n  }\n\n}\n","import { RunContextBrowser }    from '../../rc-browser'\nimport { MuWebApi }             from './web-api'\nimport { Permission }           from './native-constants'\n\nexport class MuWebBridge {\n\n  webApi : MuWebApi\n\n  constructor(protected rc : RunContextBrowser) {\n    this.webApi = new MuWebApi(rc)\n  }\n\n  async handleRequest(requestId: number, apiName: string, ...params: any[]) {\n    if (!this[apiName]) {\n      throw new Error(`Missing API ${apiName} implementation in Web bridge.`)\n    }\n    const obj = await this[apiName](params[0])\n    this.rc.bridge.asyncResponseFromNative(requestId, obj)\n  }\n\n/*==============================================================================\n                          FIREBASE \n==============================================================================*/\n\n  setUserId(userId: number) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `Setting userId ${userId}`)\n  }\n\n  logEvent(eventName: string, eventDataStr: string) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `Logging event: ${eventName} Data: ${eventDataStr}`)\n  }\n\n  setUserProperty(propName: string, value: string) {\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `Setting userProperty: ${propName} Value: ${value}`)  \n  }\n\n  protected fingerprintScan() {\n    // this.rc.uiRouter.showToast('fingerprintScan Feature not supported for Browser')\n    return\n  }\n\n  protected scanBarcode() {\n    // this.rc.uiRouter.showToast('scanBarcode Feature not supported for Browser')\n    return null\n  }\n\n  protected payViaQr() {\n    this.rc.uiRouter.showToast('payViaQr Feature not supported for Browser')\n    return null\n  }\n\n  protected openInMobileBrowser(url : string) {\n    window.open(url)\n  }\n\n  protected getNativeMigrationInfo() {\n    // this.rc.uiRouter.showToast('get native migration info not supported for Browser')\n    return null\n  }\n\n  protected getCurrentLocation() {\n\n    if (navigator.geolocation) {\n      // check if geolocation is supported/enabled on current browser\n      navigator.geolocation.getCurrentPosition(\n\n        function success(position) {\n          // for when getting location is a success\n          return {\n            lat : position.coords.latitude,\n            lng : position.coords.longitude\n          }\n        },\n\n        function error(error_message) {}\n      );\n    }\n\n    return null\n  }\n\n  protected closeMobileBrowser() {\n    \n  }\n\n  protected getPhoneContacts() {\n    return {contacts : []}\n  }\n\n  protected async hasPermission(params : any[]) {\n    // this.rc.uiRouter.showToast(`${permission} feature not supported for browser`)\n    const permission    : Permission  = params[0] \n    return { 'hasPerm' : await this.webApi.hasPermission(permission) }\n  }\n\n  protected requestMobNumHint() {\n    this.rc.uiRouter.showToast('requestMobNumHint Feature not supported for Browser')\n    return null\n  }\n\n  protected async takePictureFromCamera() {\n    this.rc.uiRouter.showToast('takePictureFromCamera Feature not supported for Browser')\n    const resp = await this.webApi.getPictureFromCamera()\n    return resp\n  }\n\n  protected selectDocumentFile() {\n    this.rc.uiRouter.showToast('selectDocumentFile Feature not supported for Browser')\n    return {'success': false} \n  }\n\n  protected selectPictureFromGallery() {\n    this.rc.uiRouter.showToast('selectPictureFromGallery Feature not supported for Browser')\n    return {'success': false}\n  }\n\n  protected async getPermission(params : any[]) {\n    const permission    : Permission  = params[0] \n    const showRationale : boolean     = params[1] || true\n    return { permissionGiven: await this.webApi.getPermission(permission), dialogShown: true}\n  }\n\n  protected writeExternalStyles(base64Data: string) {\n    this.rc.uiRouter.showToast('writeExternalStyles Feature not supported for Browser')\n    return true\n  }\n\n  protected saveBinaryFile(filePath: string /* embeds ncInstanceId */, fileName: string, \n                         base64Data: string) {\n    this.rc.uiRouter.showToast('saveBinaryFile Feature not supported for Browser')\n    return true\n  }\n\n  protected setNotificationConfig(config: string) {\n  }\n\n  protected closeApp() {\n    window.location.reload()\n  }\n\n  protected launchAppMarket(packageName ?: string) {\n    window.open(`https://play.google.com/store/apps/details?id=${packageName}`)\n  }\n\n  protected sendMail(email ?: string, subject ?: string, body ?: string) {\n    this.rc.uiRouter.showToast(`SendMail Feature not supported for Browser`)\n  }\n\n  protected placeCall(mobileNumber: string) {\n    this.rc.uiRouter.showToast(`PlaceCall Feature not supported for Browser`)\n  }\n\n  protected checkIfPkgInstalled(pkgName: string) {\n    this.rc.uiRouter.showToast(`checkIfPkgInstalled Feature not supported for Browser`)\n    return false\n  }\n\n  protected listenForSmsCode() {\n\n  }\n\n  protected setVerStringToken(clientTransactionId: string) {\n\n  }\n\n  protected copyToClipBoard(text: string) {\n    this.rc.uiRouter.showToast(`copyToClipBoard Feature not supported for Browser`)\n    return false\n  }\n\n  protected openSoftInputKeyboard() {\n\n  }\n\n  protected hideSoftInputKeyboard() {\n\n  }\n\n  protected canAuthWithFingerprint() {\n    return { canAuth : false }\n  }\n\n  protected logOutCurrentUser() {\n    window.location.reload()\n  }\n\n  protected resetApp() {\n\n    localStorage.clear()\n    window.location.reload()\n  }\n\n  protected getDeviceInfo() {\n    return '{}'\n  }\n\n  protected setDebuggable() {\n    \n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : Class to bridge with native platform\n   \n   Created on : Fri Nov 02 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Mubble, \n         NetworkType, \n         WireObject, \n         LOG_LEVEL,\n         CustomData\n       }                                            from '@mubble/core'\nimport * as NATIVE                                  from './native-constants'\nimport { RunContextBrowser }                        from '../../rc-browser'\nimport { MuWebBridge }                                from './web-bridge'\nimport { NgZone }                                   from '@angular/core'\n\nconst ANDROID = 'Android'\nconst IPAD    = 'iPad'\n\nexport interface ReferrerParams {\n  utm_source    : string\n  utm_medium    : string\n  utm_campaign  : string\n  utm_term      : string\n  utm_content   : string\n  gclid         : string\n  mode          : string\n}\n\n\nexport enum State {\n  LOADING,      // The js files are getting parsed and loaded in memory\n  INITIALIZED,  // Code initialized and the bridge is up\n  SHOWN         // UI being displayed, albeit busy in server requests\n}\n\nexport enum SDK_TYPE {\n  MOBILE  = 'MOBILE',    // mobile SDK with Obopay app installed\n  WEB     = 'WEB',       // web SDK\n  CORDOVA = 'CORDOVA'    // mobile SDK with Obopay app not installed; web invocation\n}\n\nexport enum UserAgent {\n  BROWSER = 'BROWSER',\n  ANDROID = 'ANDROID',\n  IOS     = 'IOS'\n}\n\nexport interface Location {\n  lat : number\n  lng : number\n}\n\nexport interface MobileSdkParams {\n  source    : string\n  requestId : number\n}\n\nclass InitConfig {\n\n  remoteUrl        : string\n  appVersion       : string                 = ''\n  localStoragePath : string                 = ''\n  appChannel       : string                 = 'WEB'\n\n  pseudoId         : string                 = ''\n  fcmId            : string                 = ''\n  adId             : string                 = ''\n  deviceId         : string                 = ''\n\n  appInstallTs     : number                 = Date.now()\n  migrationInfo    : Mubble.uObject<string>\n\n  constructor(remoteUrl : string) {\n    this.remoteUrl  = remoteUrl\n  }\n}\n\nclass LaunchContext {\n\n  directLink        : string\n  source            : string // mobile SDK package name \n  referrerParams    : ReferrerParams = {} as ReferrerParams\n  isUpgrade         : boolean = false\n}\n\nexport class MuBridge {\n\n  public  currKeyboardHt        : number\n  protected runningInBrowser    : boolean = false\n\n  private nextRequestId         : number = 1\n  private requestMap            : Mubble.uObject<NativeAsyncRequest> = {}\n\n  private location              : object\n  private netType               : string\n  private _state                : State\n  protected userAgent           : UserAgent\n  protected permObj             : object\n\n  private initConfig            : InitConfig \n  protected launchContext       : LaunchContext = new LaunchContext()\n\n  protected webBridge           : MuWebBridge\n  protected sdkType             : SDK_TYPE\n  protected mobileSdkParams     : MobileSdkParams = {} as MobileSdkParams\n\n\n\n  constructor(protected rc      : RunContextBrowser,\n              protected ngZone  : NgZone) {\n  }\n\n  // WARNING: rc is not initied at this stage. Do not use\n  preInit(remoteUrl : string) {\n\n    this.initConfig = new InitConfig(remoteUrl)\n\n    if (window['webkit'] && window['webkit'].messageHandlers.cordova) {\n\n      this.userAgent  = UserAgent.IOS\n      this.permObj    = NATIVE.IOS_PERM\n      \n    } else if (window['cordova']) {\n\n      this.userAgent  = UserAgent.ANDROID\n      this.permObj    = NATIVE.ANDROID_PERM\n      \n    } else {\n      this.userAgent  = UserAgent.BROWSER\n      this.webBridge  = new MuWebBridge(this.rc)\n      this.permObj    = NATIVE.BROWSER_PERM\n    }\n     \n    this.runningInBrowser = this.userAgent === UserAgent.BROWSER\n    this.state            = State.INITIALIZED\n  }\n\n  async init() {\n\n    if (this.userAgent === UserAgent.BROWSER) {\n      this.onConnectionAttr(navigator.onLine ? NetworkType.wifi : null, null)\n\n    } else {\n      const data          = await this.sendAsyncRequest('getInitData')\n      this.initConfig     = data['initConfig']\n      this.launchContext  = data['launchContext']\n      \n      const connAttr      = data['connAttr']\n      this.onConnectionAttr(connAttr['netType'], connAttr['location'])\n    }\n\n    if (this.launchContext.referrerParams && \n        this.launchContext.referrerParams.mode === NATIVE.LaunchContextMode.BUSINESS) {\n      this.sdkType = SDK_TYPE.MOBILE\n    }\n  }\n\n  isRunningInDev() {\n    return this.initConfig.remoteUrl == 'http://localhost'\n  }\n\n  isRunningInBrowser() {\n    return this.runningInBrowser\n  }\n\n  isRunningInMWeb() {\n    return window.navigator.userAgent.includes(ANDROID) && this.isRunningInBrowser()\n  }\n\n  isRunningInIPad() {\n    return window.navigator.userAgent.includes(IPAD)\n  }\n\n/*==============================================================================\n                                    STATE  \n==============================================================================*/\n\n  get state() {\n    return this._state\n  }\n\n  set state(newState: State) {\n    this._state = newState\n    if (this.userAgent !== UserAgent.BROWSER) {\n      this.sendAsyncRequest('setStateFromJs', State[this._state])\n    }\n  }\n\n  setStateShown() {\n    this.state = State.SHOWN\n  }\n\n/*==============================================================================\n                              LAUNCH CONTEXT \n==============================================================================*/\n\n  getDirectLink() {\n    return this.launchContext.directLink\n  }\n\n  setWebDirectLink(directLink: string) {\n    this.launchContext.directLink = directLink\n  }\n\n  resetDirectLink() {\n    this.launchContext.directLink = null\n  }\n\n  getReferrerParams(): ReferrerParams {\n    return this.launchContext.referrerParams\n  }\n\n  isUpgrade() {\n    return this.launchContext.isUpgrade\n  }\n\n/*==============================================================================\n                               INIT CONFIG \n==============================================================================*/\n\n  getUserAgent() {\n    return this.userAgent\n  }\n\n  getRemoteUrl() {\n    return this.initConfig.remoteUrl\n  }\n\n  getAppVersion() {\n    return this.initConfig.appVersion\n  }\n\n  getAppChannel() {\n    return this.initConfig.appChannel\n  }\n\n  getPseudoId() {\n    return this.initConfig.pseudoId\n  }\n\n  getFcmId() {\n    return this.initConfig.fcmId\n  }\n\n  getAdId() {\n    return this.initConfig.adId\n  }\n\n  getAppInstallTime(): number {\n    return this.initConfig.appInstallTs\n  }\n\n  getDeviceId() {\n    return ''\n  }\n\n  getLocation(): string {\n    return JSON.stringify(this.location)\n  }\n\n  getCordovaNetworkType() {\n    return this.netType\n  }\n\n  getLocalStoragePath() {\n    return this.initConfig.localStoragePath\n  }\n\n/*==============================================================================\n                          FIREBASE \n==============================================================================*/\n\n  async setUserId(userId: number) {\n    await this.sendAsyncRequest('setUserId', String(userId))\n  }\n\n  async logEvent(eventName: string, eventDataStr: string) {\n    await this.sendAsyncRequest('logEvent', eventName, eventDataStr)\n  }\n\n  async setUserProperty(propName: string, value: string) {\n    await this.sendAsyncRequest('setUserProperty', propName, value)\n  }\n\n/*==============================================================================\n                                 SDK \n==============================================================================*/\n\n  isWebSdkInvocation(): boolean {\n    return this.sdkType === SDK_TYPE.WEB || this.sdkType === SDK_TYPE.CORDOVA\n  }\n\n  isMobileSdkInvocation(): boolean {\n    return this.sdkType === SDK_TYPE.MOBILE\n  }\n\n  isSdkInvocation(): boolean {\n    return !!this.sdkType\n  }\n\n  getSdkType(): SDK_TYPE {\n    return this.sdkType\n  }\n\n  setMobileSdkParams(source: string, requestId: string) {\n    this.mobileSdkParams.source     = source\n    this.mobileSdkParams.requestId  = Number(requestId)\n  }\n\n  getMobileSdkSource() {\n    return this.mobileSdkParams.source\n  }\n\n  getMobileSdkRequestId() {\n    return this.mobileSdkParams.requestId\n  }\n\n  /**\n   * This will only get invoked for Sdk type Mobile since this is the main app and \n   * any SDK invocation would happen wrt a direct link and response via Intent broadcast\n   * in Android \n   */\n  async onSdkSuccessResponse(requestId: number, data: object = null, closeApp: boolean = true) {\n    \n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), requestId, \n      `RequestId is not defined`)\n\n    if (this.sdkType !== SDK_TYPE.MOBILE) {\n      this.rc.isWarn() && this.rc.warn(this.rc.getName(this), \n        `Came to Bridge SDK response for inv other than SDK Type Mobile, returning...`)\n      return\n    }\n\n    const resp = Object.assign({ code : 'SUCCESS' }, data) \n    await this.onMobileSdkResponse(requestId, resp, closeApp)\n  }\n\n  async onSdkFailureResponse(requestId: number, data: object, uiError: Object, closeApp: boolean = true) {\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), requestId, \n      `RequestId is not defined`)\n\n    if (this.sdkType !== SDK_TYPE.MOBILE) {\n      this.rc.isWarn() && this.rc.warn(this.rc.getName(this), \n        `Came to Bridge SDK response for inv other than SDK Type Mobile, returning...`)\n      return\n    }\n\n    let resp = Object.assign({ code : 'FAILURE' }, data)\n        resp = Object.assign(uiError, resp)\n    await this.onMobileSdkResponse(requestId, resp, closeApp)\n  }\n\n  protected async onMobileSdkResponse(requestId: number, data: object, closeApp: boolean = true) {\n    \n    const obj = Object.assign({ requestId, source : this.getMobileSdkSource()}, data)\n    await this.sendAsyncRequest('onMobileSdkResponse', JSON.stringify(obj), closeApp)\n  }\n\n/*==============================================================================\n                            STORAGE CORDOVA\n==============================================================================*/\n\n  async setGlobalKeyValue(key: string, value: string) {\n    await this.sendAsyncRequest('setGlobalKeyValue', key, value)\n  }\n\n  async getGlobalKeyValue(key: string): Promise<string> {\n    const object = await this.sendAsyncRequest('getGlobalKeyValue', key)\n    return object['value']\n  }\n\n  async setUserKeyValue(key: string, value: string) {\n    await this.sendAsyncRequest('setUserKeyValue' ,key, value)\n  }\n\n  async getUserKeyValue(key: string): Promise<string> {\n    const object = await this.sendAsyncRequest('getUserKeyValue', key)\n    return object['value']\n  }\n\n  async setGcConfig(config: string) {\n    await this.sendAsyncRequest('setGcConfig', config)\n  }\n\n  async getGcConfig(category: string, key: string): Promise<string> {\n    const object = await this.sendAsyncRequest('getGcConfig', category, key)\n    return object['value']\n  }\n\n/*==============================================================================\n                            CORDOVA ROUTER\n==============================================================================*/\n\n  async prepareConnection() {\n    await this.sendAsyncRequest('prepareConnection')\n  }\n\n  async sendRouterRequest(api: string, params: object): Promise<NATIVE.NativeRouterResponse> {\n\n    const obj = await this.sendAsyncRequest('sendRequest', api, JSON.stringify(params))\n    return obj as NATIVE.NativeRouterResponse\n  }\n\n  async sendRouterEvent(name: string, params: object, ephemeral: boolean) {\n    await this.sendAsyncRequest('sendEvent', name, JSON.stringify(params), ephemeral)\n  }\n\n/*==============================================================================\n                              BRIDGE UTILS\n==============================================================================*/\n\n  isAndroid(){\n    return (this.userAgent  === UserAgent.ANDROID)\n  }\n\n  isIos(){\n    return (this.userAgent  === UserAgent.IOS)\n  }\n\n  getUserProfilePicUrl(clientId: number, profilePicFileName?: string): string {\n\n    if (!this.rc.userKeyVal.getWebProfilePicBase64(clientId)) return null\n\n    if (this.runningInBrowser) {\n      return 'data:image/jpeg;base64,' + this.rc.userKeyVal.getWebProfilePicBase64(clientId)\n    }\n\n    // TODO - fix profile pic file name\n    // const profPicFileName = profilePicFileName || this.rc.userKeyVal.profilePicFileName\n    const profPicFileName = profilePicFileName \n\n    const url = this.getLocalStoragePath() + \"/\" + \n           `users/${String(clientId)}` + \"/\" + \n           profPicFileName + \n           '?random+\\=' + Math.random()\n    return ''\n  }\n\n\n/*==============================================================================\n                         ASYNC REQUESTS TO CORDOVA\n==============================================================================*/\n\n  async getDeviceInfo(): Promise<Object> {\n\n    const obj = await this.sendAsyncRequest('getDeviceInfo')\n    return obj\n  }\n\n  async getSessionInfo(): Promise<NATIVE.NativeRouterResponse> {\n\n    const obj = await this.sendAsyncRequest('getSessionInfo')\n    return obj as NATIVE.NativeRouterResponse\n  }\n\n  async recreateSession(): Promise<NATIVE.NativeRouterResponse> {\n\n    const obj = await this.sendAsyncRequest('recreateSession')\n    return obj as NATIVE.NativeRouterResponse\n  }\n\n  async getCurrentLocation(): Promise<Location> {\n\n    const json = await this.sendAsyncRequest('getCurrentLocation')\n    return {\n      lat : json['lat'],\n      lng : json['lng']\n    }\n  }\n\n  async requestMobNumHint() {\n\n    if (this.userAgent !== UserAgent.ANDROID) return null\n    const resp = await this.sendAsyncRequest('requestMobNumHint')\n    return resp ? resp['selectedId'] : null\n  }\n\n  async getPhoneContacts() {\n    const obj = await this.sendAsyncRequest('getPhoneContacts')\n    return obj['contacts']\n  }\n\n  // /**\n  //  * @returns { success: boolean, base64: string, mimeType: string, cropped: boolean, failureCode: string }\n  //  */\n  async takePictureFromCamera() {\n    const obj = await this.sendAsyncRequest('takePictureFromCamera') \n    return obj\n  }\n\n  // /**\n  //  * @returns { success: boolean, base64: string, mimeType: string, cropped: boolean, failureCode: string }\n  //  */\n  async selectPictureFromGallery() {\n    const obj = await this.sendAsyncRequest('selectPictureFromGallery') \n    return obj\n  }\n\n  // /**\n  //  * @returns { base64: string, checkSum: string, mimeType: string }\n  //  */\n  async selectDocumentFile(): Promise<object> {\n    const obj = await this.sendAsyncRequest('selectDocumentFile')\n    \n    return obj\n  }\n  \n  async getPermission(permission: NATIVE.Permission, showRationale: boolean = true): \n    Promise<{permGiven : boolean, dialogShown: boolean, webStream? : MediaStream}> {\n\n    const json = await this.sendAsyncRequest('getPermission', this.permObj[permission], showRationale)\n    return { permGiven: json['permissionGiven'], dialogShown: json['dialogShown']}\n  }\n\n  async writeExternalStyles(base64Data: string) {\n\n    const json = await this.sendAsyncRequest('writeExternalStyles', base64Data) \n    return json['success']\n  }\n\n  async saveBinaryFile(filePath: string /* embeds ncInstanceId */, fileName: string, \n    base64Data: string) {\n    const json = await this.sendAsyncRequest('saveBinaryFile', filePath, fileName, base64Data)\n    return json['success']\n  }\n\n  /**\n  //  * @returns { action: string, result: string }\n   * \n   * Eg. action : SAVED_PAYEES, DISMISS, SCAN\n   * result : Scanned result if action is SCAN\n   */\n  async payViaQr(invSource: string): Promise<object> {\n\n    const object = await this.sendAsyncRequest('payViaQr', invSource)\n    return object\n  }\n\n  async scanQrCode(invSource: string, title : String) : Promise<object> {\n\n    const object = await this.sendAsyncRequest('scanQrCode', invSource, title)\n    const scanResult  = {\n      result  : object['result'],\n      action  : object['action']\n    }\n    return scanResult\n  }\n\n  async scanBarcode(invSource: string): Promise<Object> {\n\n    if (!await this.hasPermission(NATIVE.Permission.CAMERA)) {\n      const resp = await this.getPermission(NATIVE.Permission.CAMERA)\n      if (!resp.permGiven) {\n        this.rc.uiRouter.showToast('Can\\'t scan Barcode without Camera permission')\n        return null\n      }\n    }\n\n    const obj = await this.sendAsyncRequest('scanBarcode', invSource)\n    return obj\n  }\n\n  // async fingerprintScan() {\n  //   await this.sendAsyncRequest('fingerprintScan')\n  // }\n\n  // async canAuthWithFingerprint(): Promise<boolean> {\n  //   const obj = await this.sendAsyncRequest('canAuthWithFingerprint')\n  //   return obj['canAuth']\n  // }\n\n  async openInMobileBrowser(url: string) {\n    await this.sendAsyncRequest('openInMobileBrowser', url)\n  }\n\n  async closeMobileBrowser() {\n    await this.sendAsyncRequest('closeMobileBrowser')\n  }\n\n  async enableDebug() {\n\n    this.rc.setGlobalLogLevel(LOG_LEVEL.DEBUG)\n    this.rc.globalKeyVal.logLevel = LOG_LEVEL.DEBUG\n    await this.sendAsyncRequest('setDebuggable')\n    this.rc.uiRouter.showToast('Log level changed to debug')\n  }\n\n  async updateGcConfig() {\n    if (this.userAgent !== UserAgent.BROWSER) await this.sendAsyncRequest('updateGcConfig')\n  }\n\n  async closeApp() {\n    await this.sendAsyncRequest('closeApp')\n  }\n\n  async logoutUser() {\n    await this.sendAsyncRequest('logoutUser')\n  }\n\n  async forgetUser() {\n    await this.sendAsyncRequest('forgetUser')\n  }\n\n  async launchAppMarket(packageName : string = '') {\n    await this.sendAsyncRequest('launchAppMarket', packageName)\n  }\n\n  async sendMail(email ?: string, subject ?: string, body ?: string) {\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), {email, subject})\n    return await this.sendAsyncRequest('sendMail', email || '', subject || '', body || '')\n  }\n\n  async placeCall(mobileNumber: string) {\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), `Placing call with number ${mobileNumber}`)\n    await this.sendAsyncRequest('placeCall', mobileNumber)\n  }\n\n  async checkIfPkgInstalled(pkgName: string): Promise<boolean> {\n    const obj = await this.sendAsyncRequest('checkIfPkgInstalled', pkgName)\n    return obj['installed']\n  }\n\n  async hasPermission(permission: NATIVE.Permission): Promise<boolean> {\n\n    const obj = await this.sendAsyncRequest('hasPermission', this.permObj[permission])\n    return obj['hasPerm']\n  }\n\n  async listenForSmsCode() {\n    await this.sendAsyncRequest('listenForSmsCode')\n  }\n\n  async setVerStringToken(clientTransactionId: string) {\n    await this.sendAsyncRequest('setVerStringToken', clientTransactionId)\n  }\n\n  async copyToClipBoard(text: string) {\n    return await this.sendAsyncRequest('copyToClipBoard', text)\n  }\n\n  async openSoftInputKeyboard() {\n    if (this.userAgent === UserAgent.ANDROID) await this.sendAsyncRequest('openSoftInputKeyboard')\n  }\n\n  async hideSoftInputKeyboard() {\n    if (this.userAgent === UserAgent.ANDROID) await this.sendAsyncRequest('hideSoftInputKeyboard')\n  }\n\n  async logOutCurrentUser() {\n    await this.rc.userKeyVal.logOutCurrentUser()\n    // const params: LogoutUser.params = {}\n\n    //await this.rc.router.sendRequest(this.rc, LogoutUser.name, params)\n    await this.sendAsyncRequest('logoutUser')\n  }\n\n  async resetApp() {\n    await this.sendAsyncRequest('resetApp')\n  }\n\n/*------------------------------------------------------------------------------\n  F R O M    N A T I V E\n------------------------------------------------------------------------------*/\n\n  async asyncRequestFromNative(fnName: string, requestTag: string, ...params: any[]) {\n\n    this.ngZone.run(() => {\n      this.asyncRequestFromNativeInternal(fnName, requestTag, params)\n    })\n  }\n\n  private async asyncRequestFromNativeInternal(fnName: string, requestTag: string, ...params: any[]) {\n\n    const fn = this[fnName]\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n      typeof fn === 'function', fnName)\n\n    const resp = await fn.apply(this, params)\n\n    this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n      resp && (typeof resp === 'object'), resp)\n\n    if (this.userAgent !== UserAgent.BROWSER) {\n      this.sendAsyncRequest('asyncRequestResponseFromJs', requestTag, JSON.stringify(resp))\n    }\n  }\n\n  eventFromNative(eventName: string, ...params: any[]) {\n\n    this.ngZone.run(() => {\n\n      const fnName  = `on${eventName}`,\n            fn      = this[fnName]\n\n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n        typeof fn === 'function', fnName)\n\n      fn.apply(this, params)\n\n    })\n  }\n\n/*------------------------------------------------------------------------------\n  E V E N T S   F R O M   N A T I V E\n------------------------------------------------------------------------------*/\n\n  private onUpdateCustomData(json: object) {\n    this.rc.router.updateCustomData(this.rc, json as CustomData)\n  }\n\n  private onEphEvent(wo: object) {\n    this.rc.router.providerMessage(this.rc, [wo as WireObject])\n  }\n\n  private onVerSmsCode(smsBody: string) {\n    // this.rc.uiRouter.getRoot().onVerificationSmsCode(smsBody)\n  }\n\n  private onVerSmsTimeout() {\n\n  }\n\n  private onMobileBrowserClosed() {\n    // EventSystem.broadcast(this.rc, APP_UI_EVENT.MOBILE_BROWSER_CLOSED)\n  }\n\n  private onAdjustPan(factorHeight: number) {\n    this.currKeyboardHt = factorHeight\n    // EventSystem.broadcast(this.rc, APP_UI_EVENT.ADJUST_PAN_FOR_SCREEN)\n  }\n\n  private onFingerprintScanResult(result: string) {\n    // EventSystem.broadcast(this.rc, APP_UI_EVENT.FINGERPRINT_SCAN_RESULT, JSON.parse(result))\n  }\n\n  private onConnectionAttr(netType: string, location: object) {\n\n    if (netType) this.netType = netType\n\n    if (!location) return\n\n    const lat: number = location['lat']\n    const lng: number = location['lng']\n\n    if (lat && lng) {\n      this.location = location\n\n      // if (this.rc.router && this.rc.userKeyVal.clientId) {\n      //   const locUpdReq: LocationUpdateEvent.params = { lat, lng }\n      //   this.rc.router.sendEvent(this.rc, LocationUpdateEvent.name, locUpdReq, \n      //     LocationUpdateEvent.ephemeral)\n      // }\n    }\n  }\n\n  private onScreenPause() {\n    // EventSystem.broadcast(this.rc, APP_UI_EVENT.CORDOVA_SCREEN_PAUSE)\n  }\n\n  private onScreenResume() {\n    // EventSystem.broadcast(this.rc, APP_UI_EVENT.CORDOVA_SCREEN_RESUME)\n  }\n\n  // onLaunch(directLink: string) {\n\n  //   if (!directLink) return\n  //   this.launchContext.directLink = directLink\n  //   this.rc.uiRouter.getRoot().showLanding(false, false)\n  // }\n\n  setDirectLink(directLink: string) {\n\n    if (!directLink) return\n    this.launchContext.directLink = directLink\n  }\n\n/*------------------------------------------------------------------------------\n  A P P  R E Q U E S T \n------------------------------------------------------------------------------*/\n\n  /**\n   * Request has a response to be given back to JS mapped with requestId\n   * @param messageId API to be called\n   * @param params arguments for the API\n   */\n  protected async sendAsyncRequest(apiName: string, ...params: any[]) {\n\n    const nar = new NativeAsyncRequest(this.nextRequestId++, apiName)\n    this.requestMap[nar.requestId] = nar\n\n    switch(this.userAgent) {\n\n      case UserAgent.ANDROID:\n        window['cordova'][apiName](nar.requestId, ...params)\n        break\n\n      case UserAgent.IOS:\n        window['webkit'].messageHandlers.cordova.postMessage({ requestId: nar.requestId, \n          method: apiName, args: params })\n        break\n\n      case UserAgent.BROWSER:\n        this.webBridge.handleRequest(nar.requestId,apiName, params)\n        break\n    }\n    \n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `Response received for sendAsyncRequest: requestid: ${nar.requestId}, \n      apiName: ${apiName}`)\n    return await nar.promise\n  }\n\n  // TODO: make private, web-bridge dependency\n  asyncResponseFromNative(requestId: number, json: object) {\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `asyncResponseFromNative requestId:${requestId} Response:${JSON.stringify(json)}`)\n    const nar: NativeAsyncRequest = this.requestMap[requestId]\n    if (!nar) {\n      this.rc.isError() && this.rc.error(this.rc.getName(this), 'Request id', \n          requestId, 'is missing in request map')\n      return\n    }\n    delete this.requestMap[requestId]\n    nar.resolve(json)\n  }\n}\n\nclass NativeAsyncRequest {\n      \n  promise         : Promise<object>\n  resolve         : (object) => void\n  reject          : () => void\n\n  constructor(public requestId : number, \n              public apiName: string) {\n\n    this.promise    = new Promise((resolve, reject) => {\n      this.resolve  = resolve\n      this.reject   = reject\n    })\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Wed Sep 18 2019\n   Author     : Siddharth Garg\n   \n   Copyright (c) 2019 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { MuBridge, \n         UserAgent, \n         State, \n         SDK_TYPE\n       }                              from './mu-bridge'\nimport { MuWebBridge }                from './web-bridge'\nimport * as NATIVE                    from './native-constants'\nimport { Mubble }                     from '@mubble/core'\nimport { NgZone }                     from '@angular/core'\nimport { RunContextBrowser }          from '../../rc-browser'\n\nexport interface WebSessionInitData {\n  version              : string\n  mobileNo             : string\n  authKey              : string\n  businessLogoUrl      : string\n  businessName         : string\n  businessRegId       ?: string\n  businessId          ?: string\n  businessColorHex    ?: string\n  isRunningInCordova  ?: boolean\n}\n\nenum RequestMessageId {\n  REQUEST_SESSION = 'REQUEST_SESSION',\n  DIRECT_LINK     = 'DIRECT_LINK',      // SDK to App \n  API_REQUEST     = 'API_REQUEST',      // SDK to App\n}\n\ninterface WindowMessage {\n  requestId   : number\n  messageId   : string\n  data       ?: Mubble.uObject<any>\n}\n\nexport class MuSdkBridge extends MuBridge {\n\n  initData          : WebSessionInitData\n  private reqMap    : Mubble.uObject<CordovaAsyncRequest> = {}\n\n  constructor(rc      : RunContextBrowser,\n              ngZone  : NgZone) {\n    super(rc, ngZone)\n  }\n\n  preInit() {\n\n    if (window['webkit'] && window['webkit'].messageHandlers.sdkCordova) {\n      this.userAgent  = UserAgent.IOS\n      this.permObj    = NATIVE.IOS_PERM\n      \n    } else if (window['sdkCordova']) {\n      this.userAgent  = UserAgent.ANDROID\n      this.permObj    = NATIVE.ANDROID_PERM\n      \n    } else {\n      this.userAgent  = UserAgent.BROWSER\n      this.webBridge  = new MuWebBridge(this.rc)\n      this.permObj    = NATIVE.BROWSER_PERM\n    }\n    \n    this.runningInBrowser = this.userAgent === UserAgent.BROWSER\n    this.state            = State.INITIALIZED\n  }\n\n  async init() {\n\n    await super.init()\n    this.initSdkType()\n\n    window.onmessage  = this.onIframeMessage.bind(this)\n  }\n\n  private initSdkType() {\n\n    this.sdkType = this.userAgent === UserAgent.BROWSER ? SDK_TYPE.WEB : SDK_TYPE.CORDOVA\n  }\n\n/*==============================================================================\n                            MESSAGING \n==============================================================================*/\n\n  async onIframeMessage(event : MessageEvent) {\n    \n    // const message = event.data as WindowMessage\n\n    // const requestId = message.requestId,\n    //       messageId = message.messageId,\n    //       data      = message.data\n\n    // this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n    //   `Came to process message ${requestId} ${messageId} ${data?JSON.stringify(data):''}`)\n\n    // const rootComp = this.rc.uiRouter.getRoot()\n\n    // switch (messageId) {\n\n    //   case RequestMessageId.REQUEST_SESSION : \n    //     this.initData = <WebSessionInitData>data \n    //     await rootComp.initWebSession(requestId, this.initData)\n    //     break\n\n    //   case RequestMessageId.DIRECT_LINK :\n    //     const directLink = data.directLink,\n    //           dlParams   = data.dlParams\n    //     await rootComp.handleDirectLink(requestId, directLink, dlParams)  \n    //     break\n\n    //   case RequestMessageId.API_REQUEST:\n    //     const apiName   = data.apiName,\n    //           apiParams = data.apiParams\n    //     this.rc.isAssert() && this.rc.assert(this.rc.getName(this), apiName, 'Invalid API args')\n    //     await rootComp.handleApiRequest(requestId, apiName, apiParams)\n    //     break\n  \n    //   default:\n    //     this.rc.isAssert() && this.rc.assert(this.rc.getName(this), `Invalid messageId: ${messageId}`)    \n    // }\n  }\n\n  postMessage(requestId: number, messageId: string,\n              code: string, data ?: Mubble.uObject<any>) {\n\n    if (this.sdkType === SDK_TYPE.CORDOVA) {\n      this.postMessageToCordova(requestId, messageId, code, data)\n      return\n    }\n\n    if (window === parent) return  \n\n    const response = { code, data },\n          message  = { requestId, messageId, response}\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `postMessage from App ${JSON.stringify(message)}`)\n    window.parent.postMessage(message, '*')\n  }\n\n  async onCordovaMessage(requestId: number, data ?: Mubble.uObject<any>) {\n\n    // const rootComp = this.rc.uiRouter.getRoot()\n\n    // this.initData = data.initData\n    // rootComp.initCordovaSession(requestId, this.initData)\n    \n    // const invData     = data.invData,\n    //       directLink  = invData.directLink,\n    //       dlParams    = invData.dlParams\n\n    // rootComp.handleDirectLink(requestId, directLink, dlParams)\n\n    // const nar = new CordovaAsyncRequest(requestId)\n    // this.reqMap[nar.requestId] = nar\n\n    // await nar.promise\n  }\n\n  async postMessageToCordova(requestId: number, messageId: string,\n                             code: string, data ?: Mubble.uObject<any>) {\n\n    // const nar = this.reqMap[requestId]\n    // if (!nar) {\n    //   this.rc.isError() && this.rc.error(this.rc.getName(this), \n    //     'Request id', requestId, 'is missing in request map')\n    //   return\n    // }\n\n    // delete this.reqMap[requestId]\n    \n    // const obj = { requestId, messageId, code, data }\n    // nar.resolve(obj)\n  }\n\n  async onSdkSuccessResponse(requestId: number, data: object = null, \n                             closeApp: boolean = true) {\n    \n    // if (this.sdkType === SDK_TYPE.WEB || this.sdkType === SDK_TYPE.CORDOVA) {\n    //   const obj : ActCompInterface = {\n    //     code : ActCompInterfaceCode.SUCCESS,\n    //     data : data\n    //   }\n\n    //   const rootComp = this.rc.uiRouter.getRoot()\n    //   rootComp.onActionComplete(requestId, obj)\n    //   return\n    // }\n\n    // super.onSdkSuccessResponse(requestId, data, closeApp)\n  }\n\n  async onSdkFailureResponse(requestId: number, data: object, uiError: object, \n                             closeApp: boolean = true) {\n\n    // if (this.sdkType === SDK_TYPE.WEB || this.sdkType === SDK_TYPE.CORDOVA) {\n    //   const obj : ActCompInterface = {\n    //     code : ActCompInterfaceCode.FAILURE,\n    //     data : uiError\n    //   }\n\n    //   const rootComp = <SdkRootComponent>this.rc.uiRouter.getRoot()\n    //   rootComp.onActionComplete(requestId, obj)\n    //   return\n    // }\n\n    // super.onSdkFailureResponse(requestId, data, uiError, closeApp)\n  }\n}\n\nclass CordovaAsyncRequest {\n      \n  promise         : Promise<object>\n  resolve         : (object) => void\n  reject          : () => void\n\n  constructor(public requestId : number) {\n\n    this.promise    = new Promise((resolve, reject) => {\n      this.resolve  = resolve\n      this.reject   = reject\n    })\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : <Write about the file here>\n   \n   Created on : Sat Apr 22 2017\n   Author     : Raghvendra Varma\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { XmnRouterBrowser }                   from '../xmn'\nimport { WIRE_TYPE, \n         WireObject, \n         XmnError,\n         LOG_LEVEL,\n         CustomData,\n         ConnectionInfo\n       }                                      from '@mubble/core'\nimport { GcCategory, \n         GcKey, \n         SessionGC\n       }                                      from './constants'\nimport { RunContextBrowser }                  from '../rc-browser'\n\n\nexport class MuRouterApp extends XmnRouterBrowser {\n\n  private userLoggedIn      : boolean\n  private isSessionTimedout : boolean\n\n  constructor(rc: RunContextBrowser, serverUrl: string, ci: ConnectionInfo, pubKey : string, encIV:Uint8Array ) {\n\n    super(rc, serverUrl, ci, pubKey, encIV)\n    \n    rc.setupLogger(this, 'RouterApp', LOG_LEVEL.DEBUG)\n\n  }\n\n  getNetworkType(rc: RunContextBrowser): string {\n    return rc.utils.getNetworkType(rc) \n  }\n\n  getLocation(rc: RunContextBrowser): string {\n    return rc.utils.getLocation(rc)\n  }\n\n  getMaxOpenSecs(): number {\n    return 100\n  }\n\n  getCustomData(rc: RunContextBrowser) : CustomData {\n    return {} as CustomData\n  }\n\n  canStrtLastReqTimer() {\n    return this.userLoggedIn\n  }\n\n  runAlwaysAsSecure(rc: RunContextBrowser): boolean {\n    return false\n  }\n\n  async getSessionTimeOutSecs(rc : RunContextBrowser) {\n    const gcConfig  = await rc.gcConfigKeyVal.getConfig(GcCategory.Session, GcKey.GeneralConfig) as any,\n          sessionGc = Object.assign({}, gcConfig) as SessionGC\n\n    return rc.getGlobalLogLevel() === LOG_LEVEL.DEBUG ?  20000 : sessionGc.fgTimeoutSec\n  }\n\n  sessionTimedOut(rc : RunContextBrowser) {\n    rc.isStatus() && rc.status(rc.getName(this), `session timed out.`)\n    this.isSessionTimedout  = true\n  }\n\n  async updateCustomData(rc: RunContextBrowser, inp: CustomData) {\n\n  }\n\n  async prepareConnection(rc: RunContextBrowser) {\n\n    if (rc.bridge.isRunningInBrowser()) super.prepareConnection(rc)\n    else                            await rc.bridge.prepareConnection()\n  }\n\n/*==============================================================================\n                            API CALLS\n===============================================================================*/\n\n  // Never throws\n  async sendRequest(rc: RunContextBrowser, api: string, params: object): Promise <object>  {\n\n    if (!api || !params) throw new Error(`Invalid argument for sendRequest api: ${api} params: ${params}`)\n\n    if (rc.utils.isNetworkUnhealthy(rc)) {\n      const error = {\n        errorCode : XmnError.NetworkNotPresent\n      }\n\n      return error\n    }\n\n    if (rc.bridge.isRunningInBrowser()) {\n\n      if (this.isSessionTimedout) {\n        location.reload()\n      }\n\n      const resp = await this.sendBrowserRequest(rc, api, params)\n\n      if (rc.utils.isOfTypeUiError(resp) && resp['errorCode'] === XmnError._ConnectionExpired) {\n        return await this.sendRequest(rc, api, params)\n      } else {\n        return resp\n      }\n  \n    } else {\n      const resp = await rc.bridge.sendRouterRequest(api, params)\n      if (resp.errorCode) {\n        const error = {\n          errorCode : resp.errorCode,\n          errorMessage : resp.errorMessage\n        }\n        return error as any\n      \n      }\n      if (resp.events) await this.handleCordovaRouterEvents(rc, resp.events)\n      return resp.data\n    }\n  }\n\n  // async startSession(rc: RunContextBrowser, reset: boolean): Promise<string> {\n\n  //   return rc.bridge.isRunningInBrowser() \n  //     ? await this.startBrowserSession(rc) \n  //     : await this.startCordovaSession(rc, reset)\n  // }\n\n\n  // private async startBrowserSession(rc: RunContextBrowser): Promise<string> {\n\n  //   const req : StartSession.params = {\n  //     fcmId     : rc.bridge.getFcmId(), \n  //     adId      : rc.bridge.getAdId(),\n  //     psuedoId  : rc.bridge.getPseudoId(),\n  //     referrer  : rc.bridge.getReferrerParams()\n  //   }\n\n  //   const resp: StartSession.retval | UiError = await this.sendRequest(rc, \n  //       StartSession.name, req) as (StartSession.retval | UiError)\n    \n  //   if (rc.utils.isOfTypeUiError(resp)) throw new Error(resp.errorCode)\n\n  //   await this.onNcInstanceId(rc, resp.clientId, resp.appSettings, resp.settingsMd5)\n  //   return resp.navUrl\n  // }\n\n  // private async startCordovaSession(rc: RunContextBrowser, reset: boolean): Promise<string> {\n\n  //   const resp = reset ? await rc.bridge.recreateSession() \n  //                      : await rc.bridge.getSessionInfo()\n\n  //   if (resp.errorCode) {\n  //     rc.isDebug() && rc.debug(rc.getName(this), `Got error in startCordovaSession`)\n  //     throw new Error(resp.errorCode)\n  //   }\n\n  //   if (resp.events) await this.handleCordovaRouterEvents(rc, resp.events)\n\n  //   const retval = resp.data as StartSession.retval\n  //   await this.onNcInstanceId(rc, retval.clientId, retval.appSettings, retval.settingsMd5)\n  //   return retval.navUrl\n  // }\n\n/*==============================================================================\n                            EVENTS\n===============================================================================*/\n\n  public sendEvent(rc: RunContextBrowser, name: string, params: object, ephemeral: boolean) {\n\n    if (!rc.bridge.isRunningInBrowser()) {\n      rc.bridge.sendRouterEvent(name, params, ephemeral)\n      return\n    }\n\n    if (ephemeral) {\n      this.sendEphemeralEvent(rc, name, params)\n    } else {\n      this.sendPersistentEvent(rc, name, params)\n    }\n  }\n\n\n/*==============================================================================\n                            MEMBER FUNCTIONS\n===============================================================================*/\n\n  protected async handleCordovaRouterEvents(rc: RunContextBrowser ,events: Array<JSON>) {\n\n    while(events.length) {\n      const event = events.shift() as any as WireObject\n      // Do not pass sys events to xmn-router-browser\n      if (event.type === WIRE_TYPE.SYS_EVENT) {\n        rc.isAssert() && rc.assert(rc.getName(this), `Platform should handle SysEvents on its own`)\n      } else {\n        await this.providerMessage(rc, [WireObject.getWireObject(event)])\n      }\n    }\n  }\n\n\n  protected async sendBrowserRequest(rc: RunContextBrowser, api: string, params: object): Promise <object> {\n    \n    return await super.sendRequest(rc, api, params)\n    .catch(err => {\n        const error = {\n          errorCode     : err.code || err.message,\n          errorMessage  : err.message || ''\n        }\n        return error\n      })\n  }\n\n\n}\n","export const ANALYTICS_EVENT = {\n  APP_LAUNCH        : 'appLaunch',\n  APP_SHARE         : 'appShare',\n}\n\nexport const ANALYTICS_EVENT_PARAMS = {\n\n  SCREEN                : 'screen',\n  ACTION                : 'action',\n  SCREEN_STATE          : 'screenState',\n  SCREEN_STATE_ERROR    : 'error',\n  SCREEN_STATE_SUCCESS  : 'success',\n  SCREEN_STATE_NO_DATA  : 'noData',\n  BTN_RETRY_ERR         : 'retryErr'\n}\n","/*------------------------------------------------------------------------------\n   About      : Transient screen level analytics data storage\n   \n   Created on : Sat Nov 03 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { RunContextBrowser }                            from '../../rc-browser'\nimport { DIRECTION }                                    from '../../ui'\n\nexport class AnalyticsScreenInfo {\n\n  private invocationTs        : number\n  private navMode             : string\n  private modal               : boolean = false\n  private eventData           : JSON = <JSON> { }\n\n  constructor(private rc: RunContextBrowser, private screenName: string, \n      private invocationSource: string, navMode?: string, modal?: boolean) {\n\n    rc.setupLogger(this, 'AnalyticsScreenInfo')\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      'Creating new AnalyticsScreen State:', screenName, 'Invocation:', \n      invocationSource)\n    \n    this.invocationTs       = Date.now()\n    this.navMode            = navMode !== undefined ? navMode : 'unknown'\n    this.modal              = modal\n  }\n\n  getInvocationSource(): string { return this.invocationSource }\n\n  getScreenName(): string { return this.screenName }\n  \n  onScreenDestroy() {\n\n    let eventName               = this.modal ? 'mod_' : ''\n    eventName                  += this.screenName + '_screen'\n    this.eventData['from']      = this.invocationSource\n    this.eventData['inv_ts']    = this.invocationTs,\n    this.eventData['stay_time'] = Date.now() - this.invocationTs\n    this.eventData['nav_mode']  = this.navMode\n\n    this.rc.userEvent.logEvent(eventName, this.eventData)\n  }\n\n  setScreenState(stateName: string, stateValue: number | string) {\n    this.eventData[stateName] = stateValue\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      `Screen state: ${stateName}, value: ${stateValue}`)\n  }\n\n  setScreenAction(actionName: string) {\n    \n    if (this.eventData.hasOwnProperty(actionName)) {\n      let count: number = this.eventData[actionName]\n      this.eventData[actionName] = ++count\n    } else {\n      this.eventData[actionName] = 1\n    }\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      'Screen Action:', actionName, 'Count: ', this.eventData[actionName])\n  }\n\n  setScreenActionScroll(direction: DIRECTION) {\n\n    switch(direction) {\n\n      case DIRECTION.LEFT:\n        this.eventData['scrollLeft'] = 1\n        break\n\n      case DIRECTION.UP:\n        this.eventData['scrollUp'] = 1\n        break\n        \n      case DIRECTION.RIGHT:\n        this.eventData['scrollRight'] = 1\n        break\n        \n      case DIRECTION.DOWN:\n        this.eventData['scrollDown'] = 1\n        break\n    }\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), 'Screen Scroll:', direction)\n  }\n}\n","/*------------------------------------------------------------------------------\n   About      : Analytics event logger / data bridge with native.\n   \n   Created on : Tue Jul 25 2017\n   Author     : Sid\n   \n   Copyright (c) 2017 Mubble Networks Private Limited. All rights reserved.\n------------------------------------------------------------------------------*/\nimport { EventSystem, \n         EVENT_PREFIX \n       }                                              from '../../util'\nimport { ANALYTICS_EVENT, \n         ANALYTICS_EVENT_PARAMS \n       }                                              from './analytics-event'\nimport { RunContextBrowser }                          from '../../rc-browser'\n\nconst _EVENT_PREFIX = EVENT_PREFIX + '-'\n\nconst MAX_LOG_NAME_SIZE   = 32\nconst MAX_KEY_NAME_SIZE   = 24\nconst MAX_VALUE_NAME_SIZE = 36\n\nconst USER_PROPERTIES = {\n  USER_LINK_ID        : 'user_link_id',\n  EMAIL_ID            : 'email_id',\n  APP_LANG            : 'app_lng'\n}\n\nexport class AnalyticsEventLogger {\n\n  private allowLogging  : boolean\n\n  constructor(protected rc: RunContextBrowser) {\n\n    this.allowLogging = false\n    if (this.rc.userKeyVal.clientId) this.initLogging()\n  }\n\n  initLogging() {\n\n    this.allowLogging = true\n      \n    this.setUserId(this.rc.userKeyVal.clientId)\n    this.setAllUserProperties()\n    this.sendSessionEvents()\n    \n    // EventSystem.subscribeAll([\n    //   APP_UI_EVENT.UPDATE_USER_EMAIL] , this.handleEvent.bind(this))\n  }\n\n  private handleEvent(eventName: string) {\n\n    switch(eventName) {\n\n      // case _EVENT_PREFIX + APP_UI_EVENT.UPDATE_USER_EMAIL:\n      //   this.setUserProperty(USER_PROPERTIES.EMAIL_ID, this.rc.userKeyVal.emailId)\n      //   break\n    }\n  }\n\n  private setAllUserProperties() {\n    \n\n    if (this.rc.userKeyVal.userLinkId) {\n      this.setUserProperty(USER_PROPERTIES.USER_LINK_ID, this.rc.userKeyVal.userLinkId)\n      // this.setUserProperty(USER_PROPERTIES.EMAIL_ID, this.rc.userKeyVal.emailId)\n    }\n  }\n\n  private sendSessionEvents() {\n    // Sending app launch session event\n    this.logEvent(ANALYTICS_EVENT.APP_LAUNCH, null)\n  }\n\n  private setUserId(userId: number) {\n\n    if (!this.allowLogging || !userId) return\n    \n    this.rc.isStatus() && this.rc.status(this.rc.getName(this), 'Firebase userId: ', userId)  \n    this.rc.bridge.setUserId(userId)\n  }\n\n  private setUserProperty(propName: string, value: string) {\n    \n    if (!this.allowLogging) return\n\n    const valid: boolean = propName != null && propName.length > 0 && \n        propName.length <= MAX_KEY_NAME_SIZE && value != null && \n        value.length > 0 && value.length <= MAX_VALUE_NAME_SIZE\n\n    if (!valid) {\n      this.rc.isWarn() && this.rc.warn('NcFirebase', \n        'Invalid Firebase User Property:', propName, value)\n      return\n    }\n\n    this.rc.isStatus() && this.rc.status(this.rc.getName(this), \n      'Firebase userProperty:: Name: ', propName, 'Value: ', value)\n      this.rc.bridge.setUserProperty(propName, value)\n  }\n\n  logAppShare(routeName: string, sharePkg: string) {\n\n    const eventData: JSON = <JSON>{}\n    eventData[ANALYTICS_EVENT_PARAMS.SCREEN]    = routeName\n    this.logEvent(ANALYTICS_EVENT.APP_SHARE, eventData)\n  }\n\n  logEvent(eventName: string, eventData: object) {\n\n    if (!this.allowLogging) {\n      this.rc.isStatus() && this.rc.status(this.rc.getName(this), \n        'Cannot send Firebase event, Allow logging false')\n      return\n    }\n\n    this.logPublicEvent(eventName, eventData)\n  }\n\n  logPublicEvent(eventName: string, eventData: object) {\n\n    if (eventName == null || eventName.length === 0 || eventName.length >= MAX_LOG_NAME_SIZE) {\n      this.rc.isWarn() && this.rc.warn('NcFirebase', \n        'Firebase eventName invalid: empty OR length > 32 characters, exiting...')\n      return\n    }\n\n    eventData = this.checkNValidateBundle(eventData)\n\n    this.rc.isStatus() && this.rc.status('NcFirebase', \n      'Logging Firebase event:', eventName, JSON.stringify(eventData))\n      this.rc.bridge.logEvent(eventName, JSON.stringify(eventData))\n  }\n\n  private checkNValidateBundle(bundle: object): JSON {\n\n    if (bundle === null) return <JSON>{}\n\n    let eventData = <JSON>{}\n    \n    for (let key in bundle) {\n      const val              : any      = bundle[key]\n      const inValidKey       : boolean  = key !== this.validKey(key)\n      const inValidValue     : boolean  = typeof(val) === 'string' && val !== this.validStringValue(String(val))\n      const inValidValueType : boolean  = !(typeof(val) === 'string' || typeof(val) === 'number') \n\n      if (inValidKey || inValidValue || inValidValueType) {\n        const objVal = inValidKey ? key : String(val);\n        this.rc.isWarn() && this.rc.warn('NcFirebase', \n          'Invalid key : value pair inside event:', objVal, inValidValue, inValidValueType)\n      } else {\n        eventData[key] = bundle[key]\n      }\n    }\n    return eventData\n  }\n\n  private validKey(key: string): string {\n\n    if (key.length > 0 && key.length <= MAX_KEY_NAME_SIZE) return key\n    this.rc.isWarn() && this.rc.warn('NcFirebase', \n      'FireBase Key length is 0 || > 24 Characters...')\n    return key.substring(0, MAX_KEY_NAME_SIZE)\n  }\n\n  private validStringValue(value: string): string {\n\n    if (value.length > 0 && value.length <= MAX_VALUE_NAME_SIZE) return value;\n    this.rc.isWarn() && this.rc.warn('NcFirebase', \n      'FireBase Value length is 0 || > 36 Characters...')\n    return value.substring(0, MAX_VALUE_NAME_SIZE);\n  }\n\n}","/*------------------------------------------------------------------------------\n   About      : Class responsible for creation, manitenance and destruction of \n                screen state for analytics in between navigationd from any one \n                router-outlet to another.\n\n   Created on : Sat Nov 03 2018\n   Author     : Sid\n\n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { RunContextBrowser }                      from '../../rc-browser'\nimport { AnalyticsScreenInfo }                from './analytics-screen-info'\nimport { NavMethod, \n         DIRECTION, \n         OUTLET, \n         MODAL_OUTLET\n       }                                      from '../../ui'\nimport { EventSystem }                        from '../../util'\nimport { LOG_LEVEL }                          from '@mubble/core'\n\nconst NavMode = {\n  Launch  : 'page_launch',\n  Next    : 'page_next',\n  Back    : 'page_back',\n  Dialog  : 'page_dialog'\n}\n\nconst INVOCATION_LAUNCH   = 'launch'\nconst INVOCATION_RELAUNCH = 'relaunch'\n\nexport class AnalyticsScreenManager {\n\n  private currScreenState     : AnalyticsScreenInfo\n  private currModalState      : AnalyticsScreenInfo\n\n  private currTabScreenState  : AnalyticsScreenInfo\n  private currTabRoutes       : string[]\n\n  private lastModalName       : string\n  private lastTabSceenName    : string\n  private lastScreenName      : string\n\n  private pendingTabActions = {}\n  private pendingTabStates  = {}\n\n  constructor(private rc: RunContextBrowser) {\n\n    rc.setupLogger(this, 'AnalyticsScreenManager')\n    this.lastScreenName = ''\n    this.currModalState = null\n\n    // EventSystem.subscribe(APP_UI_EVENT.CORDOVA_SCREEN_PAUSE, this.onScreenPause.bind(this))\n    // EventSystem.subscribe(APP_UI_EVENT.CORDOVA_SCREEN_RESUME, this.onScreenResume.bind(this))\n    if (rc.getGlobalLogLevel() === LOG_LEVEL.DEBUG)  window['screenmanager'] = this\n  }\n\n  getCurrentScreenName(): string {\n\n    return this.currModalState != null ? this.currModalState.getScreenName()\n                                       : this.currScreenState.getScreenName()\n  }\n\n  onNavEnd(eventUrl: string, outlet: OUTLET, lastNavMethod: NavMethod) {\n\n    this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n      'Inside onNavEnd', eventUrl, lastNavMethod)\n\n    let screenName: string\n\n    if (eventUrl.startsWith('/')) {\n      screenName = this.getFbaseScreenName(eventUrl.substring(1))\n      this.rc.isStatus() && this.rc.status(this.rc.getName(this), \n        'Found screenName: ', screenName)\n    }\n\n    if (this.lastScreenName === screenName) {\n      // Same page is invoked but with diff query params..add stay time\n      this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n        'Same page invoked, Ignoring...')\n\n      if (this.currModalState) {\n        this.currModalState.onScreenDestroy()\n        this.currModalState = null\n      }\n      return\n    }\n\n    // Handling modal outlet\n    if (outlet === MODAL_OUTLET) {\n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n        this.currModalState === null, 'Already tracking a modal...')\n\n      let modalName: string = eventUrl.match(/.*=\\((.*)\\)/)[1]\n      modalName = this.getFbaseScreenName(modalName)\n      \n      this.currModalState = new AnalyticsScreenInfo(this.rc, modalName, \n        this.currScreenState.getScreenName(), NavMode.Dialog, true)\n      \n      this.lastModalName = eventUrl\n      return\n\n    } else if (this.currModalState) {\n      this.currModalState.onScreenDestroy()\n      this.currModalState = null\n    }\n\n    let navMode : string \n    let invSrc  : string\n\n    if (this.currScreenState) {\n      this.currScreenState.onScreenDestroy()\n      navMode = lastNavMethod === NavMethod.POP ? NavMode.Back : NavMode.Next\n      invSrc  = this.currTabScreenState ? this.currTabScreenState.getScreenName() \n                                        : this.currScreenState.getScreenName()\n    } else {\n      navMode = NavMode.Launch\n      invSrc  = INVOCATION_LAUNCH\n    }\n\n    this.currScreenState = new AnalyticsScreenInfo(this.rc, screenName, invSrc, navMode)\n    this.lastScreenName = screenName\n  }\n\n  setCurrentTabRoutes(tabRoutes: string[]) {\n    this.currTabRoutes = tabRoutes\n  }\n\n  onTabNavEnd(currScreenName : string, tabIndex : number) {\n\n    const tabScreenName = this.getFbaseScreenName(currScreenName)\n\n    if (this.currTabScreenState)  this.currTabScreenState.onScreenDestroy()\n\n    this.lastTabSceenName   = this.currTabRoutes[tabIndex]\n    const invSource         = this.currTabScreenState ? this.currTabScreenState.getScreenName() \n                                                      : INVOCATION_LAUNCH\n    this.currTabScreenState = new AnalyticsScreenInfo(this.rc, tabScreenName, invSource)\n\n    this.digestPendingTabScreen(tabIndex)\n  }\n\n  onTabDestroy() {\n    this.currTabScreenState.onScreenDestroy()\n    this.currTabScreenState = null\n  }\n\n  logScreenActionScroll(screenName: string, direction: DIRECTION) {\n    \n    screenName = this.getFbaseScreenName(screenName)\n\n    if (this.currModalState && this.currModalState.getScreenName() === screenName) {\n      this.currModalState.setScreenActionScroll(direction)\n    } else {\n      this.currScreenState.setScreenActionScroll(direction)\n    }\n  }\n\n  logScreenAction(screenName: string, actionName: string) {\n\n    screenName = this.getFbaseScreenName(screenName)\n\n    if (this.currModalState && this.currModalState.getScreenName() === screenName) {\n      this.currModalState.setScreenAction(actionName)\n\n    } else if (this.currScreenState.getScreenName() === screenName) {\n      this.currScreenState.setScreenAction(actionName)\n\n    } else if (this.currTabRoutes) {\n      this.onTabScreenAction(screenName, actionName)\n\n    } else {\n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), false, \n        'Invalid screen action', screenName, actionName, 'Expected screen', this.currScreenState.getScreenName())\n    }\n  }\n\n  logScreenState(screenName: string, stateName: string, stateValue: number | string) {\n\n    screenName = this.getFbaseScreenName(screenName)\n    \n    if (this.currModalState && this.currModalState.getScreenName() === screenName) {\n      this.currModalState.setScreenState(stateName, stateValue)\n\n    } else if (this.currScreenState.getScreenName() === screenName) {\n      this.currScreenState.setScreenState(stateName, stateValue)\n    \n    } else if (this.currTabRoutes) {\n      this.onTabScreenState(screenName, stateName, stateValue)\n    } else {\n      this.rc.isError() && this.rc.error(this.rc.getName(this), \n      `Invalid screen state', ${screenName}, ${stateName}, 'Expected screen name ', ${this.currScreenState.getScreenName()}`)\n    }\n  }\n\n  private onTabScreenAction(screenName: string, actionName: string) {\n\n    if (this.lastTabSceenName === screenName && this.currTabScreenState) {\n      this.currTabScreenState.setScreenAction(actionName)\n\n    } else {\n\n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n      this.currTabRoutes.indexOf(screenName) !== -1, \n      `invalid tab screen name ${screenName} ${actionName}`)\n\n      let actions: string[] = this.pendingTabActions[screenName]\n      if (!actions) actions = []\n      actions.push(actionName)\n      this.pendingTabActions[screenName] = actions\n    }\n  }\n\n  private onTabScreenState(screenName: string, stateName: string, stateValue: number | string) {\n\n    if (this.lastTabSceenName === screenName && this.currTabScreenState) {\n      this.currTabScreenState.setScreenState(stateName, stateValue)\n\n    } else {\n\n      this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n      this.currTabRoutes.indexOf(screenName) !== -1, \n      `invalid tab screen name ${screenName} ${stateName}`)\n\n      let routeTabState = this.pendingTabStates[screenName]\n      if (!routeTabState) routeTabState = {}\n      routeTabState[stateName] = stateValue\n      this.pendingTabStates[screenName] = routeTabState\n    }\n  }\n\n  private digestPendingTabScreen(tabIndex: number) {\n\n    const currScreenName  = this.currTabRoutes[tabIndex]\n    // Digest route Actions\n    const actions: string[] = this.pendingTabActions[currScreenName]\n    if (actions) {\n      actions.forEach(action => {\n        this.currTabScreenState.setScreenAction(action)\n      })\n      this.pendingTabActions[currScreenName] = []\n    }\n    \n    // Digest route States\n    const states = this.pendingTabStates[currScreenName]\n    if (states) {\n      for (let key in states) {\n        this.currTabScreenState.setScreenState(key, states[key])\n      }\n      this.pendingTabStates[currScreenName] = {}\n    }\n  }\n\n  onScreenPause() {\n\n    if (this.currModalState) this.currModalState.onScreenDestroy()\n    if (this.currTabScreenState) this.currTabScreenState.onScreenDestroy()\n    this.currScreenState.onScreenDestroy()\n  }\n\n  private onScreenResume() {\n\n    if (this.currModalState) this.currModalState = new AnalyticsScreenInfo(this.rc, \n        this.currModalState.getScreenName(), this.currModalState.getInvocationSource(), \n        INVOCATION_RELAUNCH, true)\n\n    if (this.currTabScreenState) this.currTabScreenState = new AnalyticsScreenInfo(this.rc, \n      this.currTabScreenState.getScreenName(), this.currTabScreenState.getInvocationSource(), \n      INVOCATION_RELAUNCH)\n\n    this.currScreenState = new AnalyticsScreenInfo(this.rc, this.currScreenState.getScreenName(), \n        this.currScreenState.getInvocationSource(), INVOCATION_RELAUNCH)\n  }\n\n  private getFbaseScreenName(url: string) {\n\n    let screenName\n    const paramIdx = url.indexOf('?')\n    screenName = url.substring(0, paramIdx > 0 ? paramIdx : url.length).replace('%2F', '/')\n    \n    const moduleIdx = screenName.indexOf('/')\n    if (moduleIdx !== -1) screenName = screenName.substring(moduleIdx + 1, screenName.length)\n\n    return screenName\n  }\n}","/*------------------------------------------------------------------------------\n   About      : UI router BaseApp app specific implementation \n   \n   Created on : Sat Nov 03 2018\n   Author     : Sid\n   \n   Copyright (c) 2018 Obopay. All rights reserved.\n------------------------------------------------------------------------------*/\n\nimport { Injectable, Inject }       from '@angular/core'\nimport { Router }                   from '@angular/router'\nimport { UiRouter, \n         TranslateService,\n         TOAST_POSITION, \n         DIRECTION,\n         TrackableScreen,\n         NcNavigationExtras\n       }                            from '../../ui'\nimport { Mubble, \n         LOG_LEVEL \n       }                            from '@mubble/core'\nimport { RunContextBrowser }        from '../../rc-browser'\nimport { AnalyticsScreenManager }   from '../analytics'\nimport { HashidParams }             from '../constants'\n\nexport interface RoutingInfo {\n  routeTo     : string\n  queryParams : Mubble.uObject<any>\n  hostName    : string\n}\n\n@Injectable()\nexport class MuUiRouter extends UiRouter {\n\n  // helper for ui framework\n  analyticsScreenMgr    : AnalyticsScreenManager\n  protected appProtocol : string\n  protected appHost     : string\n\n\n  constructor(@Inject('RunContext') protected rc  : RunContextBrowser,\n              router                              : Router,\n              protected translate                 : TranslateService) {\n\n    super(rc, router)\n\n    rc.setupLogger(this, 'AppUiRouter', LOG_LEVEL.DEBUG)\n    \n    if (rc.getGlobalLogLevel() === LOG_LEVEL.DEBUG) {\n      window['uiRouter']  = this\n    }\n\n    rc.uiRouter             = this\n    this.analyticsScreenMgr = new AnalyticsScreenManager(rc)\n  }\n\n  setAppProtoAndHost(appProtocol : string, appHost  : string) {\n\n    this.appHost      = appHost\n    this.appProtocol  = appProtocol\n  }\n\n  public showToast(toastMessage: string, stay ?: boolean, position ?: TOAST_POSITION) {\n    \n  }\n\n  public showOverlay(overlayText: string = this.translate.instant('cmn_loading')) {\n  //   this.rootComp.showOverlay(overlayText)\n  }\n\n  public removeOverlay() {\n    // this.rootComp.removeOverlay()\n  }\n\n  /**\n   * Parse URL of the form route?params\n   */\n  getRoutingInfoForNavUrl(navUrl : string) {\n\n    navUrl = `${this.appProtocol}://${this.appHost}/` + navUrl\n    return this.getRoutingInfo(navUrl)\n  }\n\n  /**\n   * Parse URL of the form protocol://host/route?params\n   */\n  getRoutingInfo(directLink : string) {\n\n    const dlObj = this.rc.utils.parseURLForRouter(directLink)\n\n    const routingInfo : RoutingInfo = {\n      routeTo     : dlObj.pathname,\n      queryParams : dlObj.searchObject || {},\n      hostName    : dlObj.hostname\n    }\n\n    if (routingInfo.queryParams[HashidParams.LogLevel]) {\n      const logLevel = Number(routingInfo.queryParams[HashidParams.LogLevel])\n      if (this.rc.globalKeyVal.logLevel !== logLevel && logLevel === LOG_LEVEL.DEBUG) {\n        this.rc.bridge.enableDebug()\n      }\n    }\n\n    return routingInfo\n  }\n\n  navigateByDirectLink(directLink : string, ncExtracs ?: NcNavigationExtras) {\n\n    const routingInfo = this.getRoutingInfoForNavUrl(directLink)\n    \n    ncExtracs = ncExtracs || {}\n    \n    const params : NcNavigationExtras  = {\n      queryParams : routingInfo.queryParams\n    }\n\n    for (const key in ncExtracs)  {\n      if (!params[key]) {\n        params[key] = ncExtracs[key]\n      }\n    }\n    \n\n    this.navigate(routingInfo.routeTo, params)\n  }\n\n  // navigateForInfo(screen: TrackableScreen, navInfo: NavInfo, ncExtras ?: NcNavigationExtras) {\n\n  //   if (!navInfo) return\n\n  //   this.rc.isAssert() && this.rc.assert(this.rc.getName(this), \n  //     navInfo.navUrl && navInfo.logName, `missing navUrl or logName \n  //     ${navInfo.logName}, ${navInfo.navUrl}`)\n\n  //   this.rc.isDebug() && this.rc.debug(this.rc.getName(this), \n  //     `Came to navigate: LogName-${navInfo.logName}, Url-${navInfo.navUrl}`)\n\n  //   this.logScreenAction(screen, navInfo.logName)\n  //   this.navigateByDirectLink(navInfo.navUrl, ncExtras)\n  // }\n  /*--------------------------------------------------------------------------------------------------------------\n    History Stack management\n  --------------------------------------------------------------------------------------------------------------*/\n  onDeviceBack() {\n\n    this.rc.isStatus() && this.rc.status(this.rc.getName(this),'Device back')\n\n    window.setTimeout(() => {\n      if (this.urlStack.length === 1) {\n        if (this.warnedUser) {\n          this.analyticsScreenMgr.logScreenAction(this.analyticsScreenMgr.getCurrentScreenName(), 'close_app')\n          this.notifyAppClose()\n        } else {\n          this.showToast(this.translate.instant('cmn_press_back'))\n          this.warnedUser = true\n        }\n      } else {\n        this.analyticsScreenMgr.logScreenAction(this.analyticsScreenMgr.getCurrentScreenName(), 'sys_back')\n        this.goBack()\n      }\n    }, 0)\n  }\n\n\n\n  setCurrentTabRoutes(tabRoutes: string[]) {\n    this.analyticsScreenMgr.setCurrentTabRoutes(tabRoutes)\n  }\n\n  onTabNavEnd(currScreenName : string, currentIndex : number) {\n    this.analyticsScreenMgr.onTabNavEnd(currScreenName, currentIndex)\n  }\n\n  onTabDestroy() {\n    this.analyticsScreenMgr.onTabDestroy()\n  }\n\n  logScreenActionScroll(screen: TrackableScreen, direction: DIRECTION) {\n    this.analyticsScreenMgr.logScreenActionScroll(screen.getRouteName(), direction)\n  }\n\n  logScreenAction(screen: TrackableScreen, actionName: string) {\n    this.analyticsScreenMgr.logScreenAction(screen.getRouteName(), actionName)\n  }\n\n  logScreenState(screen: TrackableScreen, stateName: string, stateValue: number | string) {\n    this.analyticsScreenMgr.logScreenState(screen.getRouteName(), stateName, stateValue)\n  }\n\n\n  \n  getRoot() {\n    return {\n\n      getBusinessId() {\n        return ''\n      },\n\n      onPayUResponse(data : object) {\n\n      },\n\n      handleError(e: Error) {\n        // YTODO - should implement handle error\n        this.rc.isStatus() && this.rc.status(this.rc.getName(this), `Came to handleError inside library: ${e}`)\n        // this.showError(e.message)\n        // this.showJS()\n      }\n      \n      \n    }\n  }\n\n}","\nexport const APP_UI_EVENT = {\n  USER_CARD_ACTIVATED       : 'user-card-activated',\n  YSE_RESPONSE              : 'yse-response'\n}\n","\nimport { RunContextBrowser, InitConfigBrowser, RunStateBrowser } from '../public-api';\n\n\n\n\nexport class RunContextJest extends RunContextBrowser {\n\n  constructor(initConfig: InitConfigBrowser, runState: RunStateBrowser, contextId?: string, contextName?: string) {\n    super(initConfig, runState, contextId, contextName)\n  }\n  copyConstruct(contextId?: string, contextName?: string) {\n    const newRc = new RunContextJest(this.initConfig, this.runState, contextId, contextName)\n    this.clone(newRc)\n    return newRc\n  }\n}\n"],"names":["InitConfig","QUICK_ANIM_MS","ROUTE_ANIM_MS","KEY_UP","BACKSPACE","NATIVE.IOS_PERM","NATIVE.ANDROID_PERM","NATIVE.BROWSER_PERM","NATIVE.LaunchContextMode","NATIVE.Permission"],"mappings":"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"}